webpackJsonp([1],{"/FO0":function(e,t,r){"use strict";var n=r("Xxa5"),a=r.n(n),o=r("exGp"),s=r.n(o),i=r("Q7hp"),c=r.n(i),u=r("NHnr");t.a={name:"Users",props:["organizations"],data:function(){return{users:[],usersFields:["userId","email","role","firstName","lastName","isActive"],selectedOrg:{name:"Organization"},selectAllUsers:!1}},computed:{},methods:{handleSelect:function(e){var t=this;if(!e)return this.selectAllUsers=!this.selectAllUsers,void this.users.forEach(function(e){e.selected=t.selectAllUsers});if(e&&(e.selected=!e.selected),this.users){-1===this.users.findIndex(function(e){return e.selected===t.selectAllUsers})&&(this.selectAllUsers=!this.selectAllUsers)}return e.selected},handleOrgChange:function(e){this.selectedOrg=e,this.loadOrgUsers(e)},loadOrgUsers:function(e){var t=this;return s()(a.a.mark(function r(){var n,o,s;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.$loading(!0),r.next=4,t.axios.get("/api/org/"+e.orgId+"/users");case 4:if(n=r.sent,o=c()(n,"data.success")){r.next=8;break}throw new Error("Unable to load user's organizations.");case 8:s=c()(n,"data.users"),s.forEach(function(e){e.selected=!1}),t.selectAllUsers=!1,t.users=s,r.next=17;break;case 14:return r.prev=14,r.t0=r.catch(0),r.abrupt("return",t.$errorMessage.show(r.t0));case 17:return r.prev=17,t.selectedOrg=e,t.$loading(!1),r.finish(17);case 21:case"end":return r.stop()}},r,t,[[0,14,17,21]])}))()},handleGrantAdmin:function(e){var t=this;return s()(a.a.mark(function e(){var r,n,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=t.users.filter(function(e){return!0===e.selected}).map(function(e){return e.userId}))<1)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,t.$loading(!0),e.next=7,t.axios.put("/api/org/"+t.selectedOrg.orgId+"/admin/grant",{usersId:r});case 7:if(n=e.sent,o=c()(n,"data.success")){e.next=11;break}throw new Error("Unable to grant administrative privileges to user(s)");case 11:t.$notify({group:"app",type:"success",text:"Administrator rights granted"}),t.loadOrgUsers(t.selectedOrg),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(3),e.abrupt("return",t.$errorMessage.show(e.t0));case 18:return e.prev=18,t.$loading(!1),e.finish(18);case 21:case"end":return e.stop()}},e,t,[[3,15,18,21]])}))()},handleRevokeAdmin:function(e){var t=this;return s()(a.a.mark(function e(){var r,n,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=t.users.filter(function(e){return!0===e.selected}).map(function(e){return e.userId}))<1)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,t.$loading(!0),e.next=7,t.axios.put("/api/org/"+t.selectedOrg.orgId+"/admin/revoke",{usersId:r});case 7:if(n=e.sent,o=c()(n,"data.success")){e.next=11;break}throw new Error("Unable to revoke administrative privileges from user(s)");case 11:t.$notify({group:"app",type:"success",text:"Administrator rights removed"}),t.loadOrgUsers(t.selectedOrg),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(3),e.abrupt("return",t.$errorMessage.show(e.t0));case 18:return e.prev=18,t.$loading(!1),e.finish(18);case 21:case"end":return e.stop()}},e,t,[[3,15,18,21]])}))()},handleRemoveFromOrganization:function(e){var t=this;return s()(a.a.mark(function e(){var r,n,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=t.users.filter(function(e){return!0===e.selected}).map(function(e){return e.userId}))<1)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,t.$loading(!0),e.next=7,t.axios.delete("/api/org/"+t.selectedOrg.orgId+"/users/remove",{usersId:r});case 7:if(n=e.sent,o=c()(n,"data.success")){e.next=11;break}throw new Error("Unable to delete users");case 11:t.$notify({group:"app",type:"success",text:"Selected user were removed from organization"}),t.users=t.users.filter(function(e){return-1===r.indexOf(e.userId)}),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(3),e.abrupt("return",t.$errorMessage.show(e.t0));case 18:return e.prev=18,u.eventBus.$emit("reload",{loadOrganization:!0}),t.$loading(!1),e.finish(18);case 22:case"end":return e.stop()}},e,t,[[3,15,18,22]])}))()}},components:{},watch:{}}},"/fE7":function(e,t,r){"use strict";var n=r("Xxa5"),a=r.n(n),o=r("exGp"),s=r.n(o),i=r("Q7hp"),c=r.n(i);t.a={name:"ResetPassword",mounted:function(){this.checkToken()},data:function(){return{message:"",showLoginButton:!1}},methods:{handlelogin:function(){this.$router.push({name:"account",params:{action:"login"}})},checkToken:function(){var e=this;return s()(a.a.mark(function t(){var r,n,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.$route.query.token){t.next=3;break}return t.abrupt("return");case 3:if(!r){t.next=26;break}return e.invited=!0,e.$loading(!0),t.prev=6,t.next=9,e.axios.get("api/account/verify",{params:{token:r}});case 9:if(n=t.sent,o=c()(n,"data.success"),e.message=c()(n,"data.message"),o){t.next=17;break}throw e.showLoginButton=!1,new Error(e.message);case 17:e.showLoginButton=!0;case 18:t.next=23;break;case 20:return t.prev=20,t.t0=t.catch(6),t.abrupt("return",e.$errorMessage.show(t.t0));case 23:return t.prev=23,e.$loading(!1),t.finish(23);case 26:case"end":return t.stop()}},t,e,[[6,20,23,26]])}))()}},props:{onChangeForm:Function}}},"0MVy":function(e,t,r){"use strict";function n(e){r("M+cb")}var a=r("2TT4"),o=r("IXiB"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},"0Qwy":function(e,t,r){"use strict";function n(e){r("rWdn")}var a=r("JmIY"),o=r("10BI"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},"1/oy":function(e,t){},"10BI":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"bugs"})},a=[],o={render:n,staticRenderFns:a};t.a=o},"147f":function(e,t){},"1QCM":function(e,t){},"2TT4":function(e,t,r){"use strict";var n=r("Xxa5"),a=r.n(n),o=r("exGp"),s=r.n(o),i=r("Q7hp"),c=r.n(i),u=r("L/hj");t.a={name:"Login",data:function(){return{form:{email:null,password:null}}},computed:{},methods:{submit:function(e){var t=this;return s()(a.a.mark(function n(){var o,s,i;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.prev=1,n.next=4,t.axios.post("/api/account/login",t.form);case 4:o=n.sent,s=c()(o,"data.token"),i=c()(o,"data.user"),r.i(u.b)(t,s,i),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),t.$errorMessage.show(n.t0);case 13:return n.prev=13,t.$loading(!1),n.finish(13);case 16:case"end":return n.stop()}},n,t,[[1,10,13,16]])}))()}},props:{onChangeForm:Function}}},"2czZ":function(e,t,r){"use strict";function n(e){r("iCah")}var a=r("d6UU"),o=r("QqVk"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},"5PmU":function(e,t,r){"use strict";function n(e){r("ealK")}var a=r("LiAu"),o=r("VKgJ"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},"706L":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"settings"},[r("b-tabs",[r("b-tab",{attrs:{title:"Profile"}},[r("profile",{attrs:{organizations:e.organizations}})],1),e._v(" "),r("b-tab",{attrs:{title:"Organization"}},[r("organization",{attrs:{organizations:e.organizations}})],1),e._v(" "),r("b-tab",{attrs:{title:"Users"}},[r("users",{attrs:{organizations:e.organizations}})],1)],1)],1)},a=[],o={render:n,staticRenderFns:a};t.a=o},"78O8":function(e,t){},"8JBj":function(e,t){},"8Jns":function(e,t){},"8uEU":function(e,t,r){"use strict";function n(e){r("8JBj")}var a=r("/FO0"),o=r("Bs+k"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},"9M+g":function(e,t){},AFF8:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-form",{staticClass:"verify",on:{submit:e.handlelogin}},[r("h1",{staticClass:"center"},[e._v(e._s(e.message))]),e._v(" "),!0===e.showLoginButton?r("div",{staticClass:"button-box center"},[r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Login")])],1):e._e()])},a=[],o={render:n,staticRenderFns:a};t.a=o},"Bs+k":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"users"},[r("b-dropdown",{attrs:{text:e.selectedOrg.name,size:"sm"}},e._l(e.organizations,function(t){return e.organizations?r("b-dropdown-item",{key:t.orgId,on:{click:function(r){e.handleOrgChange(t)}}},[e._v(e._s(t.name))]):e._e()})),e._v(" "),r("b-dropdown",{staticClass:"m-2",attrs:{id:"Actions",text:"Action",size:"sm"}},[r("b-dropdown-item",{attrs:{id:"granAdmin"},on:{click:function(t){e.handleGrantAdmin()}}},[e._v(" Grant admin ")]),e._v(" "),r("b-dropdown-item",{attrs:{id:"hevokeAdmin"},on:{click:function(t){e.handleRevokeAdmin()}}},[e._v(" Revoke admin ")]),e._v(" "),r("b-dropdown-item",{attrs:{id:"removeFromOrganization"},on:{click:function(t){e.handleRemoveFromOrganization()}}},[e._v(" Remove from org ")])],1),e._v(" "),[r("table",{staticClass:"table table-striped table-hover"},[r("thead",[r("tr",[r("th",[r("label",{staticClass:"form-checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectAllUsers,expression:"selectAllUsers"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selectAllUsers)?e._i(e.selectAllUsers,null)>-1:e.selectAllUsers},on:{click:function(t){e.handleSelect()},change:function(t){var r=e.selectAllUsers,n=t.target,a=!!n.checked;if(Array.isArray(r)){var o=e._i(r,null);n.checked?o<0&&(e.selectAllUsers=r.concat([null])):o>-1&&(e.selectAllUsers=r.slice(0,o).concat(r.slice(o+1)))}else e.selectAllUsers=a}}}),e._v(" "),r("i",{staticClass:"form-icon"})])]),e._v(" "),e._l(e.usersFields,function(t){return r("th",{key:t},[e._v(e._s(t))])})],2)]),e._v(" "),r("tbody",[e._l(e.users,function(t){return r("tr",{key:t.userId},[r("td",[r("label",{staticClass:"form-checkbox"},[r("input",{attrs:{type:"checkbox"},domProps:{checked:t.selected},on:{click:function(r){e.handleSelect(t)}}}),e._v(" "),r("i",{staticClass:"form-icon"})])]),e._v(" "),e._l(e.usersFields,function(n){return r("td",{key:n},[r("tr",[e._v(e._s(t[n]))])])})],2)}),e._v(" "),r("tr")],2)])]],2)},a=[],o={render:n,staticRenderFns:a};t.a=o},D5N1:function(e,t,r){"use strict";t.a={name:"Backlogs",data:function(){return{}},computed:{},methods:{},components:{}}},"Db+k":function(e,t,r){"use strict";function n(e){r("e9w/")}var a=r("rSe3"),o=r("Z/sc"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},E9oo:function(e,t,r){"use strict";function n(e){r("gL7S")}var a=r("TD0J"),o=r("XDeQ"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},F75X:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.$store.state.token?e._e():r("div",{staticClass:"account"},["login"===e.form?r("login",{attrs:{"on-change-form":e.changeForm}}):e._e(),e._v(" "),"forgot"===e.form?r("forgot-password",{attrs:{"on-change-form":e.changeForm}}):e._e(),e._v(" "),"register"===e.form||"invite"===e.form?r("register",{attrs:{"on-change-form":e.changeForm}}):e._e(),e._v(" "),"reset-password"===e.form?r("reset-password",{attrs:{"on-change-form":e.changeForm}}):e._e(),e._v(" "),"verify"===e.form?r("verify",{attrs:{"on-change-form":e.changeForm}}):e._e()],1)},a=[],o={render:n,staticRenderFns:a};t.a=o},F7tQ:function(e,t){},FWNy:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{id:"app"}},[e.$store.state.loading?r("div",{staticClass:"loading"},[r("div",{staticClass:"vue-loading-msg"},[e._v("Loading ...")])]):e._e(),e._v(" "),r("div",{staticClass:"notifications-container"},[r("notifications",{attrs:{group:"error",width:"500px",position:"bottom right"}}),e._v(" "),r("notifications",{attrs:{group:"app",width:"500px",position:"bottom right"}})],1),e._v(" "),e.$store.state.token?r("div",[r("topbar"),e._v(" "),r("b-container",{staticClass:"wrap"},[r("router-view")],1)],1):e._e(),e._v(" "),e.$store.state.token?e._e():r("account")],1)},a=[],o={render:n,staticRenderFns:a};t.a=o},Fs8J:function(e,t,r){"use strict";t.a={name:"",data:function(){return{}},computed:{},methods:{},components:{}}},GfHa:function(e,t){},IXiB:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-form",{staticClass:"login",on:{submit:e.submit}},[r("h2",{staticClass:"center"},[e._v("Welcome to")]),e._v(" "),r("h1",{staticClass:"center"},[e._v("PM415")]),e._v(" "),r("b-form-group",[r("b-form-input",{attrs:{type:"email",required:"",placeholder:"Email address"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),r("b-form-group",[r("b-form-input",{attrs:{type:"password",required:"",placeholder:"Password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),r("template",{slot:"description"},[r("a",{staticClass:"small float-right",attrs:{href:"#"},on:{click:function(t){e.onChangeForm&&e.onChangeForm("forgot")}}},[e._v("Forgot password?")])])],2),e._v(" "),r("div",{staticClass:"button-box center"},[r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Login")]),e._v(" "),r("a",{staticClass:"small",attrs:{href:"#"},on:{click:function(t){e.onChangeForm&&e.onChangeForm("register")}}},[e._v("Not registered?")])],1)],1)},a=[],o={render:n,staticRenderFns:a};t.a=o},IcnI:function(e,t,r){"use strict";var n=r("7+uW"),a=r("NYxO"),o=r("Q7hp"),s=r.n(o);n.default.use(a.a),t.a=new a.a.Store({struct:!0,state:{token:null,user:null,organization:{},loading:!0},mutations:{token:function(e,t){e.token=t.token},user:function(e,t){e.user=t.user;var r=s()(t,"user.organization")||s()(t,"user.organizations[0]");r&&(e.organization.id=r.id,e.organization.name=r.name)},organization:function(e,t){e.organization.name=t.name,e.organization.id=t.id},loading:function(e,t){e.loading=t.loading}},actions:{}})},Id91:function(e,t){},JZSy:function(e,t,r){"use strict";var n=r("Xxa5"),a=r.n(n),o=r("exGp"),s=r.n(o),i=r("Db+k"),c=r("5PmU"),u=r("8uEU"),l=r("Q7hp"),d=r.n(l),m=r("NHnr");t.a={name:"Settings",data:function(){return{organizations:[]}},mounted:function(){var e=this;return s()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadOrganizations();case 2:m.eventBus.$on("reload",function(t){!0===t.loadOrganization&&e.loadOrganizations()});case 3:case"end":return t.stop()}},t,e)}))()},methods:{loadOrganizations:function(){var e=this;return s()(a.a.mark(function t(){var r,n,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading(!0),t.prev=1,t.next=4,e.axios.get("/api/user/orgs");case 4:if(r=t.sent,n=d()(r,"data.success")){t.next=8;break}throw new Error("Unable to load user's organizations.");case 8:o=d()(r,"data.organizations"),o.forEach(function(e){e._rowVariant=""}),o.forEach(function(e){e.menuName=e.name,"Pending"===e.role&&(e.menuName=e.name+" (authorization pending)")}),e.organizations=o,t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(1),t.abrupt("return",e.$errorMessage.show(t.t0));case 17:return t.prev=17,e.$loading(!1),t.finish(17);case 20:case"end":return t.stop()}},t,e,[[1,14,17,20]])}))()}},components:{profile:i.a,organization:c.a,users:u.a}}},JmIY:function(e,t,r){"use strict";t.a={name:"Bugs",data:function(){return{}},computed:{},methods:{},components:{}}},"L/hj":function(e,t,r){"use strict";function n(e){e.$loading(!0),e.$store.commit({type:"user",user:null}),e.$store.commit({type:"token",token:null}),e.$store.commit({type:"organization",name:null,id:null}),r.i(u.a)()&&r.i(u.c)("token"),e.$loading(!1),e.$router.push({name:"account",params:{action:"login"}})}function a(e,t,a){e.$loading(!0),t?(r.i(u.a)()&&r.i(u.d)("token",t,{expires:"7D"}),a.organization&&e.$store.commit({type:"organization",name:a.organization.name,id:a.organization.id}),e.$store.commit({type:"token",token:t}),e.$store.commit({type:"user",user:a}),e.axios.defaults.headers.common.Authorization="Bearer "+t,e.$router.push({name:"home"})):n(e),e.$loading(!1)}t.a=n,t.b=a;var o=r("Xxa5"),s=r.n(o),i=r("exGp"),c=r.n(i),u=r("DWaH"),l=r("mtWM"),d=r.n(l),m=r("Q7hp"),p=r.n(m);!function(){var e=c()(s.a.mark(function e(t,r){var n,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$loading(!0),e.next=3,d.a.post("/api/account/forgotpassword",{email:r});case 3:if(n=e.sent,a=p()(n,"data.success"),o=p()(n,"data.message"),a){e.next=8;break}throw new Error(o);case 8:if(!a){e.next=10;break}throw new Error(o);case 10:t.$loading(!1),window.location.reload();case 12:case"end":return e.stop()}},e,this)}))}()},LR0Z:function(e,t,r){"use strict";var n=r("Q7hp"),a=r.n(n),o=r("0MVy"),s=r("E9oo"),i=r("2czZ"),c=r("pEqT"),u=r("mzM1");t.a={name:"Account",data:function(){return{form:"login",token:null}},mounted:function(){if(-1!==this.$route.path.indexOf("account/invite")&&this.$store.state.token)return void this.$router.push({name:"invite",query:this.$route.query});this.form=a()(this.$route,"params.action","login")},methods:{changeForm:function(e){this.$router.push({name:"account",params:{action:e}})}},watch:{$route:function(e,t){this.form=a()(e,"params.action","login","login")}},components:{login:o.a,"forgot-password":s.a,register:i.a,invite:i.a,"reset-password":c.a,verify:u.a}}},LiAu:function(e,t,r){"use strict";var n=r("Xxa5"),a=r.n(n),o=r("exGp"),s=r.n(o),i=r("Q7hp"),c=r.n(i),u=r("NHnr");t.a={name:"Organization",props:["organizations"],data:function(){return{organizationsFields:["orgId","name","role","actions"],newOrgName:""}},computed:{},methods:{modalId:function(e,t){return"modal-"+e+"-"+t},handleOrganizationNew:function(e){var t=this;return s()(a.a.mark(function r(){var n,o;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",t.$notify({group:"error",type:"err",text:"Empty new organization name field"}));case 2:return r.prev=2,r.next=5,t.axios.post("/api/org",{name:e});case 5:if(n=r.sent,o=c()(n,"data.success")){r.next=9;break}throw new Error("Unable to create new organization.");case 9:r.next=14;break;case 11:return r.prev=11,r.t0=r.catch(2),r.abrupt("return",t.$errorMessage.show(r.t0));case 14:return r.prev=14,t.newOrgName="",r.finish(14);case 17:u.eventBus.$emit("reload",{loadOrganization:!0});case 18:case"end":return r.stop()}},r,t,[[2,11,14,17]])}))()},handleOrganizationDelete:function(e){var t=this;return s()(a.a.mark(function r(){var n,o;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return!e||t.$store.state.user.id,r.prev=1,r.next=4,t.axios.delete("/api/org/"+e.orgId);case 4:if(n=r.sent,o=c()(n,"data.success")){r.next=8;break}throw new Error("Unable to create new organization.");case 8:r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",t.$errorMessage.show(r.t0));case 13:return r.prev=13,t.$notify({group:"app",type:"success",text:"Organization "+e.name+" was deleted"}),u.eventBus.$emit("reload",{loadOrganization:!0}),r.finish(13);case 17:case"end":return r.stop()}},r,t,[[1,10,13,17]])}))()},handleOrganizationEdit:function(e,t){var r=this;return s()(a.a.mark(function n(){var o,s;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return",r.$notify({group:"error",type:"err",text:"Empty organization name field"}));case 2:return n.prev=2,r.$loading(!0),n.next=6,r.axios.put("/api/org/"+e.orgId,{name:t});case 6:if(o=n.sent,s=c()(o,"data.success")){n.next=10;break}throw new Error("Unable to update organization.");case 10:r.$notify({group:"app",type:"success",text:"Organization updated"}),n.next=16;break;case 13:return n.prev=13,n.t0=n.catch(2),n.abrupt("return",r.$errorMessage.show(n.t0));case 16:return n.prev=16,r.$loading(!1),r.newOrgName="",u.eventBus.$emit("reload",{loadOrganization:!0}),n.finish(16);case 21:case"end":return n.stop()}},n,r,[[2,13,16,21]])}))()}},components:{}}},"M+cb":function(e,t){},M0YU:function(e,t,r){"use strict";function n(e){r("h8cQ")}var a=r("VS20"),o=r("VaSV"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},M93x:function(e,t,r){"use strict";function n(e){r("1QCM")}var a=r("xJD8"),o=r("FWNy"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"eventBus",function(){return x});var n=r("7+uW"),a=r("e6fC"),o=r("qb6w"),s=(r.n(o),r("9M+g")),i=(r.n(s),r("M93x")),c=r("YaEn"),u=r("IcnI"),l=r("mtWM"),d=r.n(l),m=r("Rf8U"),p=r.n(m),f=r("CLX7"),v=r.n(f),g=r("idOd"),h=(r.n(g),r("F7tQ")),b=(r.n(h),r("fmBQ")),w=r("lVaD");n.default.use(v.a),n.default.use(a.a),n.default.use(p.a,d.a),n.default.use(b.a),n.default.use(w.a),n.default.config.productionTip=!1;var x=new n.default;new n.default({el:"#app",router:c.a,store:u.a,template:"<App/>",components:{App:i.a}})},Nzu5:function(e,t){},OAzt:function(e,t,r){"use strict";var n=r("Xxa5"),a=r.n(n),o=r("exGp"),s=r.n(o),i=r("Q7hp"),c=r.n(i);t.a={name:"Invite",data:function(){return{status:"checking",organization:null}},mounted:function(){var e=this;return s()(a.a.mark(function t(){var r,n,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.$route.query.token){t.next=3;break}return t.abrupt("return");case 3:if(!r){t.next=24;break}return e.invited=!0,e.$loading(!0),t.prev=6,t.next=9,e.axios.post("api/org/invite",{token:r});case 9:if(n=t.sent,o=c()(n,"data.success")){t.next=13;break}throw new Error("Token iinvalid or expired");case 13:e.organization=c()(n,"data.organization"),e.status="confirmed",t.next=21;break;case 17:return t.prev=17,t.t0=t.catch(6),e.status="error",t.abrupt("return",e.$errorMessage.show(t.t0));case 21:return t.prev=21,e.$loading(!1),t.finish(21);case 24:case"end":return t.stop()}},t,e,[[6,17,21,24]])}))()},methods:{},components:{}}},OngD:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"ideas"})},a=[],o={render:n,staticRenderFns:a};t.a=o},PvWr:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"invitation"},[r("h3",[e._v("Invitation status: "+e._s(e.status))]),e._v(" "),"confirmed"===e.status?r("div",[e._v("\n    Your invitation to organization "+e._s(e.organization)+" was confirmed!\n  ")]):e._e()])},a=[],o={render:n,staticRenderFns:a};t.a=o},QpAD:function(e,t,r){"use strict";function n(e){r("147f")}var a=r("k2x4"),o=r("OngD"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},QqVk:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-form",{staticClass:"register",on:{submit:e.handleSubmit}},[r("h2",{staticClass:"center"},[e._v("Welcome to")]),e._v(" "),r("h1",{staticClass:"center"},[e._v("PM415")]),e._v(" "),e.registered?e._e():r("div",{staticClass:"not-registered"},[r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"text",placeholder:"First Name"},model:{value:e.form.firstName,callback:function(t){e.$set(e.form,"firstName",t)},expression:"form.firstName"}})],1)],1),e._v(" "),r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"text",placeholder:"Last Name"},model:{value:e.form.lastName,callback:function(t){e.$set(e.form,"lastName",t)},expression:"form.lastName"}})],1)],1)],1),e._v(" "),r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"email",required:"",placeholder:"Email",readonly:e.invited},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1)],1),e._v(" "),r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),e._v(" "),r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"password",placeholder:"Confrmation"},model:{value:e.form.confirmation,callback:function(t){e.$set(e.form,"confirmation",t)},expression:"form.confirmation"}})],1)],1)],1),e._v(" "),r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"text",required:"",placeholder:"Organization",readonly:e.invited},model:{value:e.form.organization,callback:function(t){e.$set(e.form,"organization",t)},expression:"form.organization"}})],1)],1)],1),e._v(" "),r("b-row",{staticClass:"tos"},[r("b-form-checkbox",{attrs:{value:"Y"},model:{value:e.form.tosAccepted,callback:function(t){e.$set(e.form,"tosAccepted",t)},expression:"form.tosAccepted"}},[e._v("I accept "),r("a",{attrs:{href:"#"}},[e._v("Terms of Service")])])],1),e._v(" "),r("div",{staticClass:"button-box center"},[r("b-button",{attrs:{type:"submit",variant:"primary",disabled:e.saving}},[e._v("Save")]),e._v(" "),r("a",{staticClass:"small",attrs:{href:"#"},on:{click:function(t){e.onChangeForm&&e.onChangeForm("login")}}},[e._v("Already registered?")])],1)],1),e._v(" "),e.registered?r("div",{staticClass:"registered"},[r("h3",[e._v("Thank you for regstration")]),e._v(" "),r("h4",[e._v("Please check your inbox for verification email and "),r("router-link",{attrs:{tag:"a",to:"/account/login"}},[r("a",[e._v("process to login")])]),e._v(".")],1)]):e._e()])},a=[],o={render:n,staticRenderFns:a};t.a=o},Rc0O:function(e,t,r){"use strict";function n(e){r("Nzu5")}var a=r("D5N1"),o=r("sfMF"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},SpKG:function(e,t,r){"use strict";function n(e){r("zMr0")}var a=r("OAzt"),o=r("PvWr"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},TD0J:function(e,t,r){"use strict";var n=r("Xxa5"),a=r.n(n),o=r("exGp"),s=r.n(o),i=r("Q7hp"),c=r.n(i);t.a={name:"ForgotPassword",data:function(){return{form:{email:null}}},computed:{},methods:{submit:function(e){var t=this;return s()(a.a.mark(function r(){var n,o,s;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,r.next=4,t.axios.post("/api/account/forgotpassword",t.form);case 4:n=r.sent,o=c()(n,"data.success"),s=c()(n,"data.message"),t.$notify({group:"app",type:o,text:s}),r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",t.$errorMessage.show(r.t0));case 13:return r.prev=13,t.$loading(!1),r.finish(13);case 16:case"end":return r.stop()}},r,t,[[1,10,13,16]])}))()}},props:{onChangeForm:Function}}},VKgJ:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"button-box right"},[r("div",[r("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modalnew",modifiers:{modalnew:!0}}],attrs:{variant:"success",size:""}},[e._v("➕ Add organization")]),e._v(" "),r("b-modal",{attrs:{id:"modalnew","button-size":"sm",title:"New orgranization name",size:"sm",centered:""},on:{ok:function(t){e.handleOrganizationNew(e.newOrgName)}}},[r("b-form-input",{attrs:{placeholder:"Enter organization name"},model:{value:e.newOrgName,callback:function(t){e.newOrgName=t},expression:"newOrgName"}},[e._v(">")])],1)],1)]),e._v(" "),r("b-table",{attrs:{hover:"",items:e.organizations,fields:e.organizationsFields},scopedSlots:e._u([{key:"actions",fn:function(t){return["Admin"===t.item.role?r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:e.modalId(t.item.orgId,"edit"),expression:"modalId(data.item.orgId, 'edit')"}],attrs:{variant:"primary",size:"sm"}},[e._v("🖉")]):e._e(),e._v(" "),"Admin"===t.item.role?r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:e.modalId(t.item.orgId,"del"),expression:"modalId(data.item.orgId, 'del')"}],attrs:{variant:"danger",size:"sm"}},[e._v("✖")]):e._e(),e._v(" "),r("b-modal",{attrs:{id:e.modalId(t.item.orgId,"del"),title:"Delete "+t.item.name+"?","button-size":"sm",size:"sm",centered:"","body-class":"zero-size","ok-variant":"danger","ok-title":"delete"},on:{ok:function(r){e.handleOrganizationDelete(t.item)}}}),e._v(" "),r("b-modal",{attrs:{id:e.modalId(t.item.orgId,"edit"),title:"Edit","button-size":"sm",size:"sm",centered:"","ok-variant":"submit","ok-title":"submit"},on:{ok:function(r){e.handleOrganizationEdit(t.item,e.newOrgName)}}},[r("b-form-input",{attrs:{placeholder:t.item.name},model:{value:e.newOrgName,callback:function(t){e.newOrgName=t},expression:"newOrgName"}})],1)]}}])})],1)},a=[],o={render:n,staticRenderFns:a};t.a=o},VS20:function(e,t,r){"use strict";t.a={name:"Initiatives",data:function(){return{}},computed:{},methods:{},components:{}}},VaSV:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"initiatives"})},a=[],o={render:n,staticRenderFns:a};t.a=o},XDeQ:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-form",{staticClass:"forgot",on:{submit:e.submit}},[r("h2",{staticClass:"center"},[e._v("Restore password"),r("br"),e._v("for")]),e._v(" "),r("h1",{staticClass:"center"},[e._v("PM415")]),e._v(" "),r("b-form-group",[r("b-form-input",{attrs:{type:"email",required:"",placeholder:"Email address"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),r("template",{slot:"description"},[r("a",{staticClass:"small float-right",attrs:{href:"#"},on:{click:function(t){e.onChangeForm&&e.onChangeForm("login")}}},[e._v("Rembemer password?")])])],2),e._v(" "),r("div",{staticClass:"button-box center"},[r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Restore")])],1)],1)},a=[],o={render:n,staticRenderFns:a};t.a=o},YaEn:function(e,t,r){"use strict";var n=r("7+uW"),a=r("/ocq"),o=r("hU05"),s=r("lO7g"),i=r("M0YU"),c=r("QpAD"),u=r("Rc0O"),l=r("0Qwy"),d=r("niH5"),m=r("SpKG");n.default.use(a.a),t.a=new a.a({mode:"history",routes:[{path:"/account/:action",name:"account",component:o.a},{path:"/",name:"home",component:s.a},{path:"/initiatives",name:"initiatives",component:i.a},{path:"/ideas",name:"ideas",component:c.a},{path:"/backlogs",name:"backlogs",component:u.a},{path:"/bugs",name:"bugs",component:l.a},{path:"/settings",name:"settings",component:d.a},{path:"/invite",name:"invite",component:m.a}]})},"Z/sc":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"profile"},[r("b-form",{on:{submit:e.handleProfileSubmit}},[r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",{attrs:{label:"First Name"}},[r("b-form-input",{attrs:{type:"text"},model:{value:e.profile.firstName,callback:function(t){e.$set(e.profile,"firstName",t)},expression:"profile.firstName"}})],1)],1),e._v(" "),r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",{attrs:{label:"Last Name"}},[r("b-form-input",{attrs:{type:"text"},model:{value:e.profile.lastName,callback:function(t){e.$set(e.profile,"lastName",t)},expression:"profile.lastName"}})],1)],1)],1),e._v(" "),r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",{attrs:{label:"Email"}},[r("b-form-input",{attrs:{type:"email",required:""},model:{value:e.profile.email,callback:function(t){e.$set(e.profile,"email",t)},expression:"profile.email"}})],1)],1)],1),e._v(" "),r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",{attrs:{label:"Password"}},[r("b-form-input",{attrs:{type:"password"},model:{value:e.profile.password,callback:function(t){e.$set(e.profile,"password",t)},expression:"profile.password"}})],1)],1),e._v(" "),r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",{attrs:{label:"Confrmation"}},[r("b-form-input",{attrs:{type:"password"},model:{value:e.profile.confirmation,callback:function(t){e.$set(e.profile,"confirmation",t)},expression:"profile.confirmation"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"button-box"},[r("b-button",{attrs:{type:"submit",variant:"primary",disabled:e.saving}},[e._v("Save")])],1),e._v(" "),r("div",{staticClass:"api-key-invite form-inline float-right"},[r("label",[e._v("API key")]),e._v(" "),r("b-form-input",{attrs:{readonly:""},model:{value:e.profile.apiKey,callback:function(t){e.$set(e.profile,"apiKey",t)},expression:"profile.apiKey"}}),e._v(" "),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:e.modalId(1,"regenerate-api-key"),expression:"modalId(1, 'regenerate-api-key')"}],attrs:{variant:"warning",size:"sm"}},[e._v("Regenerate")]),e._v(" "),r("b-modal",{attrs:{id:e.modalId(1,"regenerate-api-key"),"button-size":"sm",title:"Generate new API key?",size:"sm",centered:"","ok-variant":"warning","ok-title":"Create new"},on:{ok:e.handleRegenerageApiKey}},[r("p",[e._v("All application that uses this API key wouldn't work until new key promoted to its instances.")]),e._v(" "),r("p",[e._v("Are absolutely sure you want to create new API key?")])]),e._v(" "),r("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-invite",modifiers:{"modal-invite":!0}}],attrs:{variant:"success",size:"sm"}},[e._v("➕ Invite link")]),e._v(" "),r("b-modal",{staticClass:"invite-link-modal",attrs:{id:"modal-invite",title:"Invite link generate",centered:"","button-size":"sm","ok-only":!0,"ok-title":"close"}},[r("b-row",[r("b-col",{attrs:{md:"4",sm:"4"}},[r("b-dropdown",{staticClass:"m-2",attrs:{text:e.invite.org.name,split:"",size:"sm",left:""}},e._l(e.organizations,function(t){return e.organizations?r("b-dropdown-item",{key:t.id,on:{click:function(r){e.handleInviteOrgChange(t)}}},[e._v(e._s(t.name))]):e._e()}))],1),e._v(" "),r("b-col",{attrs:{md:"8",sm:"8"}},[r("b-form-input",{attrs:{placeholder:"E-Mail"},model:{value:e.invite.email,callback:function(t){e.$set(e.invite,"email",t)},expression:"invite.email"}},[e._v(">")])],1)],1),e._v(" "),r("b-row",{staticClass:"link-wrap"},[r("b-col",{attrs:{md:"12",sm:"12"}},[r("b-form-group",{attrs:{label:"Invitation link"}},[r("b-form-input",{attrs:{readonly:""},model:{value:e.invite.link,callback:function(t){e.$set(e.invite,"link",t)},expression:"invite.link"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"button-box"},[r("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(t){e.handleGenerateLink(!1)}}},[e._v("generate link")]),e._v(" "),r("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(t){e.handleGenerateLink(!0)}}},[e._v("send link")])],1)],1)],1)],1)],1)},a=[],o={render:n,staticRenderFns:a};t.a=o},ZXwr:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-form",{staticClass:"reset-password",on:{submit:e.submit}},[r("h2",{staticClass:"center"},[e._v("Set new password"),r("br"),e._v("for")]),e._v(" "),r("h1",{staticClass:"center"},[e._v("PM415")]),e._v(" "),r("b-form-group",[r("b-form-input",{attrs:{type:"password",required:"",placeholder:"Password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("b-form-group",[r("b-form-input",{attrs:{type:"password",required:"",placeholder:"Confirmation"},model:{value:e.form.confirmation,callback:function(t){e.$set(e.form,"confirmation",t)},expression:"form.confirmation"}})],1),e._v(" "),r("div",{staticClass:"button-box center"},[r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Set password")])],1)],1)},a=[],o={render:n,staticRenderFns:a};t.a=o},caWo:function(e,t){},d6UU:function(e,t,r){"use strict";var n=r("Xxa5"),a=r.n(n),o=r("exGp"),s=r.n(o),i=r("Q7hp"),c=r.n(i);t.a={name:"Register",beforeCreate:function(){},mounted:function(){this.checkToken()},data:function(){return{form:{firstName:void 0,lastName:void 0,email:void 0,password:void 0,confirmation:void 0,organization:void 0,tosAccepted:!1},saving:!1,registered:!1,invited:!1}},methods:{checkToken:function(){var e=this;return s()(a.a.mark(function t(){var r,n,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.$route.query.token){t.next=3;break}return t.abrupt("return");case 3:if(!r){t.next=24;break}return e.invited=!0,e.$loading(!0),t.prev=6,t.next=9,e.axios.get("api/org/invite",{params:{token:r}});case 9:if(n=t.sent,o=c()(n,"data.success")){t.next=13;break}throw new Error("Token iinvalid or expired");case 13:e.form.organization=c()(n,"data.organization"),e.form.email=c()(n,"data.email"),e.form.token=r,t.next=21;break;case 18:return t.prev=18,t.t0=t.catch(6),t.abrupt("return",e.$errorMessage.show(t.t0));case 21:return t.prev=21,e.$loading(!1),t.finish(21);case 24:case"end":return t.stop()}},t,e,[[6,18,21,24]])}))()},handleSubmit:function(e){var t=this;return s()(a.a.mark(function r(){var n,o;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,r.next=4,t.axios.post("/api/account/register",t.form);case 4:if(n=r.sent,o=c()(n,"data.userId")){r.next=8;break}throw new Error(c()(n,"data.message","Unable to create account"));case 8:t.$notify({group:"app",type:"success",text:"Your account created, please check your inbox for confirmation email."}),t.registered=!0,r.next=15;break;case 12:return r.prev=12,r.t0=r.catch(1),r.abrupt("return",t.$errorMessage.show(r.t0));case 15:return r.prev=15,t.$loading(!1),r.finish(15);case 18:case"end":return r.stop()}},r,t,[[1,12,15,18]])}))()}},props:{onChangeForm:Function}}},"e9w/":function(e,t){},ealK:function(e,t){},fmBQ:function(e,t,r){"use strict";var n=r("Q7hp"),a=r.n(n);t.a={install:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.prototype.$errorMessage={show:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Server error occurs",o=void 0;o||(o=a()(t,"response.data.message")),o||(o=a()(t,"response.details[0]")),o||(o=t.message),o||"string"!=typeof t||(o=t),o||(o=n),o=(new DOMParser).parseFromString(o,"text/html").body.textContent||"",e.notify({group:"error",text:o,type:"error"})}}}}},gL7S:function(e,t){},h8cQ:function(e,t){},hU05:function(e,t,r){"use strict";function n(e){r("8Jns")}var a=r("LR0Z"),o=r("F75X"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},iCah:function(e,t){},idOd:function(e,t){},jdmF:function(e,t,r){"use strict";var n=r("Xxa5"),a=r.n(n),o=r("exGp"),s=r.n(o),i=r("Q7hp"),c=r.n(i);t.a={name:"ResetPassword",mounted:function(){var e=this.$route.query.token;e||(this.$notify({group:"error",type:"warn",text:"Token invalid or missing"}),this.$router.push({name:"account",params:{action:"forgot"}})),this.form.token=e},data:function(){return{form:{password:null,confirmation:null,token:null}}},methods:{submit:function(e){var t=this;return s()(a.a.mark(function r(){var n,o,s;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,r.next=4,t.axios.post("/api/account/changepassword",t.form);case 4:n=r.sent,o=c()(n,"data.success"),s=c()(n,"data.message","Unable to set new password"),o?(t.$notify({group:"app",type:o,text:"Your password was changed."}),t.$router.push({name:"account",params:{action:"login"}})):t.$notify({group:"app",type:o,text:s}),r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",t.$errorMessage.show(r.t0));case 13:return r.prev=13,t.$loading(!1),r.finish(13);case 16:case"end":return r.stop()}},r,t,[[1,10,13,16]])}))()}},props:{onChangeForm:Function}}},k2x4:function(e,t,r){"use strict";t.a={name:"Ideas",data:function(){return{}},computed:{},methods:{},components:{}}},lO7g:function(e,t,r){"use strict";function n(e){r("w0/1")}var a=r("Fs8J"),o=r("oEFm"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,"data-v-6f77e36c",null);t.a=c.exports},lVaD:function(e,t,r){"use strict";t.a={install:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.prototype.$loading=function(e){this.$store.commit({type:"loading",loading:e})}}}},mUyL:function(e,t){},mzM1:function(e,t,r){"use strict";function n(e){r("we2y")}var a=r("/fE7"),o=r("AFF8"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},niH5:function(e,t,r){"use strict";function n(e){r("mUyL")}var a=r("JZSy"),o=r("706L"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},oEFm:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"home"},[e._v("\n  Welcome home!\n")])},a=[],o={render:n,staticRenderFns:a};t.a=o},pEqT:function(e,t,r){"use strict";function n(e){r("caWo")}var a=r("jdmF"),o=r("ZXwr"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,null,null);t.a=c.exports},qb6w:function(e,t){"use strict"},rSe3:function(e,t,r){"use strict";var n=r("Xxa5"),a=r.n(n),o=r("exGp"),s=r.n(o),i=r("L/hj"),c=r("Q7hp"),u=r.n(c);t.a={name:"Profile",props:["organizations"],data:function(){return{profile:{},invite:{org:{name:"Organization"},email:null,link:null},saving:!1}},mounted:function(){var e=this;return s()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadProfile();case 2:case"end":return t.stop()}},t,e)}))()},computed:{},methods:{modalId:function(e,t){return"modal-"+e+"-"+t},handleProfileSubmit:function(e){var t=this;return s()(a.a.mark(function n(){var o,s,c;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.profile.password===t.profile.confirmation){n.next=3;break}return n.abrupt("return",t.$notify({group:"error",type:"warn",text:"Password and confirmation does'n match"}));case 3:if(!t.profile.hasOwnProperty("email")||t.profile.email){n.next=5;break}return n.abrupt("return",t.$notify({group:"error",type:"warn",text:"Email cannot be empty"}));case 5:return t.$loading(!1),t.saving=!0,n.prev=7,n.next=10,t.axios.put("/api/user",{firstName:t.profile.firstName,lastName:t.profile.lastName,email:t.profile.email,password:t.profile.password,confirmation:t.profile.confirmation});case 10:if(o=n.sent,s=u()(o,"data.success")){n.next=14;break}throw new Error(u()(o,"data.message"));case 14:t.$notify({group:"app",type:"success",text:"Profile updated"}),c=u()(o,"data.doLogout"),c&&r.i(i.a)(t),n.next=22;break;case 19:return n.prev=19,n.t0=n.catch(7),n.abrupt("return",t.$errorMessage.show(n.t0));case 22:return n.prev=22,t.saving=!1,t.$loading(!1),n.finish(22);case 26:case"end":return n.stop()}},n,t,[[7,19,22,26]])}))()},handleRegenerageApiKey:function(){var e=this;return s()(a.a.mark(function t(){var r,n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading(!0),t.prev=1,t.next=4,e.axios.post("/api/user/apikey");case 4:if(r=t.sent,n=u()(r,"data.success")){t.next=8;break}throw new Error("Unable to generate new api key.");case 8:return e.profile.apiKey=u()(r,"data.apiKey"),t.abrupt("return",e.$notify({group:"error",type:"success",text:"New API key was created. Do not forget to update it everywhere."}));case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",e.$errorMessage.show(t.t0));case 15:return t.prev=15,e.$loading(!1),t.finish(15);case 18:case"end":return t.stop()}},t,e,[[1,12,15,18]])}))()},handleInviteOrgChange:function(e){this.invite.org=e},handleGenerateLink:function(e){var t=this;return s()(a.a.mark(function r(){var n,o;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.invite.org.orgId){r.next=2;break}return r.abrupt("return",t.$notify({group:"error",type:"error",text:"Organization not selected"}));case 2:if(t.invite.email){r.next=4;break}return r.abrupt("return",t.$notify({group:"error",type:"error",text:"Email must be provided"}));case 4:return r.prev=4,r.next=7,t.axios.post("/api/org/"+t.invite.org.orgId+"/invitelink",{email:t.invite.email,send:e});case 7:if(n=r.sent,o=u()(n,"data.success")){r.next=11;break}throw new Error("Unable to invite user");case 11:t.invite.link=u()(n,"data.confirmUrl"),t.$notify({group:"app",type:"success",text:e?"Email sent":"Link created"}),r.next=18;break;case 15:return r.prev=15,r.t0=r.catch(4),r.abrupt("return",t.$errorMessage.show(r.t0));case 18:return r.prev=18,t.$loading(!1),r.finish(18);case 21:case"end":return r.stop()}},r,t,[[4,15,18,21]])}))()},loadProfile:function(){var e=this;return s()(a.a.mark(function t(){var r,n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading(!0),t.prev=1,t.next=4,e.axios.get("/api/user");case 4:r=t.sent,n=u()(r,"data.success"),n||e.$errorMessage.show("Unable to load current user profile"),e.profile=u()(r,"data.user"),t.next=13;break;case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",e.$errorMessage.show(t.t0));case 13:return t.prev=13,e.$loading(!1),t.finish(13);case 16:e.$loading(!1);case 17:case"end":return t.stop()}},t,e,[[1,10,13,16]])}))()}},components:{}}},rWdn:function(e,t){},rZpG:function(e,t,r){"use strict";function n(e){r("78O8")}var a=r("tr4E"),o=r("uqrA"),s=r("VU/8"),i=n,c=s(a.a,o.a,!1,i,"data-v-5ffdcc34",null);t.a=c.exports},sfMF:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"backlogs"})},a=[],o={render:n,staticRenderFns:a};t.a=o},tr4E:function(e,t,r){"use strict";var n=r("Xxa5"),a=r.n(n),o=r("exGp"),s=r.n(o),i=r("L/hj"),c=r("Q7hp"),u=r.n(c),l=r("DWaH");t.a={name:"Topbar",data:function(){return{}},computed:{username:function(){var e=this.$store.state.user,t=e.firstName,r=e.lastName,n=e.email;return t&&r?t+" "+r:t||(r||n)}},methods:{handleOrgChange:function(e){var t=this;return s()(a.a.mark(function n(){var o,s,i,c,d;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.$loading(!0),n.next=4,t.axios.post("/api/org/switch/"+e.id);case 4:if(o=n.sent,s=u()(o,"data.success"),i=u()(o,"data.message"),c=u()(o,"data.token"),d=u()(o,"data.organization"),s&&c&&d){n.next=11;break}throw new Error(i);case 11:r.i(l.a)()&&r.i(l.d)("token",c,{expires:"7D"}),t.$store.commit({type:"token",token:c}),t.$store.commit({type:"organization",name:d.name,id:d.id}),window.location.reload(),n.next=20;break;case 17:return n.prev=17,n.t0=n.catch(0),n.abrupt("return",t.$errorMessage.show(n.t0));case 20:return n.prev=20,t.$loading(!1),n.finish(20);case 23:case"end":return n.stop()}},n,t,[[0,17,20,23]])}))()},handleLogout:function(){r.i(i.a)(this)}},components:{}}},uqrA:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[r("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),e._v(" "),r("b-navbar-brand",{attrs:{href:"#"}},[e._v("PM415")]),e._v(" "),r("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[r("b-navbar-nav",[r("b-nav-item",{attrs:{to:"initiatives"}},[e._v("Strategic Initiatives")]),e._v(" "),r("b-nav-item",{attrs:{to:"ideas"}},[e._v("Ideas")]),e._v(" "),r("b-nav-item",{attrs:{to:"backlogs"}},[e._v("Backlogs")]),e._v(" "),r("b-nav-item",{attrs:{to:"bugs"}},[e._v("Bugs")])],1),e._v(" "),r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-item-dropdown",{attrs:{text:e.$store.state.organization.name,right:""}},e._l(e.$store.state.user.organizations,function(t){return r("b-dropdown-item",{key:t.id,attrs:{href:"#"},on:{click:function(r){e.handleOrgChange(t)}}},[e._v(e._s(t.name))])})),e._v(" "),r("b-nav-item-dropdown",{attrs:{text:e.username,right:""}},[r("b-dropdown-item",{attrs:{to:"settings"}},[e._v("Settings")]),e._v(" "),r("b-dropdown-item",{on:{click:e.handleLogout}},[e._v("Logout")])],1)],1)],1)],1)},a=[],o={render:n,staticRenderFns:a};t.a=o},"w0/1":function(e,t){},we2y:function(e,t){},xJD8:function(e,t,r){"use strict";var n=r("Xxa5"),a=r.n(n),o=r("//Fk"),s=r.n(o),i=r("exGp"),c=r.n(i),u=r("L/hj"),l=r("rZpG"),d=r("hU05"),m=r("pEqT"),p=r("DWaH"),f=r("Q7hp"),v=r.n(f);t.a={name:"App",mounted:function(){var e=this;return c()(a.a.mark(function t(){var n,o,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.$store.state.token,!n&&r.i(p.a)()&&(n=r.i(p.b)("token")),!n){t.next=21;break}return e.axios.defaults.headers.common.Authorization="Bearer "+n,t.prev=4,t.next=7,e.axios.get("/api/user");case 7:if(o=t.sent,!(i=v()(o,"data.user"))){t.next=15;break}i.organization=v()(o,"data.organization"),e.$store.commit({type:"user",user:i}),e.$store.commit({type:"token",token:n}),t.next=16;break;case 15:throw new Error("Token invalid");case 16:t.next=21;break;case 18:return t.prev=18,t.t0=t.catch(4),t.abrupt("return",r.i(u.a)(e));case 21:e.axios.interceptors.response.use(function(t){return 403===t.status||401===t.status?r.i(u.a)(e):t},function(e){return s.a.reject(e)}),e.$loading(!1);case 23:case"end":return t.stop()}},t,e,[[4,18]])}))()},data:function(){return{}},methods:{},sockets:{},components:{topbar:l.a,ResetPassword:m.a,account:d.a}}},zMr0:function(e,t){},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.fe1764f78dfd381206e8.js.map