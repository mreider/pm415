webpackJsonp([1],{"0MVy":function(t,e,n){"use strict";function a(t){n("x6ay")}var r=n("2TT4"),o=n("R5Lj"),s=n("VU/8"),i=a,c=s(r.a,o.a,!1,i,null,null);e.a=c.exports},"0Qwy":function(t,e,n){"use strict";function a(t){n("rWdn")}var r=n("JmIY"),o=n("10BI"),s=n("VU/8"),i=a,c=s(r.a,o.a,!1,i,null,null);e.a=c.exports},"1/oy":function(t,e){},"10BI":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"bugs"})},r=[],o={render:a,staticRenderFns:r};e.a=o},"147f":function(t,e){},"2TT4":function(t,e,n){"use strict";var a=n("Xxa5"),r=n.n(a),o=n("exGp"),s=n.n(o),i=n("Q7hp"),c=n.n(i),u=n("L/hj");e.a={name:"Login",data:function(){return{form:{email:null,password:null}}},computed:{},methods:{submit:function(t){var e=this;return s()(r.a.mark(function a(){var o,s,i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,e.axios.post("/api/account/login",e.form);case 4:o=a.sent,s=c()(o,"data.token"),i=c()(o,"data.user"),n.i(u.b)(e,s,i),a.next=13;break;case 10:return a.prev=10,a.t0=a.catch(1),a.abrupt("return",e.$errorMessage.show(a.t0));case 13:return a.prev=13,e.$loading(!1),a.finish(13);case 16:case"end":return a.stop()}},a,e,[[1,10,13,16]])}))()}},props:{onChangeForm:Function}}},"2czZ":function(t,e,n){"use strict";function a(t){n("zRcy")}var r=n("d6UU"),o=n("ZOnR"),s=n("VU/8"),i=a,c=s(r.a,o.a,!1,i,null,null);e.a=c.exports},"9M+g":function(t,e){},CQ3P:function(t,e){},D5N1:function(t,e,n){"use strict";e.a={name:"Backlogs",data:function(){return{}},computed:{},methods:{},components:{}}},DpFo:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-form",{staticClass:"forgot",on:{submit:t.submit}},[n("h2",{staticClass:"center"},[t._v("Restore password"),n("br"),t._v("for")]),t._v(" "),n("h1",{staticClass:"center"},[t._v("PM415")]),t._v(" "),n("b-form-group",[n("b-form-input",{attrs:{type:"email",required:"",placeholder:"Email address"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),n("template",{slot:"description"},[n("a",{staticClass:"small float-right",attrs:{href:"#"},on:{click:function(e){t.onChangeForm&&t.onChangeForm("login")}}},[t._v("Rembemer password?")])])],2),t._v(" "),n("div",{staticClass:"button-box center"},[n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Restore")])],1)],1)},r=[],o={render:a,staticRenderFns:r};e.a=o},E9oo:function(t,e,n){"use strict";function a(t){n("UwwV")}var r=n("TD0J"),o=n("DpFo"),s=n("VU/8"),i=a,c=s(r.a,o.a,!1,i,null,null);e.a=c.exports},F7tQ:function(t,e){},Fs8J:function(t,e,n){"use strict";e.a={name:"",data:function(){return{}},computed:{},methods:{},components:{}}},GfHa:function(t,e){},ICPT:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$store.state.token?t._e():n("div",{staticClass:"account"},["login"===t.form?n("login",{attrs:{"on-change-form":t.changeForm}}):t._e(),t._v(" "),"forgot"===t.form?n("forgot-password",{attrs:{"on-change-form":t.changeForm}}):t._e(),t._v(" "),"register"===t.form?n("register",{attrs:{"on-change-form":t.changeForm}}):t._e(),t._v(" "),"reset"===t.form?n("reset-password",{attrs:{"on-change-form":t.changeForm,token:t.token}}):t._e()],1)},r=[],o={render:a,staticRenderFns:r};e.a=o},IcnI:function(t,e,n){"use strict";var a=n("7+uW"),r=n("NYxO"),o=n("Q7hp"),s=n.n(o);a.default.use(r.a),e.a=new r.a.Store({struct:!0,state:{token:null,user:null,organization:{},loading:!0},mutations:{token:function(t,e){t.token=e.token},user:function(t,e){t.user=e.user;var n=s()(e,"user.organization")||s()(e,"user.organizations[0]");n&&(t.organization.id=n.id,t.organization.name=n.name)},organization:function(t,e){t.organization.name=e.name,t.organization.id=e.id},loading:function(t,e){t.loading=e.loading}},actions:{}})},Id91:function(t,e){},JZSy:function(t,e,n){"use strict";var a=n("Xxa5"),r=n.n(a),o=n("mvHQ"),s=n.n(o),i=n("//Fk"),c=n.n(i),u=n("d7EF"),l=n.n(u),f=n("exGp"),m=n.n(f),p=n("Q7hp"),d=n.n(p);e.a={name:"Settings",data:function(){return{organizationsFields:["id","name","role","actions"],organizations:[],profile:{},profileOrig:{},apikey:null,users:[],saving:!1}},mounted:function(){},computed:{},methods:{handleTabChange:function(t){0===t?this.profile.email||this.loadProfile():1===t?this.organizations.length||this.loadOrganization():2===t&&(this.users.length||this.loadUsers())},loadProfile:function(){var t=this;return m()(r.a.mark(function e(){var n,a,o,i,u;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$loading(!0),e.prev=1,e.next=4,c.a.all([t.axios.get("/api/user").catch(function(){return null}),t.axios.get("/api/user/apikey").catch(function(){return null})]);case 4:n=e.sent,a=l()(n,2),o=a[0],i=a[1],u=d()(o,"data.success"),u||t.$errorMessage.show("Unable to load current user profile"),u=d()(i,"data.success"),u||t.$errorMessage.show("Unable to load current user API key"),t.profile=d()(o,"data.user"),t.apikey=d()(i,"data.apiKey"),t.profileOrig=JSON.parse(s()(t.profile)),e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(1),e.abrupt("return",t.$errorMessage.show(e.t0));case 20:return e.prev=20,t.$loading(!1),e.finish(20);case 23:t.$loading(!1);case 24:case"end":return e.stop()}},e,t,[[1,17,20,23]])}))()},loadOrganization:function(){var t=this;return m()(r.a.mark(function e(){var n,a,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$loading(!0),e.prev=1,e.next=4,t.axios.get("/api/user/orgs");case 4:if(n=e.sent,a=d()(n,"data.success")){e.next=8;break}throw new Error("Unable to load user's organizations.");case 8:o=d()(n,"data.organizations"),o.forEach(function(t){t._rowVariant=""}),t.organizations=o,e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",t.$errorMessage.show(e.t0));case 16:return e.prev=16,t.$loading(!1),e.finish(16);case 19:case"end":return e.stop()}},e,t,[[1,13,16,19]])}))()},loadUsers:function(){var t=this;return m()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$loading(!0),t.$loading(!1);case 2:case"end":return e.stop()}},e,t)}))()},handleProfileSubmit:function(t){var e=this;return m()(r.a.mark(function n(){var a,o,s,i,c;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),a={},o=!1,s=["firstName","lastName","email","password","confirmation"],s.forEach(function(t){e.profile[t]!==e.profileOrig[t]&&(a[t]=e.profile[t],o=!0)}),console.log("Data to save:",o,a),o){n.next=8;break}return n.abrupt("return");case 8:if(a.password===a.confirmation){n.next=10;break}return n.abrupt("return",e.$notify({group:"error",type:"warn",text:"Password and confirmation does'n match"}));case 10:if(!a.hasOwnProperty("email")||a.email){n.next=12;break}return n.abrupt("return",e.$notify({group:"error",type:"warn",text:"Email cannot be empty"}));case 12:if(e.$loading(!1),e.saving=!0,n.prev=14,i=e.axios.put("/api/user",a),c=d()(i,"data.success")){n.next=19;break}throw new Error("Unable to save user profile.");case 19:e.$notify({group:"app",type:"success",text:"Profile updated"}),n.next=25;break;case 22:return n.prev=22,n.t0=n.catch(14),n.abrupt("return",e.$errorMessage.show(n.t0));case 25:return n.prev=25,e.saving=!1,e.$loading(!1),n.finish(25);case 29:case"end":return n.stop()}},n,e,[[14,22,25,29]])}))()},handleRegenerageApiKey:function(){var t=this;return m()(r.a.mark(function e(){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$loading(!0),e.prev=1,n=t.axios.post("/api/user/apikey"),a=d()(n,"data.success")){e.next=6;break}throw new Error("Unable to generate new api key.");case 6:t.apikey=d()(n,"data.apiKey"),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",t.$errorMessage.show(e.t0));case 12:return e.prev=12,t.$loading(!1),e.finish(12);case 15:case"end":return e.stop()}},e,t,[[1,9,12,15]])}))()},handleOrganizationSelect:function(t){this.organizations.forEach(function(t){t._rowVariant=""}),t._rowVariant="active success"},handleOrganizationEdit:function(t){console.log("Edit:",s()(t))},handleOrganizationDelete:function(t){console.log("Delete:",s()(t))},handleOrganizationNew:function(){console.log("New organization")}},components:{}}},JmIY:function(t,e,n){"use strict";e.a={name:"Bugs",data:function(){return{}},computed:{},methods:{},components:{}}},"L/hj":function(t,e,n){"use strict";function a(t){t.$loading(!0),t.$store.commit({type:"user",user:null}),t.$store.commit({type:"token",token:null}),t.$store.commit({type:"organization",name:null,id:null}),n.i(u.a)()&&n.i(u.c)("token"),t.$loading(!1),t.$router.push({name:"account"})}function r(t,e,r){t.$loading(!0),e?(n.i(u.a)()&&n.i(u.d)("token",e,{expires:"7D"}),r.organization&&t.$store.commit({type:"organization",name:r.organization.name,id:r.organization.id}),t.$store.commit({type:"token",token:e}),t.$store.commit({type:"user",user:r})):a(t),t.$loading(!1)}e.a=a,e.b=r,n.d(e,"c",function(){return d});var o=n("Xxa5"),s=n.n(o),i=n("exGp"),c=n.n(i),u=n("DWaH"),l=n("mtWM"),f=n.n(l),m=n("Q7hp"),p=n.n(m),d=function(){var t=c()(s.a.mark(function t(e,a){var r,o,i,c,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,f.a.post("/api/org/switch/"+a);case 3:if(r=t.sent,o=p()(r,"data.success"),i=p()(r,"data.message"),c=p()(r,"data.token"),l=p()(r,"data.organization"),o&&c&&l){t.next=10;break}throw new Error(i);case 10:n.i(u.a)()&&n.i(u.d)("token",c,{expires:"7D"}),e.$store.commit({type:"token",token:c}),e.$store.commit({type:"organization",name:l.name,id:l.id}),e.$loading(!1),window.location.reload();case 15:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},LR0Z:function(t,e,n){"use strict";var a=n("Q7hp"),r=n.n(a),o=n("0MVy"),s=n("E9oo"),i=n("2czZ"),c=n("pEqT");e.a={name:"",data:function(){return{form:"login",token:null}},mounted:function(){this.form=r()(this.$router,"params.action","login"),this.token=this.$route.query.token},methods:{changeForm:function(t){this.form=t}},components:{login:o.a,"forgot-password":s.a,register:i.a,"reset-password":c.a},watch:{$route:function(t,e){this.form=r()(t,"params.action","login")}}}},M0YU:function(t,e,n){"use strict";function a(t){n("h8cQ")}var r=n("VS20"),o=n("VaSV"),s=n("VU/8"),i=a,c=s(r.a,o.a,!1,i,null,null);e.a=c.exports},M93x:function(t,e,n){"use strict";function a(t){n("wr6w")}var r=n("xJD8"),o=n("lok1"),s=n("VU/8"),i=a,c=s(r.a,o.a,!1,i,null,null);e.a=c.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),r=n("e6fC"),o=n("qb6w"),s=(n.n(o),n("9M+g")),i=(n.n(s),n("M93x")),c=n("YaEn"),u=n("IcnI"),l=n("mtWM"),f=n.n(l),m=n("Rf8U"),p=n.n(m),d=n("CLX7"),v=n.n(d),g=n("idOd"),h=(n.n(g),n("F7tQ")),b=(n.n(h),n("fmBQ")),w=n("lVaD");a.default.use(v.a),a.default.use(r.a),a.default.use(p.a,f.a),a.default.use(b.a),a.default.use(w.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:c.a,store:u.a,template:"<App/>",components:{App:i.a}})},Nzu5:function(t,e){},OngD:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"ideas"})},r=[],o={render:a,staticRenderFns:r};e.a=o},QpAD:function(t,e,n){"use strict";function a(t){n("147f")}var r=n("k2x4"),o=n("OngD"),s=n("VU/8"),i=a,c=s(r.a,o.a,!1,i,null,null);e.a=c.exports},R5Lj:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-form",{staticClass:"login",on:{submit:t.submit}},[n("h2",{staticClass:"center"},[t._v("Welcome to")]),t._v(" "),n("h1",{staticClass:"center"},[t._v("PM415")]),t._v(" "),n("b-form-group",[n("b-form-input",{attrs:{type:"email",required:"",placeholder:"Email address"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),n("b-form-group",[n("b-form-input",{attrs:{type:"password",required:"",placeholder:"Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t._v(" "),n("template",{slot:"description"},[n("a",{staticClass:"small float-right",attrs:{href:"#"},on:{click:function(e){t.onChangeForm&&t.onChangeForm("forgot")}}},[t._v("Forgot password?")])])],2),t._v(" "),n("div",{staticClass:"button-box center"},[n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Login")]),t._v(" "),n("a",{staticClass:"small",attrs:{href:"#"},on:{click:function(e){t.onChangeForm&&t.onChangeForm("register")}}},[t._v("Not registered?")])],1)],1)},r=[],o={render:a,staticRenderFns:r};e.a=o},Rc0O:function(t,e,n){"use strict";function a(t){n("Nzu5")}var r=n("D5N1"),o=n("sfMF"),s=n("VU/8"),i=a,c=s(r.a,o.a,!1,i,null,null);e.a=c.exports},TD0J:function(t,e,n){"use strict";var a=n("Xxa5"),r=n.n(a),o=n("exGp"),s=n.n(o);e.a={name:"ForgotPassword",data:function(){return{form:{email:null}}},computed:{},methods:{submit:function(t){var e=this;return s()(r.a.mark(function n(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}},n,e)}))()}},props:{onChangeForm:Function}}},UwwV:function(t,e){},VS20:function(t,e,n){"use strict";e.a={name:"Initiatives",data:function(){return{}},computed:{},methods:{},components:{}}},VaSV:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"initiatives"})},r=[],o={render:a,staticRenderFns:r};e.a=o},YaEn:function(t,e,n){"use strict";var a=n("7+uW"),r=n("/ocq"),o=n("hU05"),s=n("lO7g"),i=n("M0YU"),c=n("QpAD"),u=n("Rc0O"),l=n("0Qwy"),f=n("niH5");a.default.use(r.a),e.a=new r.a({mode:"history",routes:[{path:"/account/:action",name:"account",component:o.a},{path:"/",name:"home",component:s.a},{path:"/initiatives",name:"initiatives",component:i.a},{path:"/ideas",name:"ideas",component:c.a},{path:"/backlogs",name:"backlogs",component:u.a},{path:"/bugs",name:"bugs",component:l.a},{path:"/settings",name:"settings",component:f.a}]})},YeMP:function(t,e){},ZOnR:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-form",{staticClass:"register",on:{submit:t.handleSubmit}},[n("h2",{staticClass:"center"},[t._v("Welcome to")]),t._v(" "),n("h1",{staticClass:"center"},[t._v("PM415")]),t._v(" "),n("b-row",[n("b-col",{attrs:{md:"6",sm:"12"}},[n("b-form-group",[n("b-form-input",{attrs:{type:"text",placeholder:"First Name"},model:{value:t.form.firstName,callback:function(e){t.$set(t.form,"firstName",e)},expression:"form.firstName"}})],1)],1),t._v(" "),n("b-col",{attrs:{md:"6",sm:"12"}},[n("b-form-group",[n("b-form-input",{attrs:{type:"text",placeholder:"Last Name"},model:{value:t.form.lastName,callback:function(e){t.$set(t.form,"lastName",e)},expression:"form.lastName"}})],1)],1)],1),t._v(" "),n("b-row",[n("b-col",{attrs:{md:"6",sm:"12"}},[n("b-form-group",[n("b-form-input",{attrs:{type:"email",required:"",placeholder:"Email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1)],1),t._v(" "),n("b-row",[n("b-col",{attrs:{md:"6",sm:"12"}},[n("b-form-group",[n("b-form-input",{attrs:{type:"password",placeholder:"Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),t._v(" "),n("b-col",{attrs:{md:"6",sm:"12"}},[n("b-form-group",[n("b-form-input",{attrs:{type:"password",placeholder:"Confrmation"},model:{value:t.form.confirmation,callback:function(e){t.$set(t.form,"confirmation",e)},expression:"form.confirmation"}})],1)],1)],1),t._v(" "),n("b-row",{staticClass:"tos"},[n("b-form-checkbox",{attrs:{value:"Y"},model:{value:t.form.tosAccepted,callback:function(e){t.$set(t.form,"tosAccepted",e)},expression:"form.tosAccepted"}},[t._v("I accept "),n("a",{attrs:{href:"#"}},[t._v("Terms of Service")])])],1),t._v(" "),n("div",{staticClass:"button-box center"},[n("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.saving}},[t._v("Save")]),t._v(" "),n("a",{staticClass:"small",attrs:{href:"#"},on:{click:function(e){t.onChangeForm&&t.onChangeForm("login")}}},[t._v("Already registered?")])],1)],1)},r=[],o={render:a,staticRenderFns:r};e.a=o},d6UU:function(t,e,n){"use strict";var a=n("Xxa5"),r=n.n(a),o=n("mvHQ"),s=n.n(o),i=n("exGp"),c=n.n(i),u=n("Q7hp"),l=n.n(u);e.a={name:"Register",data:function(){return{form:{firstName:void 0,lastName:void 0,email:void 0,password:void 0,confirmation:void 0,organization:void 0,tosAccepted:!1},saving:!1}},computed:{},methods:{handleSubmit:function(t){var e=this;return c()(r.a.mark(function n(){var a,o;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),console.log(s()(e.form)),n.prev=2,n.next=5,e.axios.post("/api/account/register",e.form);case 5:if(a=n.sent,o=l()(a,"data.userId")){n.next=9;break}throw new Error(l()(a,"data.message","Unable to create account"));case 9:e.$notify({group:"app",type:"success",text:"Your account created, please check your inbo for confirmation email."}),e.$router.push({name:"account"}),n.next=16;break;case 13:return n.prev=13,n.t0=n.catch(2),n.abrupt("return",e.$errorMessage.show(n.t0));case 16:return n.prev=16,e.$loading(!1),n.finish(16);case 19:case"end":return n.stop()}},n,e,[[2,13,16,19]])}))()}},props:{onChangeForm:Function}}},en7f:function(t,e){},fmBQ:function(t,e,n){"use strict";var a=n("Q7hp"),r=n.n(a);e.a={install:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.prototype.$errorMessage={show:function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Server error occurs";if(401===r()(e,"response.data.statusCode"))return window.location="/";var o=r()(e,"response.data.message");o||(o=r()(e,"response.details[0]")),o||(o=e.message),o||"string"!=typeof e||(o=e),o||(o=a),o=(new DOMParser).parseFromString(o,"text/html").body.textContent||"",t.notify({group:"error",text:o,type:"error"})}}}}},h8cQ:function(t,e){},hU05:function(t,e,n){"use strict";function a(t){n("en7f")}var r=n("LR0Z"),o=n("ICPT"),s=n("VU/8"),i=a,c=s(r.a,o.a,!1,i,null,null);e.a=c.exports},idOd:function(t,e){},jSYl:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-form",{staticClass:"reset-password",on:{submit:t.submit}},[n("h2",{staticClass:"center"},[t._v("Set new password"),n("br"),t._v("for")]),t._v(" "),n("h1",{staticClass:"center"},[t._v("PM415")]),t._v(" "),n("b-form-group",[n("b-form-input",{attrs:{type:"password",required:"",placeholder:"Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),n("b-form-group",[n("b-form-input",{attrs:{type:"password",required:"",placeholder:"Confirmation"},model:{value:t.form.confirmation,callback:function(e){t.$set(t.form,"confirmation",e)},expression:"form.confirmation"}})],1),t._v(" "),n("div",{staticClass:"button-box center"},[n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Set password")])],1)],1)},r=[],o={render:a,staticRenderFns:r};e.a=o},jarD:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings"},[n("b-tabs",{on:{input:t.handleTabChange}},[n("b-tab",{attrs:{title:"Profile",active:""}},[n("b-form",{on:{submit:t.handleProfileSubmit}},[n("b-row",[n("b-col",{attrs:{md:"6",sm:"12"}},[n("b-form-group",{attrs:{label:"First Name"}},[n("b-form-input",{attrs:{type:"text"},model:{value:t.profile.firstName,callback:function(e){t.$set(t.profile,"firstName",e)},expression:"profile.firstName"}})],1)],1),t._v(" "),n("b-col",{attrs:{md:"6",sm:"12"}},[n("b-form-group",{attrs:{label:"Last Name"}},[n("b-form-input",{attrs:{type:"text"},model:{value:t.profile.lastName,callback:function(e){t.$set(t.profile,"lastName",e)},expression:"profile.lastName"}})],1)],1)],1),t._v(" "),n("b-row",[n("b-col",{attrs:{md:"6",sm:"12"}},[n("b-form-group",{attrs:{label:"Email"}},[n("b-form-input",{attrs:{type:"email",required:""},model:{value:t.profile.email,callback:function(e){t.$set(t.profile,"email",e)},expression:"profile.email"}})],1)],1)],1),t._v(" "),n("b-row",[n("b-col",{attrs:{md:"6",sm:"12"}},[n("b-form-group",{attrs:{label:"Password"}},[n("b-form-input",{attrs:{type:"password"},model:{value:t.profile.password,callback:function(e){t.$set(t.profile,"password",e)},expression:"profile.password"}})],1)],1),t._v(" "),n("b-col",{attrs:{md:"6",sm:"12"}},[n("b-form-group",{attrs:{label:"Confrmation"}},[n("b-form-input",{attrs:{type:"password"},model:{value:t.profile.confirmation,callback:function(e){t.$set(t.profile,"confirmation",e)},expression:"profile.confirmation"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"button-box"},[n("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.saving}},[t._v("Save")])],1)],1),t._v(" "),n("div",{staticClass:"api-key form-inline float-right"},[n("label",[t._v("API key")]),t._v(" "),n("b-form-input",{attrs:{readonly:""},model:{value:t.apikey,callback:function(e){t.apikey=e},expression:"apikey"}}),t._v(" "),n("b-button",{attrs:{variant:"warning",size:"sm",disabled:t.saving},on:{click:t.handleRegenerageApiKey}},[t._v("Regenerate")])],1)],1),t._v(" "),n("b-tab",{attrs:{title:"Organization"}},[n("div",{staticClass:"button-box right"},[n("b-button",{attrs:{variant:"success",size:""},on:{click:t.handleOrganizationNew}},[t._v("➕ Add organization")])],1),t._v(" "),n("b-table",{attrs:{hover:"",items:t.organizations,fields:t.organizationsFields},on:{"row-clicked":t.handleOrganizationSelect},scopedSlots:t._u([{key:"actions",fn:function(e){return[n("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(n){t.handleOrganizationEdit(e.item)}}},[t._v("🖉")]),t._v(" "),n("b-button",{directives:[{name:"show",rawName:"v-show",value:"Admin"===e.item.role,expression:"data.item.role === 'Admin'"}],attrs:{variant:"danger",size:"sm"},on:{click:function(n){t.handleOrganizationDelete(e.item)}}},[t._v("✖")])]}}])})],1),t._v(" "),n("b-tab",{attrs:{title:"Users"}},[t._v("\n      Users\n    ")])],1)],1)},r=[],o={render:a,staticRenderFns:r};e.a=o},jdmF:function(t,e,n){"use strict";var a=n("Xxa5"),r=n.n(a),o=n("exGp"),s=n.n(o),i=n("Q7hp"),c=n.n(i);e.a={name:"ResetPassword",mounted:function(){this.token||(this.$notify({group:"error",type:"warn",text:"Token invalid or missing"}),this.$router.push({name:"account",params:{action:"forgot"}}))},data:function(){return{form:{password:null,confirmation:null,token:null}}},methods:{submit:function(t){var e=this;return s()(r.a.mark(function n(){var a,o,s;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.prev=1,n.next=4,e.axios.post("/api/account/login",e.form);case 4:a=n.sent,o=c()(a,"data.success"),s=c()(a,"data.message","Unable to setn new password"),o?(e.$notify({text:"Your password was changed, in 3 seconds you'll be redirected to login page.",type:"success"}),setTimeout(function(){e.$router.push({name:"home"})},3e3)):e.$notify({text:s,type:"warn"}),n.next=13;break;case 10:return n.prev=10,n.t0=n.catch(1),n.abrupt("return",e.$errorMessage.show(n.t0));case 13:return n.prev=13,e.$loading(!1),n.finish(13);case 16:case"end":return n.stop()}},n,e,[[1,10,13,16]])}))()}},props:{onChangeForm:Function,token:String}}},k2x4:function(t,e,n){"use strict";e.a={name:"Ideas",data:function(){return{}},computed:{},methods:{},components:{}}},lO7g:function(t,e,n){"use strict";function a(t){n("w0/1")}var r=n("Fs8J"),o=n("oEFm"),s=n("VU/8"),i=a,c=s(r.a,o.a,!1,i,"data-v-6f77e36c",null);e.a=c.exports},lVaD:function(t,e,n){"use strict";e.a={install:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.prototype.$loading=function(t){this.$store.commit({type:"loading",loading:t})}}}},lok1:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{id:"app"}},[t.$store.state.loading?n("div",{staticClass:"loading"},[n("div",{staticClass:"vue-loading-msg"},[t._v("Loading ...")])]):t._e(),t._v(" "),n("div",{staticClass:"notifications-container"},[n("notifications",{attrs:{group:"error",width:"500px",position:"bottom right"}}),t._v(" "),n("notifications",{attrs:{group:"app",width:"500px",position:"bottom right"}})],1),t._v(" "),t.$store.state.token?n("div",[n("topbar"),t._v(" "),n("b-container",{staticClass:"wrap"},[n("router-view")],1)],1):t._e(),t._v(" "),t.$store.state.token?t._e():n("account")],1)},r=[],o={render:a,staticRenderFns:r};e.a=o},niH5:function(t,e,n){"use strict";function a(t){n("CQ3P")}var r=n("JZSy"),o=n("jarD"),s=n("VU/8"),i=a,c=s(r.a,o.a,!1,i,null,null);e.a=c.exports},oEFm:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"home"},[t._v("\n  Welcome home!\n")])},r=[],o={render:a,staticRenderFns:r};e.a=o},pEqT:function(t,e,n){"use strict";function a(t){n("znsa")}var r=n("jdmF"),o=n("jSYl"),s=n("VU/8"),i=a,c=s(r.a,o.a,!1,i,null,null);e.a=c.exports},qb6w:function(t,e){"use strict"},rWdn:function(t,e){},rZpG:function(t,e,n){"use strict";function a(t){n("YeMP")}var r=n("tr4E"),o=n("xkKC"),s=n("VU/8"),i=a,c=s(r.a,o.a,!1,i,"data-v-17abfa8e",null);e.a=c.exports},sfMF:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"backlogs"})},r=[],o={render:a,staticRenderFns:r};e.a=o},tr4E:function(t,e,n){"use strict";var a=n("Xxa5"),r=n.n(a),o=n("mvHQ"),s=n.n(o),i=n("exGp"),c=n.n(i),u=n("L/hj");e.a={name:"",data:function(){return{}},computed:{username:function(){var t=this.$store.state.user,e=t.firstName,n=t.lastName,a=t.email;return e&&n?e+" "+n:e||(n||a)}},methods:{handleOrgChange:function(t){var e=this;return c()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log("Org change:",s()(t)),a.next=4,n.i(u.c)(e,t.id);case 4:a.next=10;break;case 6:return a.prev=6,a.t0=a.catch(0),e.$loading(!1),a.abrupt("return",e.$errorMessage.show(a.t0));case 10:case"end":return a.stop()}},a,e,[[0,6]])}))()},handleLogout:function(){n.i(u.a)(this)}},components:{}}},"w0/1":function(t,e){},wr6w:function(t,e){},x6ay:function(t,e){},xJD8:function(t,e,n){"use strict";var a=n("Xxa5"),r=n.n(a),o=n("//Fk"),s=n.n(o),i=n("exGp"),c=n.n(i),u=n("L/hj"),l=n("rZpG"),f=n("hU05"),m=n("DWaH"),p=n("Q7hp"),d=n.n(p);e.a={name:"App",mounted:function(){var t=this;return c()(r.a.mark(function e(){var a,o,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.$store.state.token,!a&&n.i(m.a)()&&(a=n.i(m.b)("token")),!a){e.next=23;break}return t.axios.defaults.headers.common.Authorization="Bearer "+a,e.prev=4,e.next=7,t.axios.get("/api/user");case 7:if(o=e.sent,!(i=d()(o,"data.user"))){e.next=15;break}i.organization=d()(o,"data.organization"),t.$store.commit({type:"user",user:i}),t.$store.commit({type:"token",token:a}),e.next=16;break;case 15:throw new Error("Token invalid");case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(4),e.abrupt("return",n.i(u.a)(t));case 21:e.next=24;break;case 23:t.$router.push({name:"account"});case 24:t.axios.interceptors.response.use(function(e){return 403===e.status||401===e.status?n.i(u.a)(t):e},function(t){return s.a.reject(t)}),t.$loading(!1);case 26:case"end":return e.stop()}},e,t,[[4,18]])}))()},data:function(){return{}},methods:{},sockets:{},components:{topbar:l.a,account:f.a}}},xkKC:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[n("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),t._v(" "),n("b-navbar-brand",{attrs:{href:"#"}},[t._v("NavBar")]),t._v(" "),n("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[n("b-navbar-nav",[n("b-nav-item",{attrs:{to:"initiatives"}},[t._v("Strategic Initiatives")]),t._v(" "),n("b-nav-item",{attrs:{to:"ideas"}},[t._v("Ideas")]),t._v(" "),n("b-nav-item",{attrs:{to:"backlogs"}},[t._v("Backlogs")]),t._v(" "),n("b-nav-item",{attrs:{to:"bugs"}},[t._v("Bugs")])],1),t._v(" "),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item-dropdown",{attrs:{text:t.$store.state.organization.name,right:""}},t._l(t.$store.state.user.organizations,function(e){return n("b-dropdown-item",{key:e.id,attrs:{href:"#"},on:{click:function(n){t.handleOrgChange(e)}}},[t._v(t._s(e.name))])})),t._v(" "),n("b-nav-item-dropdown",{attrs:{text:t.username,right:""}},[n("b-dropdown-item",{attrs:{to:"settings"}},[t._v("Settings")]),t._v(" "),n("b-dropdown-item",{on:{click:t.handleLogout}},[t._v("Logout")])],1)],1)],1)],1)},r=[],o={render:a,staticRenderFns:r};e.a=o},zRcy:function(t,e){},zj2Q:function(t,e){},znsa:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c47f109cc7f516ee6817.js.map