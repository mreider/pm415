webpackJsonp([1],{"+3QE":function(t,e){},"+Y2O":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form",{staticClass:"login col-lg-4 col-md-8 col-sm-12 col-xs-12",on:{submit:t.submit}},[a("h2",{staticClass:"center"},[t._v("Welcome to")]),t._v(" "),a("h1",{staticClass:"center"},[t._v("PM415")]),t._v(" "),a("b-form-group",[a("b-form-input",{attrs:{type:"email",required:"",placeholder:"Email address"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),a("b-form-group",[a("b-form-input",{attrs:{type:"password",required:"",placeholder:"Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t._v(" "),a("template",{slot:"description"},[a("a",{staticClass:"small float-right",attrs:{href:"#"},on:{click:function(e){t.onChangeForm&&t.onChangeForm("forgot")}}},[t._v("Forgot password?")])])],2),t._v(" "),a("div",{staticClass:"button-box center"},[a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Login")]),t._v(" "),a("a",{staticClass:"small",attrs:{href:"#"},on:{click:function(e){t.onChangeForm&&t.onChangeForm("register")}}},[t._v("Not registered?")])],1)],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},"+eU3":function(t,e,a){"use strict";function r(t){a("Dyw4")}var n=a("8EsE"),s=a("P9wT"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},"/FO0":function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),o=a("Q7hp"),c=a.n(o),l=a("NHnr");e.a={name:"Users",props:["organizations"],data:function(){return{users:[],usersFields:["userId","email","role","firstName","lastName","isActive"],usersTableHeaders:[{text:"User Id",value:"userId",sortable:!1},{text:"email",value:"email",sortable:!1},{text:"role",value:"role",sortable:!1},{text:"first name",value:"firstName",sortable:!1},{text:"last name",value:"lastName",sortable:!1},{text:"Is active",value:"isActive",sortable:!1}],selectedOrg:{name:"Organization"},selectAllUsers:!1,selectSingle:!1,actionSelectOptions:[{name:"Grant admin",event:this.handleGrantAdmin},{name:"Revoke admin",event:this.handleRevokeAdmin},{name:"Authorize user",event:this.handleRevokeAdmin},{name:"Reset password",event:this.handleResetPassword}]}},computed:{},methods:{handleSelect:function(t){var e=this;if(!t)return this.selectAllUsers=!this.selectAllUsers,void this.users.forEach(function(t){t.selected=e.selectAllUsers});if(t&&(t.selected=!t.selected),this.users){-1===this.users.findIndex(function(t){return t.selected===e.selectAllUsers})&&(this.selectAllUsers=!this.selectAllUsers)}return t.selected},handleOrgChange:function(t){this.selectedOrg=t,this.loadOrgUsers(t)},loadOrgUsers:function(t){var e=this;return i()(n.a.mark(function a(){var r,s,i;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.$loading(!0),a.next=4,e.axios.get("/api/org/"+t.orgId+"/users");case 4:if(r=a.sent,s=c()(r,"data.success")){a.next=8;break}throw new Error("Unable to load user's organizations.");case 8:i=c()(r,"data.users"),i.forEach(function(t){t.selected=!1}),e.selectAllUsers=!1,e.users=i,a.next=17;break;case 14:return a.prev=14,a.t0=a.catch(0),a.abrupt("return",e.$errorMessage.show(a.t0));case 17:return a.prev=17,e.selectedOrg=t,e.$loading(!1),a.finish(17);case 21:case"end":return a.stop()}},a,e,[[0,14,17,21]])}))()},handleGrantAdmin:function(t){var e=this;return i()(n.a.mark(function t(){var a,r,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((a=e.users.filter(function(t){return!0===t.selected}).map(function(t){return t.userId}))<1)){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,e.$loading(!0),t.next=7,e.axios.put("/api/org/"+e.selectedOrg.orgId+"/admin/grant",{usersId:a});case 7:if(r=t.sent,s=c()(r,"data.success")){t.next=11;break}throw new Error("Unable to grant administrative privileges to user(s)");case 11:e.$notify({group:"app",type:"success",text:"Administrator rights granted"}),e.loadOrgUsers(e.selectedOrg),t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(3),t.abrupt("return",e.$errorMessage.show(t.t0));case 18:return t.prev=18,e.$loading(!1),t.finish(18);case 21:case"end":return t.stop()}},t,e,[[3,15,18,21]])}))()},handleRevokeAdmin:function(t){var e=this;return i()(n.a.mark(function t(){var a,r,s,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((a=e.users.filter(function(t){return!0===t.selected}).map(function(t){return t.userId}))<1)){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,e.$loading(!0),t.next=7,e.axios.put("/api/org/"+e.selectedOrg.orgId+"/admin/revoke",{usersId:a});case 7:if(r=t.sent,s=c()(r,"data.success"),i=c()(r,"data.message"),s){t.next=12;break}throw new Error("Unable to revoke administrative privileges from user(s)");case 12:e.$notify({group:"app",type:"success",text:i}),e.loadOrgUsers(e.selectedOrg),t.next=19;break;case 16:return t.prev=16,t.t0=t.catch(3),t.abrupt("return",e.$errorMessage.show(t.t0));case 19:return t.prev=19,e.$loading(!1),t.finish(19);case 22:case"end":return t.stop()}},t,e,[[3,16,19,22]])}))()},handleResetPassword:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=t.users.filter(function(t){return!0===t.selected}).map(function(t){return t.userId}))<1)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,t.$loading(!0),e.next=7,t.axios.put("/api/org/"+t.selectedOrg.orgId+"/admin/resetpassword",{usersId:a});case 7:if(r=e.sent,s=c()(r,"data.success")){e.next=11;break}throw new Error("Unable to reset passwords");case 11:t.$notify({group:"app",type:"success",text:"Passwords reset, letters sent"}),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",t.$errorMessage.show(e.t0));case 17:return e.prev=17,t.$loading(!1),e.finish(17);case 20:case"end":return e.stop()}},e,t,[[3,14,17,20]])}))()},handleRemoveFromOrganization:function(t){var e=this;return i()(n.a.mark(function t(){var a,r,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((a=e.users.filter(function(t){return!0===t.selected}).map(function(t){return t.userId}))<1)){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,e.$loading(!0),t.next=7,e.axios.post("/api/org/"+e.selectedOrg.orgId+"/users/remove",{usersId:a});case 7:if(r=t.sent,s=c()(r,"data.success")){t.next=11;break}throw new Error("Unable to delete users");case 11:e.$notify({group:"app",type:"success",text:"Selected user were removed from organization"}),e.users=e.users.filter(function(t){return-1===a.indexOf(t.userId)}),t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(3),t.abrupt("return",e.$errorMessage.show(t.t0));case 18:return t.prev=18,e.loadOrgUsers(e.selectedOrg),l.eventBus.$emit("reload",{loadOrganization:!0}),e.$loading(!1),t.finish(18);case 23:case"end":return t.stop()}},t,e,[[3,15,18,23]])}))()},handleActionSelect:function(t){t.event()}},components:{},watch:{}}},"/KFX":function(t,e,a){"use strict";function r(t){a("oC3X")}var n=a("AHJT"),s=a("u1CM"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},"/L3Q":function(t,e){},"/fE7":function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),o=a("Q7hp"),c=a.n(o),l=a("DWaH");e.a={name:"Verify",mounted:function(){var t=this;return i()(n.a.mark(function e(){var r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$store.state.token,!r&&a.i(l.a)()&&(r=a.i(l.b)("token")),r&&t.$router.replace("/"),e.next=6,t.checkToken();case 6:case"end":return e.stop()}},e,t)}))()},data:function(){return{message:"",showLoginButton:!1}},methods:{handlelogin:function(){this.$router.push({name:"account",params:{action:"login"}})},checkToken:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.$route.query.token){e.next=3;break}return e.abrupt("return");case 3:if(!a){e.next=24;break}return t.invited=!0,e.prev=5,e.next=8,t.axios.get("/api/account/verify",{params:{token:a}});case 8:if(r=e.sent,s=c()(r,"data.success"),t.message=c()(r,"data.message"),s){e.next=16;break}throw t.showLoginButton=!1,new Error(t.message);case 16:t.showLoginButton=!0;case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(5),e.abrupt("return",t.$errorMessage.show(e.t0));case 22:return e.prev=22,e.finish(22);case 24:case"end":return e.stop()}},e,t,[[5,19,22,24]])}))()}},props:{onChangeForm:Function}}},"0MVy":function(t,e,a){"use strict";function r(t){a("ayRr")}var n=a("2TT4"),s=a("+Y2O"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},"0Qwy":function(t,e,a){"use strict";function r(t){a("/L3Q")}var n=a("JmIY"),s=a("nl9g"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},"0jWj":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"users"},[a("v-toolbar",{staticClass:"no-padding-right no-padding-left",attrs:{flat:"",color:"transparent"}},[a("v-select",{staticClass:"pt-0",attrs:{items:t.organizations,label:"Organization","item-text":"name","item-value":"name","return-object":""},on:{input:t.handleOrgChange}}),t._v(" "),a("v-select",{staticClass:"pt-0 pl-3",attrs:{items:t.actionSelectOptions,label:"Action","item-text":"name","item-value":"name","return-object":""},on:{change:t.handleActionSelect}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer")],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.usersTableHeaders,items:t.users},scopedSlots:t._u([{key:"headers",fn:function(e){return[a("tr",[a("th",[a("v-checkbox",{attrs:{"input-value":e.all,primary:"","hide-details":""},on:{click:function(e){return e.stopPropagation(),t.handleSelect()}},model:{value:t.selectAllUsers,callback:function(e){t.selectAllUsers=e},expression:"selectAllUsers"}})],1),t._v(" "),t._l(e.headers,function(e){return a("th",{key:e.text,on:{click:function(a){return t.changeSort(e.value)}}},[t._v(t._s(e.text))])})],2)]}},{key:"items",fn:function(e){return[a("td",[a("v-checkbox",{attrs:{primary:"","hide-details":""},on:{click:[function(e){t.selectSingle=!t.selectSingle},function(a){return a.stopPropagation(),t.handleSelect(e.item)}]},model:{value:e.item.selected,callback:function(a){t.$set(e.item,"selected",a)},expression:"props.item.selected"}})],1),t._v(" "),a("td",[t._v(t._s(e.item.userId))]),t._v(" "),a("td",[t._v(t._s(e.item.email))]),t._v(" "),a("td",[t._v(t._s(e.item.role))]),t._v(" "),a("td",[t._v(t._s(e.item.firstName))]),t._v(" "),a("td",[t._v(t._s(e.item.lastName))]),t._v(" "),a("td",[t._v(t._s(e.item.isActive))])]}}])})],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},"2/6B":function(t,e){},"2TT4":function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),o=a("Q7hp"),c=a.n(o),l=a("L/hj");e.a={name:"Login",data:function(){return{form:{email:null,password:null}}},methods:{submit:function(t){var e=this;return i()(n.a.mark(function r(){var s,i,o;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),r.prev=1,r.next=4,e.axios.post("/api/account/login",e.form);case 4:s=r.sent,i=c()(s,"data.token"),o=c()(s,"data.user"),a.i(l.b)(e,i,o),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),e.$errorMessage.show(r.t0);case 13:return r.prev=13,e.$loading(!1),r.finish(13);case 16:case"end":return r.stop()}},r,e,[[1,10,13,16]])}))()}},props:{onChangeForm:Function}}},"2czZ":function(t,e,a){"use strict";function r(t){a("+3QE")}var n=a("d6UU"),s=a("DV9M"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},"2nGj":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$store.state.token?t._e():a("div",{staticClass:"account"},["login"===t.form?a("login",{attrs:{"on-change-form":t.changeForm}}):t._e(),t._v(" "),"forgot"===t.form?a("forgot-password",{attrs:{"on-change-form":t.changeForm}}):t._e(),t._v(" "),"register"===t.form?a("register",{attrs:{"on-change-form":t.changeForm}}):t._e(),t._v(" "),"reset-password"===t.form?a("reset-password",{attrs:{"on-change-form":t.changeForm}}):t._e(),t._v(" "),"verify"===t.form?a("verify",{attrs:{"on-change-form":t.changeForm}}):t._e(),t._v(" "),"invite"===t.form?a("invite"):t._e()],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},"3HAg":function(t,e,a){"use strict";var r=a("mvHQ"),n=a.n(r),s=a("Xxa5"),i=a.n(s),o=a("exGp"),c=a.n(o),l=a("Q7hp"),u=a.n(l),d=a("M4fF"),v=a.n(d),p=a("Bez9"),f=a("r9AH");e.a={name:"Initiative",data:function(){return{toConnectionData:{name:"initiative",id:this.$route.query.initiativeid,connects:["item","bug"]},toCommentsData:{name:"initiatives",id:this.$route.query.initiativeid,admin:!1},objStatuses:[],horizonList:[],vote:"",btntrue:"",btnfalse:"",form:{title:"",description:"",status:{id:10,name:"Should have"},horizon:{date:new Date,horizon:this.getHorizonName(new Date)},vote:null,archived:!1},admin:!1,dialogDeleteInitiative:!1,currentStatus:""}},mounted:function(){var t=this;return c()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadOrgStatuses();case 2:return e.next=4,t.loadOrgInitiative();case 4:return t.horizonLoadList(),e.next=7,t.loadVotes();case 7:case"end":return e.stop()}},e,t)}))()},computed:{},methods:{handleInitiativeDelete:function(){var t=this;return c()(i.a.mark(function e(){var a,r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.form,!a||t.$store.state.user.id,e.prev=2,e.next=5,t.axios.delete("/api/initiatives/"+t.$store.state.organization.id+"/"+a.id);case 5:if(r=e.sent,n=u()(r,"data.success"),t.dialogDeleteInitiative=!1,n){e.next=10;break}throw new Error("Unable delete initiative.");case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(2),t.dialogDeleteInitiative=!1,e.abrupt("return",t.$errorMessage.show(e.t0));case 16:return e.prev=16,t.$notify({group:"app",type:"success",text:"Item "+a.title+" was deleted"}),t.$router.go(-1),e.finish(16);case 20:case"end":return e.stop()}},e,t,[[2,12,16,20]])}))()},loadOrgStatuses:function(){var t=this;return c()(i.a.mark(function e(){var a,r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.$loading(!0),a=t.$store.state.organization.id,e.next=5,t.axios.get("/api/statuses/initiatives/"+a);case 5:if(r=e.sent,n=u()(r,"data.success")){e.next=9;break}throw new Error("Unable to load user's organizations.");case 9:t.objStatuses=u()(r,"data.statuses"),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",t.$errorMessage.show(e.t0));case 15:return e.prev=15,t.$loading(!1),e.finish(15);case 18:case"end":return e.stop()}},e,t,[[0,12,15,18]])}))()},handleInitiativeSetField:function(t,e){var a=this;return c()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a.form[e]=t,"vote"!==e){r.next=6;break}return a.vote=t,!0===t?(a.btntrue="voteUp",a.btnfalse=""):(a.btntrue="",a.btnfalse="voteDown"),r.next=6,a.doVote(t);case 6:case"end":return r.stop()}},r,a)}))()},horizonLoadList:function(){var t=new Date,e={date:t,horizon:this.getHorizonName(t)};this.horizonList.push(e),t=new Date((new Date).setMonth((new Date).getMonth()+3)),e={date:t,horizon:this.getHorizonName(t)},this.horizonList.push(e),t=new Date((new Date).setMonth((new Date).getMonth()+6)),e={date:t,horizon:this.getHorizonName(t)},this.horizonList.push(e),t=new Date((new Date).setMonth((new Date).getMonth()+9)),e={date:t,horizon:this.getHorizonName(t)},this.horizonList.push(e),t=new Date((new Date).setMonth((new Date).getMonth()+12)),e={date:t,horizon:this.getHorizonName(t)},this.horizonList.push(e),t=new Date((new Date).setMonth((new Date).getMonth()+15)),e={date:t,horizon:this.getHorizonName(t)},this.horizonList.push(e)},getHorizonName:function(t){var e=t.getMonth(),a=t.getFullYear(),r=0;return e<3?r=1:e<6?r=2:e<9?r=3:e<12&&(r=4),"Q"+r+a},formatDate:function(t){var e=t.getMonth();return t.getFullYear()+"-"+e+"-"+t.getDate()},loadOrgInitiative:function(){var t=this;return c()(i.a.mark(function e(){var a,r,n,s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.$loading(!0),a=t.$route.query.orgId,r=t.$route.query.initiativeid,e.next=6,t.axios.get("/api/initiatives/"+a+"/"+r);case 6:if(n=e.sent,s=u()(n,"data.success")){e.next=10;break}throw new Error("Unable to load user's organizations.");case 10:o=u()(n,"data.initiative"),o.status=v.a.find(t.objStatuses,{id:o.statusId}),o.horizon={date:new Date(o.horizon),horizon:t.getHorizonName(new Date(o.horizon))},t.toCommentsData.admin=u()(n,"data.admin"),0===o.archived?o.archived=!1:o.archived=!0,t.form=o,t.currentStatus=o.statusId,e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",t.$errorMessage.show(e.t0));case 22:return e.prev=22,t.$loading(!1),e.finish(22);case 25:case"end":return e.stop()}},e,t,[[0,19,22,25]])}))()},handleSaveInitiative:function(){var t=this;return c()(i.a.mark(function e(){var a,r,s,o,c,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.$route.query.orgId,r=t.$route.query.initiativeid,s=JSON.parse(n()(t.form)),delete s.createdAt,delete s.updatedAt,delete s.createdBy,delete s.popularity,delete s.author,delete s.id,delete s.vote,s.horizon=t.formatDate(new Date(s.horizon.date)),s.statusId=String(s.status.id),delete s.status,s.organizationId=String(s.organizationId),s.order_index=String(s.order_index),e.next=18,t.axios.put("/api/initiatives/edit/"+a+"/"+r,s);case 18:if(o=e.sent,c=u()(o,"data.success")){e.next=22;break}throw new Error("Unable to update initiative.");case 22:l=t.$refs.comments_ref.newComment,l.length>0&&t.$refs.comments_ref.handleNewComment(t.$refs.comments_ref.newComment),e.next=29;break;case 26:return e.prev=26,e.t0=e.catch(0),e.abrupt("return",t.$errorMessage.show(e.t0));case 29:return e.prev=29,t.$router.go(-1),t.$notify({group:"app",type:"success",text:"Initiative updated"}),e.finish(29);case 33:case"end":return e.stop()}},e,t,[[0,26,29,33]])}))()},doVote:function(t){var e=this;return c()(i.a.mark(function a(){var r,n,s,o;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=e.$route.query.initiativeid,a.next=4,e.axios.post("/api/votes/initiatives/"+r+"/"+String(t));case 4:if(n=a.sent,s=u()(n,"data.success")){a.next=8;break}throw new Error("Unable to vote.");case 8:o=u()(n,"data.votes"),e.vote=o,a.next=15;break;case 12:return a.prev=12,a.t0=a.catch(0),a.abrupt("return",e.$errorMessage.show(a.t0));case 15:return a.prev=15,a.finish(15);case 17:case"end":return a.stop()}},a,e,[[0,12,15,17]])}))()},loadVotes:function(){var t=this;return c()(i.a.mark(function e(){var a,r,n,s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.$route.query.initiativeid,e.next=4,t.axios.get("/api/votes/initiatives/"+a);case 4:if(r=e.sent,n=u()(r,"data.success")){e.next=8;break}throw new Error("Unable load votes.");case 8:s=u()(r,"data.votes"),t.vote=s,o=u()(r,"data.myVote"),0!==o&&t.handleInitiativeSetField(o,"vote"),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",t.$errorMessage.show(e.t0));case 17:return e.prev=17,e.finish(17);case 19:case"end":return e.stop()}},e,t,[[0,14,17,19]])}))()}},components:{Connections:p.a,Comments:f.a}}},"3xoH":function(t,e){},"43SK":function(t,e){},"538m":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form",{staticClass:"reset-password",on:{submit:t.submit}},[a("h2",{staticClass:"center"},[t._v("Reset password"),a("br"),t._v("for")]),t._v(" "),a("b-form-group",[a("b-form-input",{attrs:{type:"password",required:"",placeholder:"Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),a("b-form-group",[a("b-form-input",{attrs:{type:"password",required:"",placeholder:"Confirmation"},model:{value:t.form.confirmation,callback:function(e){t.$set(t.form,"confirmation",e)},expression:"form.confirmation"}})],1),t._v(" "),a("div",{staticClass:"button-box center"},[a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Save")])],1)],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},"5PmU":function(t,e,a){"use strict";function r(t){a("5n4W")}var n=a("LiAu"),s=a("ZNRg"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},"5n4W":function(t,e){},"6WNL":function(t,e){},"7zck":function(t,e){},"8EsE":function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),o=a("Q7hp"),c=a.n(o),l=a("L/hj");e.a={name:"Invite",beforeCreate:function(){var t=this;return i()(n.a.mark(function e(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},mounted:function(){var t=this;return i()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.checkToken();case 2:case"end":return e.stop()}},e,t)}))()},data:function(){return{register:{firstName:void 0,lastName:void 0,email:void 0,password:void 0,confirmation:void 0,tosAccepted:!1,token:null},err:!1,login:{email:void 0,password:void 0,token:null},organization:null,postLogin:!1,postRegister:!1,saving:!1,form:"login"}},methods:{openTerms:function(){window.open("/static/PM415TERMSANDCONDITIONS.html","_blank")},checkToken:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.$route.query.token){e.next=3;break}return e.abrupt("return");case 3:if(!a){e.next=25;break}return t.invited=!0,e.prev=5,e.next=8,t.axios.get("/api/org/invite",{params:{token:a}});case 8:if(r=e.sent,s=c()(r,"data.success")){e.next=12;break}throw new Error("Token invalid or expired");case 12:t.organization=c()(r,"data.organization"),t.login.email=c()(r,"data.email"),t.register.email=c()(r,"data.email"),t.login.token=a,t.register.token=a,e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(5),t.err=!0,e.abrupt("return",t.$errorMessage.show(e.t0));case 23:return e.prev=23,e.finish(23);case 25:case"end":return e.stop()}},e,t,[[5,19,23,25]])}))()},handleRegister:function(t){var e=this;return i()(n.a.mark(function a(){var r,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,e.axios.post("/api/account/register",e.register);case 4:if(r=a.sent,s=c()(r,"data.success")){a.next=8;break}throw new Error(c()(r,"data.message","Unable to create account"));case 8:e.$notify({group:"app",type:"success",text:"Your account created and invitation accepted, please check your inbox for confirmation email."}),e.postRegister=!0,a.next=15;break;case 12:return a.prev=12,a.t0=a.catch(1),a.abrupt("return",e.$errorMessage.show(a.t0));case 15:return a.prev=15,e.$loading(!1),a.finish(15);case 18:case"end":return a.stop()}},a,e,[[1,12,15,18]])}))()},handleLogin:function(t){var e=this;return i()(n.a.mark(function r(){var s,i,o;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),r.prev=1,r.next=4,e.axios.post("/api/account/login",e.login);case 4:s=r.sent,i=c()(s,"data.token"),o=c()(s,"data.user"),e.$notify({group:"app",type:"success",text:"Your invitation accepted."}),a.i(l.b)(e,i,o),e.postLogin=!0,r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),e.$errorMessage.show(r.t0);case 15:return r.prev=15,e.$loading(!1),r.finish(15);case 18:case"end":return r.stop()}},r,e,[[1,12,15,18]])}))()},toggleForm:function(){this.form="login"===this.form?"register":"login"}}}},"8uEU":function(t,e,a){"use strict";function r(t){a("QNS0")}var n=a("/FO0"),s=a("0jWj"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},"9M+g":function(t,e){},A32S:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-toolbar",{staticClass:"cards-toolbar hidden-sm-and-down",attrs:{card:"",prominent:"","align-center":""}},[a("h3",[t._v(t._s(this.title))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{small:"",outline:"",color:"pink"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("close")]),t._v(" "),a("v-btn",{attrs:{small:"",outline:"",color:"success"},on:{click:function(e){t.dialogNewItem=!0}}},[t._v("New")])],1),t._v(" "),a("v-toolbar",{staticClass:"cards-toolbar hidden-sm-and-down",attrs:{card:"",prominent:"","align-center":""}},[a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),t._l(t.options,function(e){return a("div",{key:e.id},[a("v-checkbox",{staticClass:"checkbox mr-2",attrs:{label:e.text,value:e.value},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)})],2),t._v(" "),a("v-toolbar",{staticClass:"cards-toolbar hidden-sm-and-down",attrs:{card:"",prominent:"","align-center":""}},[a("v-checkbox",{staticClass:"checkbox",attrs:{label:"Show archived"},on:{change:t.reload},model:{value:t.showArchived,callback:function(e){t.showArchived=e},expression:"showArchived"}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{staticClass:"pt-0",attrs:{label:"Filter","single-line":""},on:{keyup:t.filterItems},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),a("v-btn",{staticClass:"pt-0 mt-0 clear-filter-botton",attrs:{small:"",outline:""},on:{click:function(e){t.filter="",t.clearItemsFilter()}}},[t._v("Clear")])],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"cards-toolbar-mobile hidden-md-and-up",attrs:{xs12:"","pl-3":"","pr-3":""}},[a("v-checkbox",{staticClass:"checkbox ml-2",attrs:{label:"Show archived"},on:{change:t.reload},model:{value:t.showArchived,callback:function(e){t.showArchived=e},expression:"showArchived"}}),t._v(" "),a("v-btn",{attrs:{small:"",outline:"",color:"pink"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("close")]),t._v(" "),a("v-btn",{attrs:{small:"",outline:"",color:"success"},on:{click:function(e){t.dialogNewItem=!0}}},[t._v("New")])],1),t._v(" "),t._l(t.options,function(e){return a("v-flex",{key:e.id,staticClass:"cards-toolbar-mobile hidden-md-and-up pl-4",attrs:{xs6:""}},[a("v-checkbox",{staticClass:"checkbox mr-2",attrs:{label:e.text,value:e.value},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)}),t._v(" "),a("v-flex",{staticClass:"cards-toolbar-mobile hidden-md-and-up",attrs:{xs12:"","pl-3":"","pr-3":""}},[a("v-text-field",{staticClass:"pt-0 pl-2 pr-2",attrs:{label:"Filter","single-line":""},on:{keyup:t.filterItems},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),a("v-btn",{staticClass:"pt-0 mt-0 clear-filter-botton",attrs:{small:"",outline:""},on:{click:function(e){t.filter="",t.clearItemsFilter()}}},[t._v("Clear")])],1)],2)],1),t._v(" "),t._l(t.filteredSelected.slice().reverse(),function(e){return a("v-layout",{key:e.id,staticClass:"items-row",attrs:{row:"",wrap:"",id:String(e.id)}},[a("v-flex",{attrs:{xs12:""}},[a("h5",{staticClass:"backlogs-cards-header"},[t._v(t._s(e.name))])]),t._v(" "),e.filteredItems.length?t._e():a("v-flex",{attrs:{xs12:""}},[a("h3",{staticClass:"text-center font-weight-thin"},[t._v("Nothing here yet")])]),t._v(" "),a("draggable",{staticClass:"layout wrap",attrs:{list:e.filteredItems,group:"items",move:t.onMove},on:{start:function(e){t.draging=!0},end:function(e){return t.onEnd(e)},change:t.onListChange}},t._l(e.filteredItems,function(e){return a("v-flex",{key:e.id,attrs:{xs12:"",sm6:"",md4:"",lg3:"","pl-1":"","pr-1":"","pt-3":""}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("h5",{staticClass:"mb-0"},[t._v("\n              Title:\n              "),a("router-link",{attrs:{to:"item/?orgId="+t.$store.state.organization.id+"&itemId="+e.id}},[t._v(t._s(e.title))])],1)]),t._v(" "),a("div",{staticClass:"card-body pt-0 pb-0"},[a("p",{staticClass:"mb-2"},[t._v("\n              Author:\n              "),a("a",{attrs:{href:"#"},on:{click:function(a){return t.filterItems(e.author)}}},[t._v(t._s(e.author))])])]),t._v(" "),a("v-card-actions",{staticClass:"pl-3 pb-2"},[a("v-btn",{staticClass:"edit-button extra-small-button",attrs:{outline:"",fab:"",dark:"",small:"",color:"primary",to:"item/?orgId="+t.$store.state.organization.id+"&itemId="+e.id}},[a("i",{staticClass:"material-icons"},[t._v("edit")])]),t._v(" "),a("v-btn",{staticClass:"delete-button extra-small-button",attrs:{outline:"",fab:"",dark:"",small:"",color:"primary"},on:{click:function(a){t.setCurrentItem(e),t.dialogDeleteItem=!0}}},[a("i",{staticClass:"material-icons"},[t._v("delete")])])],1)],1)],1)}),1)],1)}),t._v(" "),a("v-dialog",{attrs:{"max-width":"850px"},model:{value:t.dialogNewItem,callback:function(e){t.dialogNewItem=e},expression:"dialogNewItem"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.currentItem.title))])]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm7:""}},[a("v-text-field",{attrs:{placeholder:"Title item"},model:{value:t.newItem.title,callback:function(e){t.$set(t.newItem,"title",e)},expression:"newItem.title"}}),t._v(" "),a("v-textarea",{attrs:{placeholder:"Title description"},model:{value:t.newItem.description,callback:function(e){t.$set(t.newItem,"description",e)},expression:"newItem.description"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm5:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Status")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-select",{attrs:{items:t.objStatuses,"item-text":"name","item-value":"name","return-object":""},on:{input:function(e){return t.handleItemNewItemSetField(e,"status")}},model:{value:t.objSelecBox,callback:function(e){t.objSelecBox=e},expression:"objSelecBox"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Assignee:")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-select",{staticClass:"pt-0",attrs:{items:t.users,"item-text":"`${data.item.firstName} ${data.item.lastName}`","item-value":"`${data.item.firstName} ${data.item.lastName}`"},on:{input:function(e){return t.handleItemNewItemSetField(e,"assignee")}},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(t._s(e.item.firstName)+" "+t._s(e.item.lastName))]}},{key:"item",fn:function(e){return[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.firstName+" "+e.item.lastName)}})],1)]}}])})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Points:")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-select",{attrs:{items:t.pointsVar,"item-text":String(t.newItem.points),"item-value":String(t.newItem.points)},on:{input:function(e){return t.handleItemNewItemSetField(e,"points")}}})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"xs-12":""}},[a("v-btn",{staticClass:"save-and-close-button",attrs:{color:"blue darken-1",flat:"",medium:""},on:{click:function(e){return t.handleNewItem()}}},[t._v("Save and close")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",medium:""},on:{click:function(e){return t.handleNewItem(!0)}}},[t._v("Save and open")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",medium:""},on:{click:function(e){t.dialogNewItem=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"250"},model:{value:t.dialogDeleteItem,callback:function(e){t.dialogDeleteItem=e},expression:"dialogDeleteItem"}},[a("v-card",[a("v-card-text",{staticClass:"text-xs-center subheading"},[t._v("Wait. Are you sure you want to delete this permanently?")]),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",flat:"flat",outline:"",small:""},on:{click:function(e){t.dialogDeleteBackLog=!1}}},[t._v("Cancel")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"error",flat:"flat",outline:"",small:""},on:{click:function(e){return t.handleItemDelete(t.currentItem)}}},[t._v("Yes")])],1)],1)],1)],2)},n=[],s={render:r,staticRenderFns:n};e.a=s},A6W7:function(t,e){},AHJT:function(t,e,a){"use strict";var r=a("pFYg"),n=a.n(r),s=a("mvHQ"),i=a.n(s),o=a("Xxa5"),c=a.n(o),l=a("exGp"),u=a.n(l),d=a("Q7hp"),v=a.n(d),p=a("L/hj"),f=a("M4fF"),m=a.n(f);e.a={name:"Search",data:function(){return{text:this.$route.query.text,activatedButton:"",initialSearchResults:[],initialFilteredSearchResults:null,filteredSearchResults:null,initialSearchResultsForSorting:[],page:1,totalPages:1,perPage:8,results:[],resTables:[],currentPage:1,totalRows:0,variants:[],currentVarriant:"all",itemsFields:["type","title",{key:"description",label:"Description or comment"},"createdAt","author","assignee","ownerId"],filter:"",showArchived:!1}},mounted:function(){var t=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.text=t.$route.query.text,!t.text){e.next=4;break}return e.next=4,t.search();case 4:case"end":return e.stop()}},e,t)}))()},computed:{searchResults:function(){return null!==this.filteredSearchResults?this.filteredSearchResults.slice(0,this.perPage):this.results}},methods:{reload:function(t){var e=this;return u()(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.showArchived=t,e.text=e.$route.query.text,a.next=4,e.search();case 4:case"end":return a.stop()}},a,e)}))()},handleUsername:function(t){return a.i(p.c)(t)},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},handleChangeView:function(t){"all"===t?(this.filter="",this.filterSearchResults(this.filter)):(this.filter=t,this.filterSearchResults(this.filter)),this.currentVarriant=t},handleGetHref:function(t,e){if("bugs"===t.type&&!e)return"bug/?orgId="+this.$store.state.organization.id+"&bugId="+t.id;if("initiatives"===t.type&&!e)return"initiative/?orgId="+this.$store.state.organization.id+"&initiativeid="+t.id;if("items"===t.type&&!e)return"items/item/?orgId="+this.$store.state.organization.id+"&itemId="+t.id;if("backlogs"===t.type&&!e)return"items/?orgId="+this.$store.state.organization.id+"&backlogid="+t.id;if(e)return"items/?orgId="+this.$store.state.organization.id+"&backlogid="+t.ownerId;if("comments"===t.type&&!e){var a=JSON.parse(i()(t));return a.type=a.ownerTable,a.id=a.ownerId,this.handleGetHref(a,!1)}return""},search:function(){var t=this;return u()(c.a.mark(function e(){var a,r,n,s,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.text){e.next=28;break}return e.prev=1,a=t.$store.state.organization.id,e.next=5,t.axios.get("/api/search/"+t.text+"/"+a+"/"+t.showArchived);case 5:if(r=e.sent,n=v()(r,"data.success")){e.next=9;break}throw new Error("Unable to search data.");case 9:s=v()(r,"data.data"),i=[],s.forEach(function(t){t.createdOn&&(t.createdAt=new Date(t.createdOn).toLocaleString()),i.push(t.type)}),i=m.a.union(i),i.push("all"),t.variants=i,t.totalPages=Math.ceil(s.length/t.perPage),t.initialSearchResults=s,t.initialSearchResultsForSorting=s.slice(),t.results=t.initialSearchResults.slice(0,t.perPage),t.totalRows=s.length,e.next=25;break;case 22:return e.prev=22,e.t0=e.catch(1),e.abrupt("return",t.$errorMessage.show(e.t0));case 25:return e.prev=25,t.results.forEach(function(t){}),e.finish(25);case 28:case"end":return e.stop()}},e,t,[[1,22,25,28]])}))()},filterSearchResults:function(t){this.page=1;var e=this.initialSearchResults,a=void 0;a="string"==typeof t?t:this.filter;for(var r=["type","title","description","author","assignee","ownerId","createdAt"],s=0,i=e.length;s<i;s++)this.filteredSearchResults=e.filter(function(t){return r.some(function(e){return"string"==typeof t[e]||"number"==typeof t[e]?t[e].toString().toLowerCase().includes(a.toLowerCase()):"object"===n()(t[e])&&t[e].hasOwnProperty("lastName")?t[e].lastName.toLowerCase().includes(a.toLowerCase()):void 0})});this.totalPages=Math.ceil(this.filteredSearchResults.length/this.perPage),this.initialFilteredSearchResults=this.filteredSearchResults.slice()},clearSearchResultsFilter:function(){this.filteredSearchResults=null,this.totalPages=Math.ceil(this.initialSearchResults.length/this.perPage)},paginationFunction:function(t){var e=(t-1)*this.perPage;this.page=t;var a=void 0;""===this.activatedButton?null!==this.filteredSearchResults?(a=this.initialFilteredSearchResults.slice(e,e+this.perPage),this.filteredSearchResults=a.slice()):(a=this.initialSearchResults.slice(e,e+this.perPage),this.results=a):null!==this.filteredSearchResults?(a=this.initialFilteredSearchResults.slice(e,e+this.perPage),this.filteredSearchResults=a.slice()):(a=this.initialSearchResultsForSorting.slice(e,e+this.perPage),this.searchResults=a)}},components:{},watch:{"$route.query.text":function(){this.text!==this.$route.query.text&&(this.text=this.$route.query.text,this.search())}}}},AT56:function(t,e){},B5Im:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-xs-center preloader-holder"},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},B9wI:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings"},[a("b-tabs",[a("b-tab",{attrs:{title:"Profile"}},[a("profile",{attrs:{organizations:t.organizations}})],1),t._v(" "),a("b-tab",{attrs:{title:"Organization"}},[a("organization",{attrs:{organizations:t.organizations}})],1),t._v(" "),a("b-tab",{attrs:{title:"Users"}},[a("users",{attrs:{organizations:t.organizations}})],1)],1)],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},Bez9:function(t,e,a){"use strict";function r(t){a("43SK")}var n=a("kIqw"),s=a("IyyB"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},CBC2:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[!0===t.loading?a("div",[a("loading-indication")],1):t._e(),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-toolbar",{staticClass:"cards-toolbar hidden-sm-and-down",attrs:{card:"",prominent:"","align-center":""}},[a("v-checkbox",{staticClass:"checkbox",attrs:{label:"Show archived"},on:{change:t.reload},model:{value:t.showArchived,callback:function(e){t.showArchived=e},expression:"showArchived"}}),t._v(" "),a("div",[a("v-btn",{class:{"v-btn--active":"title"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortBacklogsCards("title")}}},[t._v("Backlog")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"autor"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortBacklogsCards("autor")}}},[t._v("Author")])],1),t._v(" "),a("v-spacer",{staticClass:"hidden-md-and-down"}),t._v(" "),a("v-btn",{attrs:{small:"",outline:"",color:"success"},on:{click:function(e){t.dialogNewBackLog=!0}}},[t._v("New")])],1),t._v(" "),a("v-toolbar",{staticClass:"cards-toolbar hidden-sm-and-down",attrs:{card:"",prominent:"","align-center":""}},[a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{staticClass:"pt-0",attrs:{label:"Filter","single-line":""},on:{keyup:t.filterBacklogs},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),a("v-btn",{staticClass:"pt-0 mt-0 clear-filter-botton",attrs:{small:"",outline:""},on:{click:function(e){t.filter="",t.clearBacklogsFilter()}}},[t._v("Clear")])],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"cards-toolbar-mobile hidden-md-and-up",attrs:{xs12:"","pl-3":"","pr-3":""}},[a("v-btn",{attrs:{small:"",outline:"",color:"success"},on:{click:function(e){t.dialogNewBackLog=!0}}},[t._v("New")]),t._v(" "),a("v-checkbox",{staticClass:"checkbox pl-2 pr-2",attrs:{label:"Show archived"},on:{change:t.reload},model:{value:t.showArchived,callback:function(e){t.showArchived=e},expression:"showArchived"}}),t._v(" "),a("v-btn",{class:{"v-btn--active":"initiative"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortBacklogsCards("title")}}},[t._v("Backlog")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"autor"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortBacklogsCards("autor")}}},[t._v("Author")])],1),t._v(" "),a("v-flex",{staticClass:"cards-toolbar-mobile hidden-md-and-up",attrs:{xs12:"","pl-3":"","pr-3":""}},[a("v-text-field",{staticClass:"pt-0 pl-2 pr-2",attrs:{label:"Filter","single-line":""},on:{keyup:t.filterBacklogs},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),a("v-btn",{staticClass:"pt-0 mt-0 clear-filter-botton",attrs:{small:"",outline:""},on:{click:function(e){t.filter="",t.clearBacklogsFilter()}}},[t._v("Clear")])],1)],1),t._v(" "),t._l(t.backlogsCards,function(e){return a("v-flex",{key:e.id,attrs:{xs12:"",sm6:"",md4:"",lg3:"","pl-1":"","pr-1":"","pt-3":""}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("h4",{staticClass:"mb-0"},[t._v("\n            Backlog:\n            "),a("router-link",{attrs:{to:"items/?orgId="+t.$store.state.organization.id+"&backlogid="+e.id}},[t._v(t._s(e.title))])],1)]),t._v(" "),a("div",{staticClass:"card-body pt-0 pb-0"},[a("p",{staticClass:"mb-2"},[t._v("\n            Author:\n            "),a("a",{attrs:{href:"#"},on:{click:function(a){return t.filterBacklogs(e.author)}}},[t._v(t._s(e.author))])])]),t._v(" "),a("v-card-actions",{staticClass:"pl-3 pb-2"},[a("v-btn",{staticClass:"edit-button extra-small-button",attrs:{outline:"",fab:"",dark:"",small:"",color:"primary"},on:{click:function(a){t.setCurrentBacklog(e),t.dialogBacklogEdit=!0}}},[a("i",{staticClass:"material-icons"},[t._v("edit")])]),t._v(" "),t.$store.state.user.id===e.createdBy||t.admin?a("v-btn",{staticClass:"delete-button extra-small-button",attrs:{outline:"",fab:"",dark:"",small:"",color:"primary"},on:{click:function(a){t.setCurrentBacklog(e),t.dialogDeleteBackLog=!0}}},[a("i",{staticClass:"material-icons"},[t._v("delete")])]):t._e()],1)],1)],1)})],2),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("div",{staticClass:"text-xs-center pt-3"},[t.initialBacklogs.length?a("v-pagination",{attrs:{length:t.totalPages,"total-visible":15},on:{input:t.paginationFunction},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1)]),t._v(" "),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogNewBackLog,callback:function(e){t.dialogNewBackLog=e},expression:"dialogNewBackLog"}},[a("v-card",[a("v-card-title",{staticClass:"pb-0 pl-4"},[a("span",{staticClass:"headline new-backlog-headline"},[t._v("New backlog")])]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":"","pl-3":"","pt-2":"","pb-2":""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs2:"","pl-0":""}},[a("v-subheader",{staticClass:"new-backlog-title"},[t._v("Title:")])],1),t._v(" "),a("v-flex",{attrs:{xs10:""}},[a("v-text-field",{staticClass:"pl-4",attrs:{placeholder:"Title backlog"},model:{value:t.newBacklog.title,callback:function(e){t.$set(t.newBacklog,"title",e)},expression:"newBacklog.title"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"xs-12":""}},[a("v-btn",{staticClass:"save-and-close-button",attrs:{color:"blue darken-1",flat:"",medium:""},on:{click:function(e){return t.handleNewBacklog(!1)}}},[t._v("Save")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",medium:""},on:{click:function(e){t.dialogNewBackLog=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"250"},model:{value:t.dialogDeleteBackLog,callback:function(e){t.dialogDeleteBackLog=e},expression:"dialogDeleteBackLog"}},[a("v-card",[a("v-card-text",{staticClass:"text-xs-center subheading"},[t._v("Wait. Are you sure you want to delete this permanently?")]),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",flat:"flat",outline:"",small:""},on:{click:function(e){t.dialogDeleteBackLog=!1}}},[t._v("Cancel")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"error",flat:"flat",outline:"",small:""},on:{click:function(e){return t.handleBacklogDelete(t.currentBacklog)}}},[t._v("Yes")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"450"},model:{value:t.dialogBacklogEdit,callback:function(e){t.dialogBacklogEdit=e},expression:"dialogBacklogEdit"}},[a("v-card",[a("v-layout",{attrs:{row:"",container:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"","align-center":""}},[a("v-text-field",{attrs:{placeholder:t.currentBacklog.title},model:{value:t.newNameOldBacklog,callback:function(e){t.newNameOldBacklog=e},expression:"newNameOldBacklog"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"","align-center":""}},[t.currentBacklog?a("v-checkbox",{staticClass:"checkbox",attrs:{label:"Archived"},model:{value:t.currentBacklog.archived,callback:function(e){t.$set(t.currentBacklog,"archived",e)},expression:"currentBacklog.archived"}}):t._e()],1)],1),t._v(" "),a("v-card-actions",[a("v-btn",{staticClass:"ml-3 mb-2",attrs:{flat:"flat",outline:"",small:""},on:{click:function(e){t.dialogBacklogEdit=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",flat:"flat",outline:"",small:""},on:{click:function(e){return t.handleBacklogEditTitle(t.currentBacklog,t.newNameOldBacklog)}}},[t._v("Save")])],1)],1)],1)],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},D5N1:function(t,e,a){"use strict";var r=a("pFYg"),n=a.n(r),s=a("Xxa5"),i=a.n(s),o=a("exGp"),c=a.n(o),l=a("Q7hp"),u=a.n(l),d=a("L/hj");e.a={name:"Backlogs",data:function(){return{newBacklog:{title:""},backlogs:[],activatedButton:"",initialBacklogs:[],initialBacklogsForSorting:[],initialFilteredBacklogs:null,filteredBacklogs:null,newNameOldBacklog:"",currentBacklog:"",filter:null,page:1,totalPages:4,perPage:8,showArchived:!1,currentPage:1,loading:!1,dialogBacklogEdit:!1,dialogDeleteBackLog:!1,dialogNewBackLog:!1,dialogEditBacklog:!1}},mounted:function(){var t=this;return c()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadOrgBacklogs();case 2:case"end":return e.stop()}},e,t)}))()},computed:{backlogsCards:function(){return null!==this.filteredBacklogs?this.filteredBacklogs.slice(0,this.perPage):this.backlogs}},methods:{close:function(){this.dialogNewBackLog=!1},reload:function(t){var e=this;return c()(i.a.mark(function a(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.showArchived=t,a.next=3,e.loadOrgBacklogs();case 3:case"end":return a.stop()}},a,e)}))()},loadOrgBacklogs:function(){var t=this;return c()(i.a.mark(function e(){var r,n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.axios.get("/api/backlogs/"+t.showArchived+"/"+t.$store.state.organization.id);case 4:if(r=e.sent,n=u()(r,"data.success")){e.next=8;break}throw new Error("Unable to load user's backlogs.");case 8:s=u()(r,"data.backlogs"),s.forEach(function(t){t.author=a.i(d.c)(t),1===t.archived?t.archived=!0:t.archived=!1}),t.totalPages=Math.ceil(s.length/t.perPage),t.initialBacklogs=s,t.initialBacklogsForSorting=s.slice(),t.backlogs=t.initialBacklogs.slice(0,t.perPage),t.paginationFunction(t.page>t.totalPages?1:t.page),e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(1),t.loading=!1,e.abrupt("return",t.$errorMessage.show(e.t0));case 21:return e.prev=21,t.loading=!1,e.finish(21);case 24:case"end":return e.stop()}},e,t,[[1,17,21,24]])}))()},handleChangeGroupBy:function(t){var e=this;return c()(i.a.mark(function a(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.currentGroupBy=t;case 1:case"end":return a.stop()}},a,e)}))()},handleBacklogNewItemSetField:function(t,e){var a=this;return c()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:a.newBacklog[e]=t;case 1:case"end":return r.stop()}},r,a)}))()},setCurrentBacklog:function(t){this.currentBacklog=t},handleBacklogEditTitle:function(t,e){var a=this;return c()(i.a.mark(function r(){var n,s,o;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a.loading=!0,n={},e&&(n.title=e),n.archived=t.archived,r.prev=4,a.$loading(!0),r.next=8,a.axios.put("/api/backlogs/edit/"+a.$store.state.organization.id+"/"+t.id,n);case 8:if(s=r.sent,o=u()(s,"data.success")){r.next=12;break}throw new Error("Unable to update backlog.");case 12:a.$notify({group:"app",type:"success",text:"Backlog updated"}),a.dialogEditBacklog,a.loading=!1,a.dialogBacklogEdit=!1,r.next=22;break;case 18:return r.prev=18,r.t0=r.catch(4),a.loading=!1,r.abrupt("return",a.$errorMessage.show(r.t0));case 22:return r.prev=22,a.loading=!0,r.next=26,a.loadOrgBacklogs();case 26:return a.$loading(!1),a.newNameOldBacklog="",a.currentBacklog="",r.finish(22);case 30:case"end":return r.stop()}},r,a,[[4,18,22,30]])}))()},handleBacklogDelete:function(t){var e=this;return c()(i.a.mark(function a(){var r,n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,!t||e.$store.state.user.id,a.prev=2,a.next=5,e.axios.delete("/api/backlogs/"+e.$store.state.organization.id+"/"+t.id);case 5:if(r=a.sent,n=u()(r,"data.success"),e.loading=!1,e.dialogDeleteBackLog=!1,n){a.next=11;break}throw new Error("Unable to create new organization.");case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(2),e.loading=!1,a.abrupt("return",e.$errorMessage.show(a.t0));case 17:return a.prev=17,e.loading=!1,e.$notify({group:"app",type:"success",text:"Backlog "+t.title+" was deleted"}),e.currentBacklog="",a.next=23,e.loadOrgBacklogs();case 23:return a.finish(17);case 24:case"end":return a.stop()}},a,e,[[2,13,17,24]])}))()},handleNewBacklog:function(){var t=this;return c()(i.a.mark(function e(){var a,r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,a={},a.title=t.newBacklog.title,e.next=6,t.axios.post("/api/backlogs/new/"+t.$store.state.organization.id,a);case 6:if(r=e.sent,n=u()(r,"data.success"),t.loading=!1,t.dialogNewBackLog=!1,n){e.next=12;break}throw new Error("Unable to create new backlog.");case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),t.loading=!1,e.abrupt("return",t.$errorMessage.show(e.t0));case 18:return e.prev=18,t.loading=!1,t.newBacklog={title:""},e.next=23,t.loadOrgBacklogs();case 23:return e.finish(18);case 24:case"end":return e.stop()}},e,t,[[1,14,18,24]])}))()},handleUsername:function(t){return a.i(d.c)(t)},sortBacklogsCards:function(t){function e(t,e){var r=void 0,n=void 0;return"horizon"===a?(r=t[a][a].replace(/\s/g,"X").toLowerCase(),n=e[a][a].replace(/\s/g,"X").toLowerCase(),r>n?-1:r===n?1:0):(r="string"==typeof t[a]?t[a].replace(/\s/g,"X").toLowerCase():t[a],n="string"==typeof e[a]?e[a].replace(/\s/g,"X").toLowerCase():e[a],r<n?-1:r===n?1:0)}var a=t.toLowerCase();if(this.activatedButton!==t){if(null!==this.filteredBacklogs){var r=this.initialFilteredBacklogs.slice();this.filteredBacklogs=r.sort(e).slice(0,this.perPage),this.page=1}else this.initialBacklogsForSorting.sort(e),this.backlogs=this.initialBacklogsForSorting.slice(0,this.perPage),this.page=1;this.activatedButton=t}else null!==this.filteredBacklogs?this.filteredBacklogs=this.initialFilteredBacklogs.slice():(this.page=1,this.backlogs=this.initialBacklogs.slice(0,this.perPage)),this.activatedButton=""},filterBacklogs:function(t){this.activatedButton="",this.page=1;var e=this.initialBacklogs,a=void 0;a="string"==typeof t?t:this.filter;var r=["title","author"];this.filteredBacklogs=e.filter(function(t){return r.some(function(e){return"string"==typeof t[e]||"number"==typeof t[e]?t[e].toString().toLowerCase().includes(a.toLowerCase()):"object"===n()(t[e])?t[e].horizon.toLowerCase().includes(a.toLowerCase()):void 0})}),this.totalPages=Math.ceil(this.filteredBacklogs.length/this.perPage),this.initialFilteredBacklogs=this.filteredBacklogs.slice()},clearBacklogsFilter:function(){this.filteredBacklogs=null,this.totalPages=Math.ceil(this.initialBacklogs.length/this.perPage)},paginationFunction:function(t){var e=(t-1)*this.perPage;this.page=t;var a=void 0;""===this.activatedButton?null!==this.filteredBacklogs?(a=this.initialFilteredBacklogs.slice(e,e+this.perPage),this.filteredBacklogs=a.slice()):a=this.initialBacklogs.slice(e,e+this.perPage):null!==this.filteredBacklogs?(a=this.initialFilteredBacklogs.slice(e,e+this.perPage),this.filteredBacklogs=a.slice()):a=this.initialBacklogsForSorting.slice(e,e+this.perPage),this.backlogs=a}},watch:{},components:{}}},DEB1:function(t,e){},DV9M:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form",{staticClass:"register",on:{submit:t.handleSubmit}},[t.registered?t._e():a("h2",{staticClass:"center"},[t._v("Welcome to")]),t._v(" "),t.registered?t._e():a("h1",{staticClass:"center"},[t._v("PM415")]),t._v(" "),t.registered?t._e():a("div",{staticClass:"not-registered"},[a("b-row",[a("b-col",{attrs:{md:"12",sm:"12"}},[a("b-form-group",[a("b-form-input",{attrs:{type:"text",placeholder:"First Name"},model:{value:t.form.firstName,callback:function(e){t.$set(t.form,"firstName",e)},expression:"form.firstName"}})],1)],1),t._v(" "),a("b-col",{attrs:{md:"12",sm:"12"}},[a("b-form-group",[a("b-form-input",{attrs:{type:"text",placeholder:"Last Name"},model:{value:t.form.lastName,callback:function(e){t.$set(t.form,"lastName",e)},expression:"form.lastName"}})],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{attrs:{md:"12",sm:"12"}},[a("b-form-group",[a("b-form-input",{attrs:{type:"email",required:"",placeholder:"Email",readonly:t.invited},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{attrs:{md:"12",sm:"12"}},[a("b-form-group",[a("b-form-input",{attrs:{type:"password",placeholder:"Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),t._v(" "),a("b-col",{attrs:{md:"12",sm:"12"}},[a("b-form-group",[a("b-form-input",{attrs:{type:"password",placeholder:"Confirmation"},model:{value:t.form.confirmation,callback:function(e){t.$set(t.form,"confirmation",e)},expression:"form.confirmation"}})],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{attrs:{md:"12",sm:"12"}},[a("b-form-group",[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Organization",readonly:t.invited},model:{value:t.form.organization,callback:function(e){t.$set(t.form,"organization",e)},expression:"form.organization"}})],1)],1)],1),t._v(" "),a("b-row",{staticClass:"tos"},[a("b-form-checkbox",{model:{value:t.form.tosAccepted,callback:function(e){t.$set(t.form,"tosAccepted",e)},expression:"form.tosAccepted"}},[t._v("I accept "),a("a",{staticClass:"small",attrs:{href:"#"},on:{click:t.openTerms}},[t._v("Terms of Service")])])],1),t._v(" "),a("div",{staticClass:"button-box center"},[a("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.saving}},[t._v("Save")]),t._v(" "),a("a",{staticClass:"small",attrs:{href:"#"},on:{click:function(e){t.onChangeForm&&t.onChangeForm("login")}}},[t._v("Already registered?")])],1)],1),t._v(" "),t.registered?a("div",{staticClass:"registered"},[a("h3",[t._v("Thank you for registering")]),t._v(" "),a("h4",[t._v("Please check your inbox for a verification email.")])]):t._e()])},n=[],s={render:r,staticRenderFns:n};e.a=s},"Db+k":function(t,e,a){"use strict";function r(t){a("2/6B")}var n=a("rSe3"),s=a("qVz7"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},Dyw4:function(t,e){},E9oo:function(t,e,a){"use strict";function r(t){a("O/GI")}var n=a("TD0J"),s=a("xTuj"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},"ENP/":function(t,e){},F7tQ:function(t,e){},Fs8J:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),o=a("Q7hp"),c=a.n(o);e.a={name:"",data:function(){return{rss:[],showImg:!1,loading:!1}},computed:{},mounted:function(){var t=this;return i()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadFeed();case 2:case"end":return e.stop()}},e,t)}))()},methods:{loadFeed:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,r||(t.showImg=!1),e.next=5,t.axios.get("/api/rss");case 5:a=e.sent,r=c()(a,"data.success"),s=c()(a,"data.rss"),s.forEach(function(t){t.items.forEach(function(t){t.content=t.content.replace("<pre>","<p>"),t.content=t.content.replace("</pre>","</p>")})}),t.rss=s,t.loading=!1,r||(t.showImg=!0),e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),t.loading=!1,e.abrupt("return",t.$errorMessage.show(e.t0));case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}},e,t,[[1,14,18,20]])}))()}},components:{}}},IcnI:function(t,e,a){"use strict";var r=a("7+uW"),n=a("NYxO"),s=a("Q7hp"),i=a.n(s);r.default.use(n.a),e.a=new n.a.Store({struct:!0,state:{token:null,user:null,organization:{},loading:!0},mutations:{token:function(t,e){t.token=e.token},user:function(t,e){t.user=e.user;var a=i()(e,"user.organization")||i()(e,"user.organizations[0]");a&&(t.organization.id=a.id,t.organization.name=a.name)},organization:function(t,e){t.organization.name=e.name,t.organization.id=e.id},loading:function(t,e){t.loading=e.loading}},actions:{}})},IyyB:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},t._l(t.relations,function(e){return a("v-card",{key:e.key},[a("v-list",{attrs:{subheader:"","two-line":""}},[a("v-subheader",[t._v("Linked "+t._s(e.key)+"s")]),t._v(" "),t._l(e.data,function(e){return a("v-list-tile",{key:e.id},[a("v-list-tile-action",[a("v-checkbox",{model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"item.selected"}})],1),t._v(" "),a("v-list-tile-content",{on:{click:function(e){t.invites=!t.invites}}},[a("v-list-tile-sub-title",[a("router-link",{attrs:{to:e.href}},[t._v(t._s(e.title))])],1)],1)],1)})],2),t._v(" "),a("v-card-actions",[a("v-btn",{staticClass:"ml-2 mb-3",attrs:{flat:"",color:"primary",small:"",outline:""},on:{click:function(a){return t.setCurrentConnectionType(e.key)}}},[t._v("Link "+t._s(e.key))]),t._v(" "),a("v-btn",{staticClass:"mb-3",attrs:{flat:"",color:"pink",small:"",outline:""},on:{click:function(e){t.deleteConnectionDialog=!0}}},[t._v("Remove seleted")])],1)],1)}),1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"250"},model:{value:t.deleteConnectionDialog,callback:function(e){t.deleteConnectionDialog=e},expression:"deleteConnectionDialog"}},[a("v-card",[a("v-card-text",{staticClass:"text-xs-center subheading"},[t._v("Wait. Are you sure you want to delete this permanently?")]),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",flat:"flat",outline:"",small:""},on:{click:function(e){t.deleteConnectionDialog=!1}}},[t._v("Cancel")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"error",flat:"flat",outline:"",small:""},on:{click:function(e){return t.handleDeleteConnections()}}},[t._v("Yes")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"850px"},model:{value:t.modalnew,callback:function(e){t.modalnew=e},expression:"modalnew"}},[a("v-card",[a("v-card-title",[a("v-checkbox",{staticClass:"checkbox pl-2 pr-2",attrs:{label:"Show archived"},on:{change:t.reload},model:{value:t.showArchived,callback:function(e){t.showArchived=e},expression:"showArchived"}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.connectionsDataTableHeaders,items:t.connectionTable,search:t.filter},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[a("v-checkbox",{attrs:{primary:"","hide-details":""},scopedSlots:t._u([{key:"label",fn:function(){return[a("router-link",{staticClass:"pt-1",attrs:{to:e.item.href}},[t._v(t._s(e.item.title))])]},proxy:!0}],null,!0),model:{value:e.item.selected,callback:function(a){t.$set(e.item,"selected",a)},expression:"props.item.selected"}})],1),t._v(" "),a("td",[a("router-link",{attrs:{to:e.item.href}},[t._v(t._s(e.item.title))])],1)]}}])}),t._v(" "),a("div",{staticClass:"text-xs-center pt-2"}),t._v(" "),a("v-card-actions",[a("v-btn",{staticClass:"ml-3 mb-3",attrs:{color:"error",flat:"flat",outline:"",small:""},on:{click:function(e){t.modalnew=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{staticClass:"mb-3",attrs:{color:"primary",flat:"flat",outline:"",small:""},on:{click:function(e){return t.handleNewConnections()}}},[t._v("Link selected")])],1)],1)],1)],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},JZSy:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),o=a("Db+k"),c=a("5PmU"),l=a("8uEU"),u=a("Q7hp"),d=a.n(u),v=a("NHnr");e.a={name:"Settings",data:function(){return{organizations:[]}},mounted:function(){var t=this;return i()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadOrganizations();case 2:v.eventBus.$on("reload",function(e){!0===e.loadOrganization&&t.loadOrganizations()});case 3:case"end":return e.stop()}},e,t)}))()},methods:{loadOrganizations:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$loading(!0),e.prev=1,e.next=4,t.axios.get("/api/user/orgs");case 4:if(a=e.sent,r=d()(a,"data.success")){e.next=8;break}throw new Error("Unable to load user's organizations.");case 8:s=d()(a,"data.organizations"),s.forEach(function(t){t._rowVariant=""}),s.forEach(function(t){t.menuName=t.name,"Pending"===t.role&&(t.menuName=t.name+" (authorization pending)")}),t.organizations=s,e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",t.$errorMessage.show(e.t0));case 17:return e.prev=17,t.$loading(!1),e.finish(17);case 20:case"end":return e.stop()}},e,t,[[1,14,17,20]])}))()}},components:{profile:o.a,organization:c.a,users:l.a}}},JmIY:function(t,e,a){"use strict";var r=a("pFYg"),n=a.n(r),s=a("Xxa5"),i=a.n(s),o=a("exGp"),c=a.n(o),l=a("Q7hp"),u=a.n(l),d=a("M4fF"),v=a.n(d),p=a("L/hj");e.a={name:"Bugs",data:function(){return{bugs:[],activatedButton:"",initialBugs:[],initialBugsForSorting:[],initialFilteredBugs:null,filteredBugs:null,filter:null,objStatuses:[],page:1,totalPages:1,perPage:8,newBug:{title:"",description:"",severity:"P2",status:{name:"None",id:0},reportedBy:{},assignee:{}},show:!1,currentBug:"",admin:!1,severityArray:[{severity:"P0"},{severity:"P1"},{severity:"P2"},{severity:"P3"}],users:[],showArchived:!1,dialogNewBug:!1,dialogDeleteBug:!1,loading:!1,assignedTo:!1}},mounted:function(){var t=this;return c()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setCurrentUser(),e.next=3,t.loadOrgStatuses();case 3:return e.next=5,t.loadOrgBugs();case 5:return e.next=7,t.loadOrgUsers();case 7:case"end":return e.stop()}},e,t)}))()},computed:{bugCards:function(){return null!==this.filteredBugs?this.filteredBugs.slice(0,this.perPage):this.bugs}},methods:{beforeCreate:function(){this.loading=!0},close:function(){this.dialogNewbug=!1},reload:function(t){var e=this;return c()(i.a.mark(function a(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.showArchived=t,a.next=3,e.loadOrgBugs();case 3:case"end":return a.stop()}},a,e)}))()},setCurrentUser:function(){this.newBug.reportedBy=this.$store.state.user,this.newBug.reportedBy.userId=this.newBug.reportedBy.id,this.newBug.assignee=this.$store.state.user,this.newBug.assignee.userId=this.newBug.assignee.id},setCurrentBug:function(t){this.currentBug=t},handleUsername:function(t){return a.i(p.c)(t)},loadOrgStatuses:function(){var t=this;return c()(i.a.mark(function e(){var a,r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading,e.prev=1,a=t.$store.state.organization.id,e.next=5,t.axios.get("/api/statuses/bugs/"+a);case 5:if(r=e.sent,n=u()(r,"data.success")){e.next=9;break}throw new Error("Unable to load user's organizations.");case 9:t.objStatuses=u()(r,"data.statuses"),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),t.oading,e.abrupt("return",t.$errorMessage.show(e.t0));case 16:return e.prev=16,e.finish(16);case 18:case"end":return e.stop()}},e,t,[[1,12,16,18]])}))()},loadOrgUsers:function(){var t=this;return c()(i.a.mark(function e(){var a,r,n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,a=t.$store.state.organization.id,e.next=5,t.axios.get("/api/org/"+a+"/users");case 5:if(r=e.sent,n=u()(r,"data.success")){e.next=9;break}throw new Error("Unable to load user's organizations.");case 9:s=u()(r,"data.users"),t.users=s,t.loading=!1,e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),t.loading=!1,e.abrupt("return",t.$errorMessage.show(e.t0));case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}},e,t,[[1,14,18,20]])}))()},handleNewBug:function(t){var e=this;return c()(i.a.mark(function a(){var r,n,s,o,c;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,a.prev=1,r={},n=e.$store.state.organization.id,r.assignee=String(e.newBug.assignee.userId),r.description=e.newBug.description,r.title=e.newBug.title,r.severity=e.newBug.severity,r.createdBy=String(e.newBug.reportedBy.userId),0!==e.newBug.status.id&&(r.statusId=String(e.newBug.status.id)),a.next=12,e.axios.post("/api/bugs/new/"+n,r);case 12:if(s=a.sent,o=u()(s,"data.success"),o&&(c=u()(s,"data.bugs"),e.dialogNewBug=!1,!0===t&&e.$router.push({name:"bug",query:{orgId:n,bugId:c.id}})),o){a.next=17;break}throw new Error("Unable to create new bug.");case 17:e.loading=!1,a.next=24;break;case 20:return a.prev=20,a.t0=a.catch(1),e.loading=!1,a.abrupt("return",e.$errorMessage.show(a.t0));case 24:return a.prev=24,e.newBug={title:"",description:"",severity:"P2",status:{name:"None",id:0},reportedBy:{},assignee:{}},e.show=!1,e.loadOrgBugs(),e.setCurrentUser(),a.finish(24);case 30:case"end":return a.stop()}},a,e,[[1,20,24,30]])}))()},handleBugDelete:function(t){var e=this;return c()(i.a.mark(function a(){var r,n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,!t||e.$store.state.user.id,a.prev=2,a.next=5,e.axios.delete("/api/bugs/"+e.$store.state.organization.id+"/"+t.id);case 5:if(r=a.sent,n=u()(r,"data.success")){a.next=9;break}throw new Error("Unable to delete bug.");case 9:e.dialogDeleteBug=!1,e.loading=!1,a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(2),e.loading=!1,a.abrupt("return",e.$errorMessage.show(a.t0));case 17:return a.prev=17,e.loadOrgBugs(),e.$notify({group:"app",type:"success",text:"Item "+t.title+" was deleted"}),e.currentBug="",a.finish(17);case 22:case"end":return a.stop()}},a,e,[[2,13,17,22]])}))()},handleNewBugSetField:function(t,e){t.hasOwnProperty("severity")&&(e="severity",t=t[e]),t.hasOwnProperty("name")&&(e="status"),t.hasOwnProperty("firstName")&&null===this.assignedTo&&(e="reportedBy"),null!==this.assignedTo&&(e="assignee",this.assignedTo=null),this.newBug[e]=t},loadOrgBugs:function(){var t=this;return c()(i.a.mark(function e(){var r,n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.axios.get("/api/bugs/full/"+t.showArchived+"/"+t.$store.state.organization.id+"/false");case 4:if(r=e.sent,n=u()(r,"data.success")){e.next=8;break}throw new Error("Unable to load user's organizations.");case 8:s=u()(r,"data.bugs"),s.forEach(function(e){e.reportedBy=a.i(p.c)(e.reportedByData),e.assignedTo=a.i(p.c)(e.assigneeData),e.statusId?e.status=v.a.find(t.objStatuses,{id:e.statusId}):e.status={name:"None",id:0},e.createdAt=new Date(e.createdAt).toLocaleString()}),t.totalPages=Math.ceil(s.length/t.perPage),t.initialBugs=s,t.initialBugsForSorting=s.slice(),t.bugs=t.initialBugs.slice(0,t.perPage),t.admin=u()(r,"data.admin"),t.paginationFunction(t.page>t.totalPages?1:t.page),t.loading=!1,e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(1),t.loading=!1,e.abrupt("return",t.$errorMessage.show(e.t0));case 23:return e.prev=23,e.finish(23);case 25:case"end":return e.stop()}},e,t,[[1,19,23,25]])}))()},sortBugCards:function(t){function e(t,e){var r=void 0,n=void 0;return"status"===a?(r=t[a].name.replace(/\s/g,"X").toLowerCase(),n=e[a].name.replace(/\s/g,"X").toLowerCase(),r>n?-1:r===n?1:0):(r="string"==typeof t[a]?t[a].replace(/\s/g,"X").toLowerCase():t[a],n="string"==typeof e[a]?e[a].replace(/\s/g,"X").toLowerCase():e[a],r<n?-1:r===n?1:0)}var a=t.toLowerCase();if(this.activatedButton!==t){if(null!==this.filteredBugs){var r=this.initialFilteredBugs.slice();this.filteredBugs=r.sort(e).slice(0,this.perPage),this.page=1}else this.initialBugsForSorting.sort(e),this.bugs=this.initialBugsForSorting.slice(0,this.perPage),this.page=1;this.activatedButton=t}else null!==this.filteredBugs?this.filteredBugs=this.initialFilteredBugs.slice():(this.page=1,this.bugs=this.initialBugs.slice(0,this.perPage)),this.activatedButton=""},filterBugs:function(t){this.activatedButton="",this.page=1;var e=this.initialBugs,a=void 0;a="string"==typeof t?t:this.filter;var r=["title","severity","status","reportedBy","assignedTo","createdAt"];this.filteredBugs=e.filter(function(t){return r.some(function(e){return"string"==typeof t[e]||"number"==typeof t[e]?t[e].toString().toLowerCase().includes(a.toLowerCase()):"object"===n()(t[e])?t[e].name.toLowerCase().includes(a.toLowerCase()):void 0})}),this.totalPages=Math.ceil(this.filteredBugs.length/this.perPage),this.initialFilteredBugs=this.filteredBugs.slice()},clearBugsFilter:function(){this.filteredBugs=null,this.totalPages=Math.ceil(this.initialBugs.length/this.perPage)},paginationFunction:function(t){var e=(t-1)*this.perPage;this.page=t;var a=void 0;""===this.activatedButton?null!==this.filteredBugs?(a=this.initialFilteredBugs.slice(e,e+this.perPage),this.filteredBugs=a.slice()):(a=this.initialBugs.slice(e,e+this.perPage),this.bugs=a):null!==this.filteredBugs?(a=this.initialFilteredBugs.slice(e,e+this.perPage),this.filteredBugs=a.slice()):(a=this.initialBugsForSorting.slice(e,e+this.perPage),this.bugs=a)}},components:{}}},KLNe:function(t,e){},"Kke+":function(t,e,a){"use strict";var r=a("mvHQ"),n=a.n(r),s=a("BO1k"),i=a.n(s),o=a("Xxa5"),c=a.n(o),l=a("exGp"),u=a.n(l),d=a("Q7hp"),v=a.n(d),p=a("M4fF"),f=a.n(p),m=a("pouz"),h=a("L/hj"),g=a("6Top"),b=a.n(g);e.a={name:"Items",data:function(){return{dialogNewItem:!1,dialogItemEdit:!1,dialogDeleteItem:!1,initialitems:[],initialFilteredItems:null,filteredItems:null,objStatuses:[],groupByList:["Status","Stategic initiative"],currentGroupBy:"Status",selected:[],initialSelected:[],initialFilteredSelected:null,filteredSelected:[],options:[],users:[],newItem:{title:"",description:"",points:0,status:{id:1,name:"Unplaned"},assignee:{}},items:[],pointsVar:["0","1","2","3","5","8","13","21"],itemsFields:["title","author"],newNameOldItem:"",currentItem:"",filter:null,perPage:5,title:"backlog title",showArchived:!1,dragging:!1,draggedContext:{},relatedContext:{},objSelecBox:""}},mounted:function(){var t=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setCurrentUser(),e.next=3,t.loadBacklogTitle();case 3:return e.next=5,t.loadOrgUsers();case 5:return e.next=7,t.loadOrgStatuses(!0);case 7:t.selected.forEach(function(e){t.options.push({text:e.name,value:e})});case 8:case"end":return e.stop()}},e,t)}))()},computed:{selectedCards:function(){return null!==this.filteredSelected?this.filteredSelected:this.selected}},methods:{reload:function(t){var e=this;return u()(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.showArchived=t,a.next=3,e.loadOrgStatuses(!1);case 3:case"end":return a.stop()}},a,e)}))()},setCurrentUser:function(){this.newItem.assignee=this.$store.state.user,this.newItem.assignee.userId=this.newItem.assignee.id},loadBacklogTitle:function(){var t=this;return u()(c.a.mark(function e(){var a,r,n,s,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.$route.query.orgId,r=t.$route.query.backlogid,t.$loading(!0),e.next=6,t.axios.post("/api/backlogs/"+a,{backlogsId:[r],fullSelect:!1});case 6:if(n=e.sent,s=v()(n,"data.success")){e.next=10;break}throw new Error("Unable to load backlog info");case 10:i=v()(n,"data.backlogs"),0!==i.length&&(t.title=i[0].title),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",t.$errorMessage.show(e.t0));case 17:return e.prev=17,t.$loading(!1),e.finish(17);case 20:case"end":return e.stop()}},e,t,[[0,14,17,20]])}))()},loadOrgStatuses:function(t){var e=this;return u()(c.a.mark(function a(){var r,n,s,o,l,u,d,p,m;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.$loading(!0),a.next=4,e.loadOrgItems();case 4:return a.next=6,e.axios.get("/api/statuses/items/"+e.$store.state.organization.id);case 6:if(r=a.sent,n=v()(r,"data.success")){a.next=10;break}throw new Error("Unable to load user's organizations.");case 10:if(s=v()(r,"data.statuses"),e.objStatuses=s,e.objStatuses.forEach(function(t){t.filteredItems=f.a.filter(e.items,{statusId:t.id}),t.totalRows=t.filteredItems.length,t.currentPage=1}),t&&(e.selected=e.objStatuses),t){a.next=37;break}for(e.selected.forEach(function(t){t.filteredItems=f.a.filter(e.items,{statusId:t.id}),t.totalRows=t.filteredItems.length,t.currentPage=1}),e.filteredSelected=e.selected,o=!0,l=!1,u=void 0,a.prev=20,d=i()(e.filteredSelected);!(o=(p=d.next()).done);o=!0)m=p.value,m.filteredItems&&m.filteredItems.sort(function(t,e){return e.order_index>t.order_index?1:e.order_index<t.order_index?-1:0});a.next=28;break;case 24:a.prev=24,a.t0=a.catch(20),l=!0,u=a.t0;case 28:a.prev=28,a.prev=29,!o&&d.return&&d.return();case 31:if(a.prev=31,!l){a.next=34;break}throw u;case 34:return a.finish(31);case 35:return a.finish(28);case 36:e.initialSelected=e.selected;case 37:e.selected.sort(function(t,e){return t.id-e.id}),a.next=43;break;case 40:return a.prev=40,a.t1=a.catch(0),a.abrupt("return",e.$errorMessage.show(a.t1));case 43:return a.prev=43,e.$loading(!1),a.finish(43);case 46:case"end":return a.stop()}},a,e,[[0,40,43,46],[20,24,28,36],[29,,31,35]])}))()},loadOrgUsers:function(){var t=this;return u()(c.a.mark(function e(){var a,r,n,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.$route.query.orgId,t.$loading(!0),e.next=5,t.axios.get("/api/org/"+a+"/users");case 5:if(r=e.sent,n=v()(r,"data.success")){e.next=9;break}throw new Error("Unable to load user's organizations.");case 9:s=v()(r,"data.users"),t.users=s,e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",t.$errorMessage.show(e.t0));case 16:return e.prev=16,t.$loading(!1),e.finish(16);case 19:case"end":return e.stop()}},e,t,[[0,13,16,19]])}))()},loadOrgItems:function(){var t=this;return u()(c.a.mark(function e(){var r,n,s,i,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$route.query.orgId,n=t.$route.query.backlogid,e.prev=2,t.$loading(!0),e.next=6,t.axios.get("/api/items/"+t.showArchived+"/backlogs/"+r+"/"+n);case 6:if(s=e.sent,i=v()(s,"data.success")){e.next=10;break}throw new Error("Unable to load user's organizations.");case 10:o=v()(s,"data.items"),o.forEach(function(t){t.author=a.i(h.c)(t)}),t.items=o,t.initialItems=o,e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(2),e.abrupt("return",t.$errorMessage.show(e.t0));case 19:return e.prev=19,t.$loading(!1),e.finish(19);case 22:case"end":return e.stop()}},e,t,[[2,16,19,22]])}))()},handleItemNewItemSetField:function(t,e){var a=this;return u()(c.a.mark(function r(){return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:a.newItem[e]=t;case 1:case"end":return r.stop()}},r,a)}))()},setCurrentItem:function(t){this.currentItem=t},handleItemEditTitle:function(t,e){var a=this;return u()(c.a.mark(function r(){var n,s;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",a.$notify({group:"error",type:"err",text:"Empty item title field"}));case 2:return r.prev=2,a.$loading(!0),r.next=6,a.axios.put("/api/items/edit/"+a.$store.state.organization.id+"/"+t.id,{title:e});case 6:if(n=r.sent,s=v()(n,"data.success"),a.dialogItemEdit=!1,s){r.next=11;break}throw new Error("Unable to update item.");case 11:a.$notify({group:"app",type:"success",text:"Saved"}),r.next=17;break;case 14:return r.prev=14,r.t0=r.catch(2),r.abrupt("return",a.$errorMessage.show(r.t0));case 17:return r.prev=17,a.loadOrgStatuses(!1),a.$loading(!1),a.newNameOldItem="",a.currentItem="",r.finish(17);case 23:case"end":return r.stop()}},r,a,[[2,14,17,23]])}))()},handleItemDelete:function(t){var e=this;return u()(c.a.mark(function a(){var r,n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.$loading(!0),!t||e.$store.state.user.id,a.prev=2,a.next=5,e.axios.delete("/api/items/"+e.$store.state.organization.id+"/"+t.id);case 5:if(r=a.sent,n=v()(r,"data.success"),e.dialogDeleteItem=!1,n){a.next=10;break}throw new Error("Unable to delete item.");case 10:a.next=15;break;case 12:return a.prev=12,a.t0=a.catch(2),a.abrupt("return",e.$errorMessage.show(a.t0));case 15:return a.prev=15,e.loadOrgStatuses(!1),e.$notify({group:"app",type:"success",text:"Item "+t.title+" was deleted"}),e.currentItem="",a.finish(15);case 20:case"end":return a.stop()}},a,e,[[2,12,15,20]])}))()},handleNewItem:function(t){var e=this;return u()(c.a.mark(function a(){var r;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.objSelecBox="",a.prev=1,r={},r.assignee=String(e.newItem.assignee.userId),r.statusId=String(e.newItem.status.id),r.points=String(e.newItem.points),r.description=e.newItem.description,r.title=e.newItem.title,r.ownerTable="backlogs",r.ownerId=e.$route.query.backlogid,a.next=12,e.axios.post("/api/items/new/"+e.$store.state.organization.id,r).then(function(a){var r=v()(a,"data.item");!0===t&&(console.log(t),e.$router.push({name:"item",query:{orgId:e.$store.state.organization.id,itemId:r.id}}))}).catch(function(t){throw new Error(t)});case 12:e.dialogNewItem=!1,a.next=17;break;case 15:a.prev=15,a.t0=a.catch(1);case 17:return a.prev=17,t||(e.loadOrgStatuses(!1),e.newItem={title:"",description:"",points:0,status:{id:1,name:"Unplaned"},assignee:""},e.setCurrentUser()),a.finish(17);case 20:case"end":return a.stop()}},a,e,[[1,15,17,20]])}))()},handleUsername:function(t){return a.i(h.c)(t)},onFiltered:function(t){this.selected.forEach(function(e){e.totalRows=t.length,e.currentPage=1})},filterItems:function(t){var e=JSON.parse(n()(this.initialSelected.slice())),a=void 0;this.initialFilteredSelected=JSON.parse(n()(this.initialSelected.slice())),a="string"==typeof t?t:this.filter;for(var r=["title","author"],s=0,i=e.length;s<i;s++){var o=e[s].filteredItems.filter(function(t){return r.some(function(e){return t[e].toString().toLowerCase().includes(a.toLowerCase())})});e[s].filteredItems=o,this.filteredSelected=e.slice()}},clearItemsFilter:function(){this.filterItems("")},onMove:function(t){var e=t.relatedContext,a=t.draggedContext;this.draggedContext=a,this.relatedContext=e},onListChange:function(t){console.log(t)},onEnd:function(t){var e=this;this.$loading(!0),this.dragging=!1;var a=this.$route.query.orgId,r=JSON.parse(n()(this.filteredSelected)),s=function(){for(var t=e.relatedContext.list,r={items:[],initiatives:[]},n=0,s=t.length;n<s;n++){var i=t[n].id;r.items.push(i)}e.axios.put("/api/orderindexchange/"+a,r).then(function(t){e.loadOrgStatuses()}).catch(function(t){console.log(t)})};if(t.to.parentNode.id!==t.from.parentNode.id){var i=this.draggedContext.element.id;this.axios.put("/api/items/edit/"+a+"/"+i,{statusId:String(t.to.parentNode.id)}).then(function(t){s()}).catch(function(t){console.log(t)})}else s();this.filteredSelected=r}},watch:{selected:function(t,e){t.length!==e.length&&this.loadOrgStatuses(!1)}},components:{item:m.a,draggable:b.a}}},"L/hj":function(t,e,a){"use strict";function r(t){t.$loading(!0),t.$store.commit({type:"user",user:null}),t.$store.commit({type:"token",token:null}),t.$store.commit({type:"organization",name:null,id:null}),a.i(u.a)()&&a.i(u.c)("token"),t.$loading(!1),t.$router.push({name:"account",params:{action:"login"}})}function n(t,e,n){t.$loading(!0),e?(a.i(u.a)()&&a.i(u.d)("token",e,{expires:"7D"}),n.organization&&t.$store.commit({type:"organization",name:n.organization.name,id:n.organization.id}),t.$store.commit({type:"token",token:e}),t.$store.commit({type:"user",user:n}),t.axios.defaults.headers.common.Authorization="Bearer "+e,t.$router.push({name:"home"})):r(t),t.$loading(!1)}function s(t){if(!t)return"";var e=t.firstName,a=t.lastName,r=t.email;return e&&a?e+" "+a:e||(a||r)}e.a=r,e.b=n,e.c=s;var i=a("Xxa5"),o=a.n(i),c=a("exGp"),l=a.n(c),u=a("DWaH"),d=a("mtWM"),v=a.n(d),p=a("Q7hp"),f=a.n(p);!function(){var t=l()(o.a.mark(function t(e,a){var r,n,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,v.a.post("/api/account/forgotpassword",{email:a});case 3:if(r=t.sent,n=f()(r,"data.success"),s=f()(r,"data.message"),n){t.next=8;break}throw new Error(s);case 8:if(!n){t.next=10;break}throw new Error(s);case 10:e.$loading(!1),window.location.reload();case 12:case"end":return t.stop()}},t,this)}))}()},LR0Z:function(t,e,a){"use strict";var r=a("Q7hp"),n=a.n(r),s=a("0MVy"),i=a("E9oo"),o=a("2czZ"),c=a("pEqT"),l=a("mzM1"),u=a("+eU3");e.a={name:"Account",data:function(){return{form:"login",token:null}},mounted:function(){-1!==this.$route.path.indexOf("account/invite")&&this.$store.state.token&&this.$store.commit({type:"token",token:null}),this.form=n()(this.$route,"params.action","login")},methods:{changeForm:function(t){this.$router.push({name:"account",params:{action:t}})}},watch:{$route:function(t,e){this.form=n()(t,"params.action","login","login")}},components:{login:s.a,"forgot-password":i.a,register:o.a,"reset-password":c.a,verify:l.a,invite:u.a}}},LiAu:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),o=a("Q7hp"),c=a.n(o),l=a("NHnr");e.a={name:"Organization",props:["organizations"],data:function(){return{organizationsFields:["orgId","name","role","actions"],organizationsTableHeaders:[{text:"Org Id",value:"orgId",sortable:!1},{text:"Name",value:"name",sortable:!1},{text:"role",value:"role",sortable:!1},{text:"Actions",value:"name",sortable:!1}],newOrgName:"",currentOrganization:"",dialogDelete:!1,dialogEdit:!1,dialogNew:!1}},computed:{},methods:{setCurrentOrg:function(t){this.currentOrganization=t},handleOrganizationNew:function(t){var e=this;return i()(n.a.mark(function a(){var r,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return",e.$notify({group:"error",type:"err",text:"Empty new organization name field"}));case 2:return a.prev=2,a.next=5,e.axios.post("/api/org",{name:t});case 5:if(r=a.sent,s=c()(r,"data.success"),e.dialogNew=!1,s){a.next=10;break}throw new Error("Unable to create new organization.");case 10:a.next=15;break;case 12:return a.prev=12,a.t0=a.catch(2),a.abrupt("return",e.$errorMessage.show(a.t0));case 15:return a.prev=15,e.newOrgName="",a.finish(15);case 18:l.eventBus.$emit("reload",{loadOrganization:!0}),e.setCurrentOrg("");case 20:case"end":return a.stop()}},a,e,[[2,12,15,18]])}))()},handleOrganizationDelete:function(t){var e=this;return i()(n.a.mark(function a(){var r,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return!t||e.$store.state.user.id,a.prev=1,a.next=4,e.axios.delete("/api/org/"+t.orgId);case 4:if(r=a.sent,s=c()(r,"data.success"),e.dialogDelete=!1,s){a.next=9;break}throw new Error("Unable to create new organization.");case 9:a.next=14;break;case 11:return a.prev=11,a.t0=a.catch(1),a.abrupt("return",e.$errorMessage.show(a.t0));case 14:return a.prev=14,e.$notify({group:"app",type:"success",text:"Organization "+t.name+" was deleted"}),l.eventBus.$emit("reload",{loadOrganization:!0}),e.setCurrentOrg(""),a.finish(14);case 19:case"end":return a.stop()}},a,e,[[1,11,14,19]])}))()},handleOrganizationEdit:function(t,e){var a=this;return i()(n.a.mark(function r(){var s,i;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",a.$notify({group:"error",type:"err",text:"Empty organization name field"}));case 2:return r.prev=2,a.$loading(!0),r.next=6,a.axios.put("/api/org/"+t.orgId,{name:e});case 6:if(s=r.sent,i=c()(s,"data.success"),a.dialogEdit=!1,i){r.next=11;break}throw new Error("Unable to update organization.");case 11:a.$notify({group:"app",type:"success",text:"Organization updated"}),r.next=17;break;case 14:return r.prev=14,r.t0=r.catch(2),r.abrupt("return",a.$errorMessage.show(r.t0));case 17:return r.prev=17,a.$loading(!1),a.newOrgName="",l.eventBus.$emit("reload",{loadOrganization:!0}),a.setCurrentOrg(""),r.finish(17);case 23:case"end":return r.stop()}},r,a,[[2,14,17,23]])}))()}},components:{}}},M0YU:function(t,e,a){"use strict";function r(t){a("DEB1")}var n=a("VS20"),s=a("i/v4"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},M93x:function(t,e,a){"use strict";function r(t){a("6WNL")}var n=a("xJD8"),s=a("RKkj"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"eventBus",function(){return N});var r=a("7+uW"),n=a("e6fC"),s=a.n(n),i=a("qb6w"),o=(a.n(i),a("9M+g")),c=(a.n(o),a("M93x")),l=a("YaEn"),u=a("IcnI"),d=a("mpC7"),v=a("mtWM"),p=a.n(v),f=a("Rf8U"),m=a.n(f),h=a("CLX7"),g=a.n(h),b=a("qChy"),x=a("idOd"),w=(a.n(x),a("RK/9")),k=(a.n(w),a("F7tQ")),_=(a.n(k),a("C/JF")),y=a("fhbW"),C=a("1e6/"),I=a("3EgV"),$=a.n(I),B=a("7zck"),S=(a.n(B),a("fmBQ")),z=a("lVaD");r.default.use($.a),_.a.add(y.a,y.b,y.c,y.d,y.e,y.f),r.default.component("font-awesome-icon",C.a),r.default.use(g.a),r.default.use(s.a),r.default.use(m.a,p.a),r.default.use(S.a),r.default.use(z.a),r.default.component("loading-indication",b.a),r.default.config.productionTip=!1;var N=new r.default;new r.default({el:"#app",router:l.a,store:u.a,template:"<App/>",components:{App:c.a,VueTribute:d.a}})},NNVE:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),o=a("Q7hp"),c=a.n(o),l=a("M4fF"),u=a.n(l),d=a("Bez9"),v=a("r9AH"),p=a("L/hj");e.a={name:"bug",data:function(){return{dialogDeleteBug:!1,toConnectionData:{name:"bug",id:this.$route.query.bugId,connects:["initiative","item"]},toCommentsData:{name:"bugs",id:this.$route.query.bugId,admin:!1},objStatuses:[],severityArray:["P0","P1","P2","P3"],users:[],reportedBy:{userId:""},assignee:{userId:""},status:{name:"None",id:0},form:{title:"",description:"",severity:"",status:{name:"None",id:0},reportedBy:{},assignee:{}},admin:!1}},mounted:function(){var t=this;return i()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadOrgStatuses();case 2:return e.next=4,t.loadOrgUsers();case 4:return e.next=6,t.loadOrgBug();case 6:case"end":return e.stop()}},e,t)}))()},computed:{},methods:{handleBugDelete:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$route.query.bugId,e.prev=1,e.next=4,t.axios.delete("/api/bugs/"+t.$store.state.organization.id+"/"+a);case 4:if(r=e.sent,s=c()(r,"data.success")){e.next=8;break}throw new Error("Unable to delete bug.");case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",t.$errorMessage.show(e.t0));case 13:return e.prev=13,t.$notify({group:"app",type:"success",text:"Bug "+t.form.title+" was deleted"}),t.$router.go(-1),e.finish(13);case 17:case"end":return e.stop()}},e,t,[[1,10,13,17]])}))()},loadOrgBug:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s,i,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.$loading(!0),a=t.$route.query.orgId,r=t.$route.query.bugId,e.next=6,t.axios.get("/api/bugs/"+a+"/"+r);case 6:if(s=e.sent,i=c()(s,"data.success")){e.next=10;break}throw new Error("Unable to load bugs's.");case 10:o=c()(s,"data.bug"),0===o.archived?o.archived=!1:o.archived=!0,o.status=u.a.find(t.objStatuses,{id:o.statusId}),t.toCommentsData.admin=c()(s,"data.admin"),o.statusId?o.status=u.a.find(t.objStatuses,{id:o.statusId}):o.status={name:"None",id:0},t.reportedBy.userId=o.reportedBy.id,t.assignee.userId=o.assignee.id,t.status=o.status,console.log(t.reportedBy),o.assignee.userId=o.assignee.id,o.reportedBy.userId=o.reportedBy.id,o.createdAt=new Date(o.createdAt).toLocaleString(),t.form=o,e.next=28;break;case 25:return e.prev=25,e.t0=e.catch(0),e.abrupt("return",t.$errorMessage.show(e.t0));case 28:return e.prev=28,t.$loading(!1),e.finish(28);case 31:case"end":return e.stop()}},e,t,[[0,25,28,31]])}))()},handleBugSetField:function(t,e){console.log(t),console.log(e),this.form[e]=t},handleSaveBug:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s,i,o,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.$route.query.orgId,r=t.$route.query.bugId,s={},t.form.assignee&&(s.assignee=String(t.form.assignee.userId)),s.description=t.form.description,s.title=t.form.title,s.archived=t.form.archived,s.severity=t.form.severity,t.form.reportedBy&&(s.createdBy=String(t.form.reportedBy.userId)),0!==t.form.status.id?s.statusId=String(t.form.status.id):s.statusId=String(t.status.id),delete s.status,e.next=14,t.axios.put("/api/bugs/edit/"+a+"/"+r,s);case 14:if(i=e.sent,o=c()(i,"data.success")){e.next=18;break}throw new Error("Unable to update bug.");case 18:l=t.$refs.comments_ref.newComment,l&&t.$refs.comments_ref.handleNewComment(t.$refs.comments_ref.newComment),e.next=25;break;case 22:return e.prev=22,e.t0=e.catch(0),e.abrupt("return",t.$errorMessage.show(e.t0));case 25:return e.prev=25,t.$router.go(-1),t.$notify({group:"app",type:"success",text:"Bug updated"}),e.finish(25);case 29:case"end":return e.stop()}},e,t,[[0,22,25,29]])}))()},handleUsername:function(t){return a.i(p.c)(t)},loadOrgStatuses:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.$loading(!0),a=t.$store.state.organization.id,e.next=5,t.axios.get("/api/statuses/bugs/"+a);case 5:if(r=e.sent,s=c()(r,"data.success")){e.next=9;break}throw new Error("Unable to load user's organizations.");case 9:t.objStatuses=c()(r,"data.statuses"),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",t.$errorMessage.show(e.t0));case 15:return e.prev=15,t.$loading(!1),e.finish(15);case 18:case"end":return e.stop()}},e,t,[[0,12,15,18]])}))()},loadOrgUsers:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s,i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.$store.state.organization.id,t.$loading(!0),e.next=5,t.axios.get("/api/org/"+a+"/users");case 5:if(r=e.sent,s=c()(r,"data.success")){e.next=9;break}throw new Error("Unable to load user's organizations.");case 9:i=c()(r,"data.users"),t.users=i,e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",t.$errorMessage.show(e.t0));case 16:return e.prev=16,t.$loading(!1),e.finish(16);case 19:case"end":return e.stop()}},e,t,[[0,13,16,19]])}))()}},components:{Comments:v.a,Connections:d.a}}},"O/GI":function(t,e){},P9wT:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invite"},[t.err?t._e():a("div",[a("h2",{staticClass:"center"},[t._v("You are invited to join "+t._s(t.organization))]),t._v(" "),"register"===t.form?a("b-form",{staticClass:"register",on:{submit:t.handleRegister}},[t.postRegister?a("div",[a("p",[t._v("Your invitation accepted and account created.\n          Please check your inbox for verification email and "),a("router-link",{attrs:{tag:"a",to:{name:"account",params:{action:"login"}}}},[a("a",[t._v("process to login")])])],1)]):a("div",{staticClass:"not-registered"},[a("h5",[t._v("Please create an account to accept invitation")]),t._v(" "),a("b-row",[a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",[a("b-form-input",{attrs:{type:"text",placeholder:"First Name"},model:{value:t.register.firstName,callback:function(e){t.$set(t.register,"firstName",e)},expression:"register.firstName"}})],1)],1),t._v(" "),a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",[a("b-form-input",{attrs:{type:"text",placeholder:"Last Name"},model:{value:t.register.lastName,callback:function(e){t.$set(t.register,"lastName",e)},expression:"register.lastName"}})],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",[a("b-form-input",{attrs:{type:"email",required:"",placeholder:"Email",readonly:""},model:{value:t.register.email,callback:function(e){t.$set(t.register,"email",e)},expression:"register.email"}})],1)],1),t._v(" "),a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Organization",readonly:""},model:{value:t.organization,callback:function(e){t.organization=e},expression:"organization"}})],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",[a("b-form-input",{attrs:{type:"password",placeholder:"Password"},model:{value:t.register.password,callback:function(e){t.$set(t.register,"password",e)},expression:"register.password"}})],1)],1),t._v(" "),a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",[a("b-form-input",{attrs:{type:"password",placeholder:"confirmation"},model:{value:t.register.confirmation,callback:function(e){t.$set(t.register,"confirmation",e)},expression:"register.confirmation"}})],1)],1)],1),t._v(" "),a("b-row",{staticClass:"tos"},[a("b-form-checkbox",{attrs:{value:"Y"},model:{value:t.register.tosAccepted,callback:function(e){t.$set(t.register,"tosAccepted",e)},expression:"register.tosAccepted"}},[t._v("I accept "),a("a",{staticClass:"small",attrs:{href:"#"},on:{click:t.openTerms}},[t._v("Terms of Service")])])],1),t._v(" "),a("div",{staticClass:"button-box center"},[a("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.saving}},[t._v("Save")]),t._v(" "),a("a",{staticClass:"small",attrs:{href:"#"},on:{click:function(e){return t.toggleForm("login")}}},[t._v("Already registered?")])],1)],1)]):t._e(),t._v(" "),"login"===t.form?a("b-form",{staticClass:"login",on:{submit:t.handleLogin}},[t.postLogin?a("div",[a("p",[t._v("Your invitation accepted.Process to "),a("router-link",{attrs:{tag:"a",to:{name:"home"}}},[a("a",[t._v("dashboard")])])],1)]):a("div",{staticClass:"not-logged-on"},[a("h5",[t._v("Please login to accept invitation")]),t._v(" "),a("b-form-group",[a("b-form-input",{attrs:{type:"email",readonly:"",required:"",placeholder:"Email address"},model:{value:t.login.email,callback:function(e){t.$set(t.login,"email",e)},expression:"login.email"}})],1),t._v(" "),a("b-form-group",[a("b-form-input",{attrs:{type:"password",required:"",placeholder:"Password"},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}})],1),t._v(" "),a("div",{staticClass:"button-box center"},[a("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.saving}},[t._v("Login")]),t._v(" "),a("a",{staticClass:"small",attrs:{href:"#"},on:{click:function(e){return t.toggleForm("register")}}},[t._v("Not registered?")])],1)],1)]):t._e()],1),t._v(" "),t.err?a("div",{staticClass:"invite"},[a("h2",{staticClass:"center"},[t._v("Bad invite link, request a new one!")])]):t._e()])},n=[],s={render:r,staticRenderFns:n};e.a=s},QNS0:function(t,e){},"RK/9":function(t,e){},RKkj:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[t.$store.state.loading?a("div",[a("loading-indication")],1):t._e(),t._v(" "),a("div",{staticClass:"notifications-container"},[a("notifications",{attrs:{group:"error",width:"405px",position:"bottom right"}}),t._v(" "),a("notifications",{attrs:{group:"app",width:"405px",position:"bottom right"}})],1),t._v(" "),t.$store.state.token?a("div",[a("topbar"),t._v(" "),a("b-container",{staticClass:"wrap"},[a("router-view")],1)],1):t._e(),t._v(" "),t.$store.state.token||t.$store.state.loading?t._e():a("account")],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},Rc0O:function(t,e,a){"use strict";function r(t){a("3xoH")}var n=a("D5N1"),s=a("CBC2"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,"data-v-37a1fe76",null);e.a=c.exports},TD0J:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),o=a("Q7hp"),c=a.n(o);e.a={name:"ForgotPassword",data:function(){return{form:{email:null}}},computed:{},methods:{submit:function(t){var e=this;return i()(n.a.mark(function a(){var r,s,i;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,e.axios.post("/api/account/forgotpassword",e.form);case 4:r=a.sent,s=c()(r,"data.success"),i=c()(r,"data.message"),e.$notify({group:"app",type:s,text:i}),a.next=13;break;case 10:return a.prev=10,a.t0=a.catch(1),a.abrupt("return",e.$errorMessage.show(a.t0));case 13:return a.prev=13,e.$loading(!1),a.finish(13);case 16:case"end":return a.stop()}},a,e,[[1,10,13,16]])}))()}},props:{onChangeForm:Function}}},TZMF:function(t,e,a){"use strict";function r(t){a("a8ww")}var n=a("Kke+"),s=a("A32S"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},Uwcy:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form",{staticClass:"verify col-lg-4 col-md-8 col-sm-12 col-xs-12",on:{submit:t.handlelogin}},[a("h1",{staticClass:"center"},[t._v(t._s(t.message))]),t._v(" "),!0===t.showLoginButton?a("div",{staticClass:"button-box center"},[a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Login")])],1):t._e()])},n=[],s={render:r,staticRenderFns:n};e.a=s},VS20:function(t,e,a){"use strict";var r=a("Gu7T"),n=a.n(r),s=a("pFYg"),i=a.n(s),o=a("Xxa5"),c=a.n(o),l=a("exGp"),u=a.n(l),d=a("Q7hp"),v=a.n(d),p=a("M4fF"),f=a.n(p),m=a("L/hj"),h=a("6Top"),g=a.n(h);e.a={name:"Initiatives",data:function(){return{activatedButton:"",initialInitiatives:[],initiatives:[],initialInitiativesForSorting:[],initialFilteredInitiatives:null,filteredInitiatives:null,filter:null,objStatuses:[],page:1,currentPage:0,totalPages:4,perPage:8,sliceFrom:0,newInitiative:{title:"",description:"",status:{id:10,name:"Should have"},horizon:{date:new Date,horizon:this.getHorizonName(new Date)},vote:null},horizonList:[],vote:"",btntrue:"",btnfalse:"",show:!1,currentInitiative:"",admin:!1,showArchived:!1,dialogNewInitiative:!1,dialogDeleteInitiative:!1,loading:!1,paramForNewCard:null,dragging:!1,draggedContext:{},relatedContext:{}}},computed:{intiativeCards:function(){return null!==this.filteredInitiatives?this.filteredInitiatives.slice(0,this.perPage):this.initiatives}},watch:{},mounted:function(){var t=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadOrgStatuses();case 2:return e.next=4,t.loadOrgInitiatives();case 4:t.horizonLoadList();case 5:case"end":return e.stop()}},e,t)}))()},methods:{close:function(){this.dialogNewInitiative=!1},reload:function(t){var e=this;return u()(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.showArchived=t,a.next=3,e.loadOrgInitiatives();case 3:case"end":return a.stop()}},a,e)}))()},setCurrentInitiative:function(t){this.currentInitiative=t},handleCloseNew:function(){this.$refs.modalnew.hide()},horizonLoadList:function(){var t=new Date,e={date:t,horizon:this.getHorizonName(t)};this.horizonList.push(e),t=new Date((new Date).setMonth((new Date).getMonth()+3)),e={date:t,horizon:this.getHorizonName(t)},this.horizonList.push(e),t=new Date((new Date).setMonth((new Date).getMonth()+6)),e={date:t,horizon:this.getHorizonName(t)},this.horizonList.push(e),t=new Date((new Date).setMonth((new Date).getMonth()+9)),e={date:t,horizon:this.getHorizonName(t)},this.horizonList.push(e),t=new Date((new Date).setMonth((new Date).getMonth()+12)),e={date:t,horizon:this.getHorizonName(t)},this.horizonList.push(e),t=new Date((new Date).setMonth((new Date).getMonth()+15)),e={date:t,horizon:this.getHorizonName(t)},this.horizonList.push(e)},loadOrgInitiatives:function(){var t=this;return u()(c.a.mark(function e(){var r,n,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios.get("/api/initiatives/all/"+t.showArchived+"/"+t.$store.state.organization.id);case 3:if(r=e.sent,n=v()(r,"data.success")){e.next=7;break}throw new Error("Unable to load initiatives.");case 7:s=v()(r,"data.initiatives"),s.forEach(function(e){e.author=a.i(m.c)(e),e.importance=f.a.find(t.objStatuses,{id:e.statusId}).name,e.horizon={date:e.horizon,horizon:t.getHorizonName(new Date(e.horizon))}}),s.sort(function(t,e){return e.order_index>t.order_index?1:e.order_index<t.order_index?-1:0}),t.totalPages=Math.ceil(s.length/t.perPage),t.initialInitiatives=s,t.initialInitiativesForSorting=s.slice(),t.initiatives=t.initialInitiatives.slice(0,t.perPage),t.admin=v()(r,"data.admin"),t.paginationFunction(t.page>t.totalPages?1:t.page),e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(0),t.loading=!1,e.abrupt("return",t.$errorMessage.show(e.t0));case 22:return e.prev=22,t.loading=!1,e.finish(22);case 25:case"end":return e.stop()}},e,t,[[0,18,22,25]])}))()},handleInitiativeDelete:function(t){var e=this;return u()(c.a.mark(function a(){var r,n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,!t||e.$store.state.user.id,a.prev=2,a.next=5,e.axios.delete("/api/initiatives/"+e.$store.state.organization.id+"/"+t.id);case 5:if(r=a.sent,n=v()(r,"data.success"),e.loading=!1,n){a.next=10;break}throw new Error("Unable delete initiative.");case 10:a.next=15;break;case 12:return a.prev=12,a.t0=a.catch(2),a.abrupt("return",e.$errorMessage.show(a.t0));case 15:return a.prev=15,e.loadOrgInitiatives(),e.$notify({group:"app",type:"success",text:"Item "+t.title+" was deleted"}),e.currentInitiative="",e.dialogDeleteInitiative=!1,a.finish(15);case 21:case"end":return a.stop()}},a,e,[[2,12,15,21]])}))()},loadOrgStatuses:function(){var t=this;return u()(c.a.mark(function e(){var a,r,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,a=t.$store.state.organization.id,e.next=5,t.axios.get("/api/statuses/initiatives/"+a);case 5:if(r=e.sent,n=v()(r,"data.success")){e.next=9;break}throw new Error("Unable to load user's organizations.");case 9:t.objStatuses=v()(r,"data.statuses"),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),t.loading=!1,e.abrupt("return",t.$errorMessage.show(e.t0));case 16:return e.prev=16,e.finish(16);case 18:case"end":return e.stop()}},e,t,[[1,12,16,18]])}))()},handleNewInitiative:function(t){var e=this;return u()(c.a.mark(function a(){var r,n,s,i;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,a.prev=1,r={},r.statusId=String(e.newInitiative.status.id),r.description=e.newInitiative.description,r.title=e.newInitiative.title,r.horizon=e.formatDate(e.newInitiative.horizon.date),a.next=9,e.axios.post("/api/initiatives/new/"+e.$store.state.organization.id,r);case 9:if(n=a.sent,s=v()(n,"data.success"),s&&(i=v()(n,"data.initiative"),""!==e.vote&&e.doVote(e.vote,i.id),!0===t&&e.$router.push({name:"Initiative",query:{orgId:e.$store.state.organization.id,initiativeid:i.id}}),e.dialogNewInitiative=!1),s){a.next=14;break}throw new Error("Unable to create new initiative.");case 14:a.next=20;break;case 16:return a.prev=16,a.t0=a.catch(1),e.loading=!1,a.abrupt("return",e.$errorMessage.show(a.t0));case 20:return a.prev=20,e.loading=!1,e.newInitiative={title:"",description:"",status:{id:12,name:"Won't have"},horizon:{date:new Date,horizon:e.getHorizonName(new Date)},vote:null},e.vote="",e.btntrue="",e.btnfalse="",e.show=!1,e.loadOrgInitiatives(),a.finish(20);case 29:case"end":return a.stop()}},a,e,[[1,16,20,29]])}))()},setParameterForNewCard:function(t){this.paramForNewCard=t},handleNewInitiativeSetField:function(t,e){t.hasOwnProperty("horizon")&&(e="horizon"),t.hasOwnProperty("name")&&(e="status"),this.newInitiative[e]=t,"vote"===e&&(this.vote=t,!0===t?(this.btntrue="voteUp",this.btnfalse=""):(this.btntrue="",this.btnfalse="voteDown"))},doVote:function(t,e){var a=this;return u()(c.a.mark(function r(){var n,s;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.axios.post("/api/votes/initiatives/"+e+"/"+String(t));case 3:if(n=r.sent,s=v()(n,"data.success")){r.next=7;break}throw new Error("Unable to vote.");case 7:r.next=12;break;case 9:return r.prev=9,r.t0=r.catch(0),r.abrupt("return",a.$errorMessage.show(r.t0));case 12:return r.prev=12,r.finish(12);case 14:case"end":return r.stop()}},r,a,[[0,9,12,14]])}))()},getHorizonName:function(t){var e=t.getMonth()+1,a=t.getFullYear(),r=0;return e<3?r=1:e<6?r=2:e<9?r=3:e<12&&(r=4),"Q"+r+a},formatDate:function(t){var e=t.getMonth()+1;return t.getFullYear()+"-"+e+"-"+t.getDate()},sortInitiaiveCards:function(t){function e(t,e){"initiative"===a&&(a="title");var r=void 0,n=void 0;if("horizon"===a)return r=t[a][a].replace(/\s/g,"X").toLowerCase(),n=e[a][a].replace(/\s/g,"X").toLowerCase(),r>n?-1:r===n?1:0;if(r="string"==typeof t[a]?t[a].replace(/\s/g,"X").toLowerCase():t[a],n="string"==typeof e[a]?e[a].replace(/\s/g,"X").toLowerCase():e[a],"popularity"===a){if(r>n)return-1;if(r===n)return 1}else{if(r<n)return-1;if(r===n)return 1}return 0}var a=t.toLowerCase();if(console.log(),this.activatedButton!==t){if(null!==this.filteredInitiatives){var r=this.initialFilteredInitiatives.slice();this.filteredInitiatives=r.sort(e).slice(0,this.perPage),this.page=1}else this.initialInitiativesForSorting.sort(e),this.initiatives=this.initialInitiativesForSorting.slice(0,this.perPage),this.page=1;this.activatedButton=t}else null!==this.filteredInitiatives?this.filteredInitiatives=this.initialFilteredInitiatives.slice():(this.page=1,this.initiatives=this.initialInitiatives.slice(0,this.perPage)),this.activatedButton=""},filterInitiatives:function(t){this.activatedButton="",this.page=1;var e=this.initialInitiatives,a=void 0;a="string"==typeof t?t:this.filter;var r=["title","Initiative","popularity","importance","horizon","author"];this.filteredInitiatives=e.filter(function(t){return r.some(function(e){return"string"==typeof t[e]||"number"==typeof t[e]?t[e].toString().toLowerCase().includes(a.toLowerCase()):"object"===i()(t[e])?t[e].horizon.toLowerCase().includes(a.toLowerCase()):void 0})}),this.totalPages=Math.ceil(this.filteredInitiatives.length/this.perPage),this.initialFilteredInitiatives=this.filteredInitiatives.slice()},clearInitiativesFilter:function(){this.filteredInitiatives=null,this.totalPages=Math.ceil(this.initialInitiatives.length/this.perPage)},paginationFunction:function(t){this.sliceFrom=(t-1)*this.perPage,this.page=t;var e=void 0;null!==this.filteredInitiatives?(e=this.initialFilteredInitiatives.slice(this.sliceFrom,this.sliceFrom+this.perPage),this.filteredInitiatives=e.slice()):e=""===this.activatedButton?this.initialInitiatives.slice(this.sliceFrom,this.sliceFrom+this.perPage):this.initialInitiativesForSorting.slice(this.sliceFrom,this.sliceFrom+this.perPage),this.initiatives=e},onMove:function(t){var e=t.relatedContext,a=t.draggedContext;this.dragging=!0,this.draggedContext=a,this.relatedContext=e},onListChange:function(t){},onEnd:function(t){var e=this;this.loading=!0,this.dragging=!1;var a=this.$store.state.organization.id;!function(){var t;(t=e.initialInitiativesForSorting).splice.apply(t,[e.sliceFrom,e.sliceFrom+e.perPage].concat(n()(e.relatedContext.list)));for(var r={items:[],initiatives:[]},s=0,i=e.initialInitiativesForSorting.length;s<i;s++){var o=e.initialInitiativesForSorting[s].id;r.initiatives.push(o)}e.axios.put("/api/orderindexchange/"+a,r).then(function(t){e.loadOrgInitiatives()}).catch(function(t){console.log(t)})}()}},components:{draggable:g.a}}},YaEn:function(t,e,a){"use strict";var r=a("7+uW"),n=a("/ocq"),s=a("hU05"),i=a("lO7g"),o=a("M0YU"),c=a("Rc0O"),l=a("TZMF"),u=a("pouz"),d=a("jqYp"),v=a("0Qwy"),p=a("/KFX"),f=a("Yb4x"),m=a("niH5");r.default.use(n.a),e.a=new n.a({mode:"history",routes:[{path:"/account/:action",name:"account",component:s.a},{path:"/",name:"home",component:i.a},{path:"/initiatives",name:"initiatives",component:o.a},{path:"/backlogs",name:"backlogs",component:c.a},{path:"/items",name:"items",component:l.a},{path:"/items/item",name:"item",component:u.a},{path:"/initiative/",name:"Initiative",component:d.a},{path:"/bugs",name:"bugs",component:v.a},{path:"/bug/",name:"bug",component:f.a},{path:"/search/",name:"search",component:p.a},{path:"/settings",name:"settings",component:m.a}]})},Yb4x:function(t,e,a){"use strict";function r(t){a("qgQi")}var n=a("NNVE"),s=a("gt9+"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},ZNRg:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{staticClass:"no-padding-right",attrs:{flat:"",color:"transparent"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{outline:"",color:"success"},on:{click:function(e){t.dialogNew=!0}}},[t._v("Add organization")])],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.organizationsTableHeaders,items:t.organizations},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.orgId))]),t._v(" "),a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(e.item.role))]),t._v(" "),a("td",{staticClass:"justify-start layout px-0"},[a("v-icon",{staticClass:"pl-4 text-center",attrs:{small:""},on:{click:function(a){t.setCurrentOrg(e.item),t.dialogEdit=!0}}},[t._v("edit")]),t._v(" "),a("v-icon",{attrs:{small:""},on:{click:function(a){t.setCurrentOrg(e.item),t.dialogDelete=!0}}},[t._v("delete")])],1)]}}])}),t._v(" "),a("v-dialog",{attrs:{"max-width":"250"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-card-text",{staticClass:"text-xs-center subheading"},[t._v("Wait. Are you sure you want to delete this permanently?")]),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",flat:"flat",outline:"",small:""},on:{click:function(e){t.dialogDelete=!1}}},[t._v("Cancel")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"error",flat:"flat",outline:"",small:""},on:{click:function(e){return t.handleOrganizationDelete(t.currentOrganization)}}},[t._v("Yes")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"450"},model:{value:t.dialogEdit,callback:function(e){t.dialogEdit=e},expression:"dialogEdit"}},[a("v-card",[a("v-layout",{attrs:{row:"",container:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"","align-center":""}},[a("v-text-field",{attrs:{placeholder:t.currentOrganization.name},model:{value:t.newOrgName,callback:function(e){t.newOrgName=e},expression:"newOrgName"}})],1)],1),t._v(" "),a("v-card-actions",[a("v-btn",{staticClass:"ml-3 mb-2",attrs:{flat:"flat",outline:"",small:""},on:{click:function(e){t.dialogEdit=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",flat:"flat",outline:"",small:""},on:{click:function(e){return t.handleOrganizationEdit(t.currentOrganization,t.newOrgName)}}},[t._v("Save")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"450"},model:{value:t.dialogNew,callback:function(e){t.dialogNew=e},expression:"dialogNew"}},[a("v-card",[a("v-layout",{attrs:{row:"",container:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"","align-center":""}},[a("v-text-field",{attrs:{placeholder:"Enter organization name"},model:{value:t.newOrgName,callback:function(e){t.newOrgName=e},expression:"newOrgName"}},[t._v(">")])],1)],1),t._v(" "),a("v-card-actions",[a("v-btn",{staticClass:"ml-3 mb-2",attrs:{flat:"flat",outline:"",small:""},on:{click:function(e){t.dialogNew=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",flat:"flat",outline:"",small:""},on:{click:function(e){return t.handleOrganizationNew(t.newOrgName)}}},[t._v("Save")])],1)],1)],1)],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},ZnBF:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),a("v-toolbar-title",{staticClass:"white--text"},[a("router-link",{staticClass:"toolbar-title-link",attrs:{to:{path:"/"}}},[t._v("PM415")])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{placeholder:"Search"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goSearch(t.searchText)}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),t._v(" "),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.goSearch(t.searchText)}}},[a("v-icon",[t._v("search")])],1)],1),t._v(" "),a("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{staticClass:"pt-0",attrs:{dense:""}},[a("v-divider"),t._v(" "),t._l(t.drawerLinkItems,function(e){return a("v-list-tile",{key:e.title,staticClass:"navigation-drawer-link",attrs:{to:{path:e.link}},on:{click:function(e){t.drawer=!1}}},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))])],1)],1)}),t._v(" "),a("v-list-group",{attrs:{"no-action":"","sub-group":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-tile",[a("v-list-tile-title",[t._v(t._s(t.$store.state.organization.name))])],1)]},proxy:!0}])},[t._v(" "),t._l(t.$store.state.user.organizations,function(e){return a("v-list-tile",{key:e.id,on:{click:function(a){return t.handleOrgChange(e)}}},[a("v-list-tile-title",[t._v(t._s(e.name))])],1)})],2),t._v(" "),a("v-list-group",{attrs:{"no-action":"","sub-group":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-tile",[a("v-list-tile-title",[t._v(t._s(t.username))])],1)]},proxy:!0}])},[t._v(" "),a("v-list-tile",{attrs:{to:{path:"/settings"}}},[a("v-list-tile-title",[t._v("Settings")])],1),t._v(" "),a("v-list-tile",{on:{click:t.handleLogout}},[a("v-list-tile-title",[t._v("Logout")])],1)],1)],2)],1)],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},a8ww:function(t,e){},aAUH:function(t,e,a){"use strict";var r=a("d7EF"),n=a.n(r),s=a("BO1k"),i=a.n(s),o=a("Xxa5"),c=a.n(o),l=a("exGp"),u=a.n(l),d=a("Q7hp"),v=a.n(d),p=a("M4fF"),f=a.n(p),m=a("L/hj"),h=a("mpC7");e.a={name:"comments",props:["toCommentsData"],data:function(){return{comments:[{comment:"",readOnly:!0}],asignedUsers:[],showComments:!0,addComment:!0,newComment:"",mailers:[],users:[],ownerId:"",options:{selectTemplate:function(t){return"@"+t.original.key+"."},values:[]},showPrependIcon:!1,dialog:!1,showByIcon:!1,dialogUserList:!1,chipsUsers:[],wordIndex:null}},mounted:function(){var t=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadOrgUsers();case 2:return e.next=4,t.loadComments();case 4:case"end":return e.stop()}},e,t)}))()},computed:{showAutocomplete:function(){return!1}},methods:{tributeReplaced:function(t){var e=document.getElementById("comment"+t.id),a=document.createEvent("HTMLEvents");a.initEvent("input",!0,!0),e.dispatchEvent(a)},labelComment:function(t){var e=a.i(m.c)(f.a.find(this.users,{userId:t.createdBy}));return e=e+" "+new Date(t.createdAt).toLocaleString()},loadOrgUsers:function(){var t=this;return u()(c.a.mark(function e(){var r,n,s,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$route.query.orgId,e.prev=1,t.$loading(!0),e.next=5,t.axios.get("/api/org/"+r+"/users");case 5:if(n=e.sent,s=v()(n,"data.success"),t.$route.query.hasOwnProperty("bugId")?t.ownerId=t.$route.query.bugId:t.$route.query.hasOwnProperty("initiativeid")?t.ownerId=t.$route.query.initiativeid:t.$route.query.hasOwnProperty("itemId")&&(t.ownerId=t.$route.query.itemId),t.loadSubscribers(),s){e.next=11;break}throw new Error("Unable to load user's organizations.");case 11:i=v()(n,"data.users"),t.users=i,t.options.values.length=0,i.forEach(function(e){t.options.values.push({value:e.email,key:a.i(m.c)(e),string:"@"+a.i(m.c)(e)+"."})}),e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(1),e.abrupt("return",t.$errorMessage.show(e.t0));case 20:return e.prev=20,t.$loading(!1),e.finish(20);case 23:case"end":return e.stop()}},e,t,[[1,17,20,23]])}))()},loadSubscribers:function(){var t=this,e=this.$route.name.toLowerCase()+"s",a=this.ownerId;this.axios.get("/api/subscribers/"+e+"/"+a).then(function(e){var a=!0,r=!1,n=void 0;try{for(var s,o=i()(e.data.subscribers);!(a=(s=o.next()).done);a=!0){var c=s.value;c.userId=c.id,t.chipsUsers.push(c)}}catch(t){r=!0,n=t}finally{try{!a&&o.return&&o.return()}finally{if(r)throw n}}t.$loading(!1)}).catch(function(t){console.log(t)})},handleReadOnly:function(t){this.comments.forEach(function(t){t.readOnly=!0}),t.readOnly=!1,this.$refs["comment"+t.id][0].focus()},loadComments:function(){var t=this;return u()(c.a.mark(function e(){var a,r,n,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.$route.query.orgId)){e.next=20;break}return t.$loading(!0),e.prev=3,e.next=6,t.axios.get("/api/comments/get/"+t.toCommentsData.name+"/"+a+"/"+t.toCommentsData.id);case 6:r=e.sent,n=v()(r,"data.success"),n||t.$errorMessage.show("Unable to load comments"),s=v()(r,"data.comments"),s.forEach(function(t){t.readOnly=!0}),t.comments=s,e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",t.$errorMessage.show(e.t0));case 17:return e.prev=17,t.$loading(!1),e.finish(17);case 20:case"end":return e.stop()}},e,t,[[3,14,17,20]])}))()},handleUpdateComment:function(t){var e=this;return u()(c.a.mark(function a(){var r,n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.$loading(!0),e.findEmailAndReturnMailers(t.comment),a.next=5,e.axios.put("/api/comments/edit/"+t.id,{comment:t.comment,mailers:e.mailers});case 5:if(r=a.sent,e.mailers=[],n=v()(r,"data.success")){a.next=10;break}throw new Error("Unable to update comment.");case 10:a.next=15;break;case 12:return a.prev=12,a.t0=a.catch(0),a.abrupt("return",e.$errorMessage.show(a.t0));case 15:return a.prev=15,e.$loading(!1),t.readOnly=!0,a.finish(15);case 19:case"end":return a.stop()}},a,e,[[0,12,15,19]])}))()},handleNewComment:function(t){var e=this;return u()(c.a.mark(function a(){var r,n,s,o,l,u,d,v,p,f,m,h;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(console.log("new comment handled"),r=e.$route.query.orgId,n=e.toCommentsData.id,s=[],o=!0,l=!1,u=void 0,a.prev=7,d=i()(e.chipsUsers);!(o=(v=d.next()).done);o=!0)p=v.value,s.push(p.userId);a.next=15;break;case 11:a.prev=11,a.t0=a.catch(7),l=!0,u=a.t0;case 15:a.prev=15,a.prev=16,!o&&d.return&&d.return();case 18:if(a.prev=18,!l){a.next=21;break}throw u;case 21:return a.finish(18);case 22:return a.finish(15);case 23:f=e.ownerId,m=e.$route.name.toLowerCase()+"s",console.log("subscribers added"),h=function(){e.axios.post("/api/comments/new/"+e.toCommentsData.name+"/"+r+"/"+n,{comment:t,mailers:e.mailers}).then(function(t){e.axios.post("/api/subscribers/new/"+m+"/"+f,{subowner:"comments",subownerId:String(t.data.comment.id),usersId:s}).then(function(t){e.$loading(!1),e.loadComments()}).catch(function(t){console.log(t),e.$loading(!1)}),e.mailers=[],e.newComment=""}).catch(function(t){return e.$loading(!1),e.$errorMessage.show(t)})},h();case 28:case"end":return a.stop()}},a,e,[[7,11,15,23],[16,,18,22]])}))()},handleDeleteComment:function(t){var e=this;return u()(c.a.mark(function a(){var r,n,s;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.$route.query.orgId,a.prev=1,e.$loading(!0),a.next=5,e.axios.delete("/api/comments/delete/"+r+"/"+t.id);case 5:if(n=a.sent,s=v()(n,"data.success")){a.next=9;break}throw new Error("Unable to delete comment.");case 9:e.$notify({group:"app",type:"success",text:"Comment deleted"}),a.next=15;break;case 12:return a.prev=12,a.t0=a.catch(1),a.abrupt("return",e.$errorMessage.show(a.t0));case 15:return a.prev=15,e.$loading(!1),a.next=19,e.loadComments();case 19:return a.finish(15);case 20:case"end":return a.stop()}},a,e,[[1,12,15,20]])}))()},findEmailAndReturnMailers:function(t){var e=this,a=t.match(/@.+?(\.)/gi);this.mailers.length=0,a&&(a.forEach(function(t){var a=f.a.find(e.options.values,{string:t});a&&e.mailers.push(a.value)}),this.mailers=f.a.union(this.mailers))},autocompleteChanged:function(){},removeAssignedUser:function(t){var e=this;console.log(t);var a=void 0,r=!0,s=!1,o=void 0;try{for(var c,l=i()(this.chipsUsers.entries());!(r=(c=l.next()).done);r=!0){var u=c.value,d=n()(u,2),v=d[0];d[1].userId===Number(t.userId)&&(a=v)}}catch(t){s=!0,o=t}finally{try{!r&&l.return&&l.return()}finally{if(s)throw o}}if(a>=0){this.chipsUsers.splice(a,1);var p=[];p.push(t.userId);var f=this.$route.name.toLowerCase()+"s",m=this.ownerId;this.$loading(!0),this.axios.post("/api/subscribers/delete/"+f+"/"+m,{usersId:p}).then(function(t){e.$loading(!1),e.loadComments()}).catch(function(t){console.log(t),e.$loading(!1)})}},checkComment:function(t){"@"===t.key&&(this.dialogUserList=!0)},selectChip:function(t){this.dialogUserList=!1;var e=Number(t.target.parentNode.id);console.log(e);var a=this.newComment.trim().split(" "),r=this.users.find(function(t){return t.userId===e});if(r){var s=!0,o=!1,c=void 0;try{for(var l,u=i()(a.entries());!(s=(l=u.next()).done);s=!0){var d=l.value,v=n()(d,2),p=v[0];"@"===v[1]&&(a[p]="@"+(r.firstName+r.lastName))}}catch(t){o=!0,c=t}finally{try{!s&&u.return&&u.return()}finally{if(o)throw c}}this.newComment=a.join(" "),this.chipsUsers.find(function(t){return t.userId===e})||this.chipsUsers.push(r)}}},components:{VueTribute:h.a},watch:{}}},ayRr:function(t,e){},bS15:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm10:""}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.form.title))])]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{placeholder:"Title item"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),t._v(" "),a("label",{staticClass:"text-left"},[t._v("Created by "+t._s(t.handleUsername(t.form.author))+" on "+t._s(new Date(t.form.createdAt).toLocaleString()))]),t._v(" "),a("v-textarea",{staticClass:"mt-3",attrs:{placeholder:"Title description"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",{staticClass:"select-box-subheader"},[t._v("Status")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-select",{attrs:{items:t.objStatuses,"item-text":"name","item-value":"name","return-object":""},on:{input:function(e){return t.handleItemSetField(e,"status")}},model:{value:t.currentStatus,callback:function(e){t.currentStatus=e},expression:"currentStatus"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-subheader",{staticClass:"select-box-subheader"},[t._v("Assignee:")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-select",{staticClass:"pt-0",attrs:{items:t.users,"item-value":"userId","return-object":""},on:{input:function(e){return t.handleItemSetField(e,"assignee")}},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(t._s(e.item.firstName)+" "+t._s(e.item.lastName))]}},{key:"item",fn:function(e){return[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.firstName+" "+e.item.lastName)}})],1)]}}]),model:{value:t.assignee.userId,callback:function(e){t.$set(t.assignee,"userId",e)},expression:"assignee.userId"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-subheader",{staticClass:"select-box-subheader"},[t._v("Points:")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-select",{attrs:{items:t.pointsVar,"item-text":String(t.points),"item-value":String(t.points)},on:{input:function(e){return t.handleItemSetField(e,"points")}},model:{value:t.points,callback:function(e){t.points=e},expression:"points"}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-checkbox",{attrs:{label:"Archived: "},model:{value:t.form.archived,callback:function(e){t.$set(t.form,"archived",e)},expression:"form.archived"}})],1),t._v(" "),a("v-flex",{attrs:{xs8:""}}),t._v(" "),a("v-flex",{attrs:{sm12:""}},[a("Comments",{ref:"comments_ref",attrs:{toCommentsData:t.toCommentsData}})],1),t._v(" "),a("v-flex",{attrs:{sm12:""}},[a("Connections",{attrs:{toConnectionData:t.toConnectionData}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{row:"",wrap:"","mb-3":""}},[a("v-btn",{attrs:{color:"blue darken-1",id:"save-and-close-button__backlog-component",flat:"",small:"",outline:""},on:{click:function(e){return t.handleSaveItem()}}},[t._v("Save and close")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",small:"",outline:""},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",small:"",outline:"",id:"delete-button__backlog-component"},on:{click:function(e){t.dialogDeleteItem=!0}}},[t._v("Delete")])],1)],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"250"},model:{value:t.dialogDeleteItem,callback:function(e){t.dialogDeleteItem=e},expression:"dialogDeleteItem"}},[a("v-card",[a("v-card-text",{staticClass:"text-xs-center subheading"},[t._v("Wait. Are you sure you want to delete this permanently?")]),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",flat:"flat",outline:"",small:""},on:{click:function(e){t.dialogDeleteBackLog=!1}}},[t._v("Cancel")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"error",flat:"flat",outline:"",small:""},on:{click:function(e){return t.handleItemDelete()}}},[t._v("Yes")])],1)],1)],1)],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},d6UU:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),o=a("Q7hp"),c=a.n(o);e.a={name:"Register",beforeCreate:function(){},mounted:function(){this.checkToken()},data:function(){return{form:{firstName:void 0,lastName:void 0,email:void 0,password:void 0,confirmation:void 0,organization:void 0,tosAccepted:!1},saving:!1,registered:!1,invited:!1}},methods:{checkToken:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.$route.query.token){e.next=3;break}return e.abrupt("return");case 3:if(!a){e.next=24;break}return t.invited=!0,t.$loading(!0),e.prev=6,e.next=9,t.axios.get("/api/org/invite",{params:{token:a}});case 9:if(r=e.sent,s=c()(r,"data.success")){e.next=13;break}throw new Error("Token iinvalid or expired");case 13:t.form.organization=c()(r,"data.organization"),t.form.email=c()(r,"data.email"),t.form.token=a,e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(6),e.abrupt("return",t.$errorMessage.show(e.t0));case 21:return e.prev=21,t.$loading(!1),e.finish(21);case 24:case"end":return e.stop()}},e,t,[[6,18,21,24]])}))()},openTerms:function(){window.open("../static/PM415TERMSANDCONDITIONS.html","_blank")},handleSubmit:function(t){var e=this;return i()(n.a.mark(function a(){var r,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,e.form.tosAccepted&&(e.form.tosAccepted="Y"),a.next=5,e.axios.post("/api/account/register",e.form);case 5:if(r=a.sent,s=c()(r,"data.userId")){a.next=9;break}throw new Error(c()(r,"data.message","Unable to create account"));case 9:e.$notify({group:"app",type:"success",text:"Your account created, please check your inbox for confirmation email."}),e.registered=!0,a.next=16;break;case 13:return a.prev=13,a.t0=a.catch(1),a.abrupt("return",e.$errorMessage.show(a.t0));case 16:return a.prev=16,e.$loading(!1),a.finish(16);case 19:case"end":return a.stop()}},a,e,[[1,13,16,19]])}))()}},props:{onChangeForm:Function}}},fmBQ:function(t,e,a){"use strict";var r=a("Q7hp"),n=a.n(r);e.a={install:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.prototype.$errorMessage={show:function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Server error occurs",s=void 0;s||(s=n()(e,"response.data.message")),s||(s=n()(e,"response.details[0]")),s||(s=e.message),s||"string"!=typeof e||(s=e),s||(s=r),s=(new DOMParser).parseFromString(s,"text/html").body.textContent||"",t.notify({group:"error",text:s,type:"error"})}}}}},gIOi:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":""}},[!0===t.loading?a("div",[a("loading-indication")],1):t._e(),t._v(" "),t._l(t.rss,function(e){return a("v-layout",{key:e.name,staticClass:"news-layout",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h4",{staticClass:"mb-4 ml-1"},[t._v(t._s(e.name))])]),t._v(" "),t._l(e.items,function(e){return a("v-flex",{key:e.link,attrs:{xs12:"",sm12:"","mb-4":""}},[a("v-card",[a("v-card-title",[a("div",[a("span",{staticClass:"grey--text"},[t._v(t._s(e.title))])])]),t._v(" "),a("v-card-text",[a("p",{domProps:{innerHTML:t._s(e.content)}})]),t._v(" "),a("v-card-actions",[a("a",{staticClass:"read-more-link",attrs:{href:e.link,target:"_blank"}},[a("v-btn",{attrs:{flat:"",small:"",outline:"",color:"blue darken-3"}},[t._v("Read more")])],1)])],1)],1)})],2)})],2)},n=[],s={render:r,staticRenderFns:n};e.a=s},"gt9+":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.form.title))])]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{placeholder:"Title item"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),t._v(" "),a("label",{staticClass:"text-left"},[t._v("Created by "+t._s(t.handleUsername(t.form.reportedBy))+" on "+t._s(new Date(t.form.createdAt).toLocaleString()))]),t._v(" "),a("v-textarea",{staticClass:"mt-3",attrs:{placeholder:"Title description"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",{staticClass:"select-box-subheader"},[t._v("Severity")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-select",{staticClass:"pt-0",attrs:{items:t.severityArray,"item-text":"element","item-value":"element"},on:{input:function(e){return t.handleBugSetField(e,"severity")}},model:{value:t.form.severity,callback:function(e){t.$set(t.form,"severity",e)},expression:"form.severity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-subheader",{staticClass:"select-box-subheader"},[t._v("Status")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-select",{staticClass:"pt-0",attrs:{items:t.objStatuses,"item-value":"id","return-object":""},on:{input:function(e){return t.handleBugSetField(e,"status")}},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(t._s(e.item.name))]}},{key:"item",fn:function(e){return[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(""+e.item.name)}})],1)]}}]),model:{value:t.status.id,callback:function(e){t.$set(t.status,"id",e)},expression:"status.id"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-subheader",{staticClass:"select-box-subheader"},[t._v("Reported by:")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-select",{staticClass:"pt-0",attrs:{items:t.users,"item-value":"userId","return-object":""},on:{input:function(e){return t.handleBugSetField(e,"reportedBy")}},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(t._s(e.item.firstName)+" "+t._s(e.item.lastName))]}},{key:"item",fn:function(e){return[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.firstName+" "+e.item.lastName)}})],1)]}}]),model:{value:t.reportedBy.userId,callback:function(e){t.$set(t.reportedBy,"userId",e)},expression:"reportedBy.userId"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-subheader",{staticClass:"select-box-subheader"},[t._v("Assignee:")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-select",{staticClass:"pt-0",attrs:{items:t.users,"item-value":"userId","return-object":""},on:{input:function(e){return t.handleBugSetField(e,"assignee")}},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(t._s(e.item.firstName)+" "+t._s(e.item.lastName))]}},{key:"item",fn:function(e){return[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.firstName+" "+e.item.lastName)}})],1)]}}]),model:{value:t.assignee.userId,callback:function(e){t.$set(t.assignee,"userId",e)},expression:"assignee.userId"}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-checkbox",{attrs:{label:"Archived: "},model:{value:t.form.archived,callback:function(e){t.$set(t.form,"archived",e)},expression:"form.archived"}})],1),t._v(" "),a("v-flex",{attrs:{xs8:""}}),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("Comments",{ref:"comments_ref",attrs:{toCommentsData:t.toCommentsData}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("Connections",{attrs:{toConnectionData:t.toConnectionData}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{row:"",wrap:"","mb-3":""}},[a("v-btn",{attrs:{color:"blue darken-1",id:"save-and-close-button__bug-component",flat:"",outline:"",small:""},on:{click:function(e){return t.handleSaveBug()}}},[t._v("Save and close")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",small:"",outline:""},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",small:"",outline:"",id:"delete-button__bug-component"},on:{click:function(e){t.dialogDeleteBug=!0}}},[t._v("Delete")])],1)],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"250"},model:{value:t.dialogDeleteBug,callback:function(e){t.dialogDeleteBug=e},expression:"dialogDeleteBug"}},[a("v-card",[a("v-card-text",{staticClass:"text-xs-center subheading"},[t._v("Wait. Are you sure you want to delete this permanently?")]),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",flat:"flat",outline:"",small:""},on:{click:function(e){t.dialogDeleteBug=!1}}},[t._v("Cancel")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"error",flat:"flat",outline:"",small:""},on:{click:function(e){return t.handleBugDelete()}}},[t._v("Yes")])],1)],1)],1)],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},hU05:function(t,e,a){"use strict";function r(t){a("mSDR")}var n=a("LR0Z"),s=a("2nGj"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},"i/v4":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[!0===t.loading?a("div",[a("loading-indication")],1):t._e(),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-toolbar",{staticClass:"cards-toolbar hidden-sm-and-down",attrs:{card:"",prominent:"","align-center":""}},[a("v-checkbox",{staticClass:"checkbox",attrs:{label:"Show archived"},on:{change:t.reload},model:{value:t.showArchived,callback:function(e){t.showArchived=e},expression:"showArchived"}}),t._v(" "),a("div",[a("v-btn",{class:{"v-btn--active":"initiative"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortInitiaiveCards("initiative")}}},[t._v("Initiative")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"popularity"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortInitiaiveCards("popularity")}}},[t._v("Popularity")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"importance"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortInitiaiveCards("importance")}}},[t._v("Importance")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"horizon"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortInitiaiveCards("horizon")}}},[t._v("horizon")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"author"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortInitiaiveCards("author")}}},[t._v("Author")])],1),t._v(" "),a("v-spacer",{staticClass:"hidden-md-and-down"}),t._v(" "),a("v-btn",{attrs:{small:"",outline:"",color:"success"},on:{click:function(e){t.dialogNewInitiative=!0}}},[t._v("New")])],1),t._v(" "),a("v-toolbar",{staticClass:"cards-toolbar hidden-sm-and-down",attrs:{card:"",prominent:"","align-center":""}},[a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{staticClass:"pt-0",attrs:{label:"Filter","single-line":""},on:{keyup:t.filterInitiatives},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),a("v-btn",{staticClass:"pt-0 mt-0 clear-filter-botton",attrs:{small:"",outline:""},on:{click:function(e){t.filter="",t.clearInitiativesFilter()}}},[t._v("Clear")])],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"cards-toolbar-mobile hidden-md-and-up",attrs:{xs12:"","pl-3":"","pr-3":""}},[a("v-btn",{attrs:{small:"",outline:"",color:"success"},on:{click:function(e){t.dialogNewInitiative=!0}}},[t._v("New")]),t._v(" "),a("v-checkbox",{staticClass:"checkbox pl-2 pr-2",attrs:{label:"Show archived"},on:{change:t.reload},model:{value:t.showArchived,callback:function(e){t.showArchived=e},expression:"showArchived"}}),t._v(" "),a("v-btn",{class:{"v-btn--active":"initiative"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortInitiaiveCards("initiative")}}},[t._v("Initiative")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"popularity"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortInitiaiveCards("popularity")}}},[t._v("Popularity")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"importance"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortInitiaiveCards("importance")}}},[t._v("Importance")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"horizon"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortInitiaiveCards("horizon")}}},[t._v("horizon")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"author"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortInitiaiveCards("author")}}},[t._v("Author")])],1),t._v(" "),a("v-flex",{staticClass:"cards-toolbar-mobile hidden-md-and-up",attrs:{xs12:"","pl-3":"","pr-3":""}},[a("v-text-field",{staticClass:"pt-0 pl-2 pr-2",attrs:{label:"Filter","single-line":""},on:{keyup:t.filterInitiatives},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),a("v-btn",{staticClass:"pt-0 mt-0 clear-filter-botton",attrs:{small:"",outline:""},on:{click:function(e){t.filter="",t.clearInitiativesFilter()}}},[t._v("Clear")])],1)],1),t._v(" "),a("draggable",{staticClass:"layout wrap",attrs:{list:t.intiativeCards,move:t.onMove},on:{start:function(e){t.draging=!0},end:function(e){return t.onEnd(e)},change:t.onListChange}},t._l(t.intiativeCards,function(e){return a("v-flex",{key:e.id,attrs:{xs12:"",sm6:"",md4:"",lg3:"","pl-1":"","pr-1":"","pt-3":""}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("h4",{staticClass:"mb-0"},[t._v("\n              Initiative:\n              "),a("router-link",{attrs:{to:"initiative/?orgId="+t.$store.state.organization.id+"&initiativeid="+e.id}},[t._v(t._s(e.title))])],1)]),t._v(" "),a("div",{staticClass:"card-body pt-0 pb-0"},[a("p",{staticClass:"mb-2"},[t._v("Description: "+t._s(e.description))]),t._v(" "),a("p",{staticClass:"mb-2"},[t._v("Popularity: "+t._s(e.popularity))]),t._v(" "),a("p",{staticClass:"mb-2"},[t._v("\n              importance:\n              "),a("a",{attrs:{href:"#"},on:{click:function(a){return t.filterInitiatives(e.importance)}}},[t._v(t._s(e.importance))])]),t._v(" "),a("p",{staticClass:"mb-2"},[t._v("\n              Horizon:\n              "),a("a",{attrs:{href:"#"},on:{click:function(a){return t.filterInitiatives(e.horizon.horizon)}}},[t._v(t._s(e.horizon.horizon))])]),t._v(" "),a("p",{staticClass:"mb-2"},[t._v("\n              Author:\n              "),a("a",{attrs:{href:"#"},on:{click:function(a){return t.filterInitiatives(e.lastName)}}},[t._v(t._s(e.firstName+" "+e.lastName))])])]),t._v(" "),a("v-card-actions",{staticClass:"pl-3 pb-2"},[a("v-btn",{staticClass:"edit-button extra-small-button",attrs:{slot:"activator",outline:"",fab:"",dark:"",small:"",color:"primary",to:"initiative/?orgId="+t.$store.state.organization.id+"&initiativeid="+e.id},slot:"activator"},[a("i",{staticClass:"material-icons"},[t._v("edit")])]),t._v(" "),t.$store.state.user.id===e.createdBy||t.admin?a("v-btn",{staticClass:"delete-button extra-small-button",attrs:{outline:"",fab:"",dark:"",small:"",color:"primary"},on:{click:function(a){t.setCurrentInitiative(e),t.dialogDeleteInitiative=!0}}},[a("i",{staticClass:"material-icons"},[t._v("delete")])]):t._e()],1)],1)],1)}),1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("div",{staticClass:"text-xs-center pt-3"},[t.initialInitiatives.length?a("v-pagination",{attrs:{length:t.totalPages,"total-visible":15},on:{input:t.paginationFunction},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1)]),t._v(" "),a("v-dialog",{attrs:{"max-width":"850px"},model:{value:t.dialogNewInitiative,callback:function(e){t.dialogNewInitiative=e},expression:"dialogNewInitiative"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("New initiative")])]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm7:""}},[a("v-text-field",{attrs:{placeholder:"Enter initiative"},model:{value:t.newInitiative.title,callback:function(e){t.$set(t.newInitiative,"title",e)},expression:"newInitiative.title"}}),t._v(" "),a("v-textarea",{attrs:{placeholder:"Enter hightlights"},model:{value:t.newInitiative.description,callback:function(e){t.$set(t.newInitiative,"description",e)},expression:"newInitiative.description"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm5:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs4:"","mt-1":""}},[a("v-subheader",[t._v("Vote")])],1),t._v(" "),a("v-flex",{attrs:{xs8:"","mt-1":""}},[a("v-btn",{class:{"v-btn--active":"voteUp"===this.btntrue},attrs:{flat:"",icon:"",color:"blue-grey darken-3"},on:{click:function(e){return t.handleNewInitiativeSetField(!0,"vote")}}},[a("v-icon",[t._v("thumb_up")])],1),t._v(" "),a("v-btn",{class:{"v-btn--active":"voteDown"===this.btnfalse},attrs:{flat:"",icon:"",color:"blue-grey darken-3"},on:{click:function(e){return t.handleNewInitiativeSetField(!1,"vote")}}},[a("v-icon",[t._v("thumb_down")])],1)],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Horizon")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-select",{attrs:{items:t.horizonList,"item-text":"horizon","item-value":"horizon","return-object":""},on:{input:t.handleNewInitiativeSetField}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Priority")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-select",{attrs:{items:t.objStatuses,"item-text":"name","item-value":"name","return-object":""},on:{change:t.handleNewInitiativeSetField}})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"xs-12":""}},[a("v-btn",{staticClass:"save-and-close-button",attrs:{color:"blue darken-1",flat:"",medium:""},on:{click:function(e){return t.handleNewInitiative(!1)}}},[t._v("Save and close")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",medium:""},on:{click:function(e){return t.handleNewInitiative(!0)}}},[t._v("Save and open")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",medium:""},on:{click:function(e){t.dialogNewInitiative=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"250"},model:{value:t.dialogDeleteInitiative,callback:function(e){t.dialogDeleteInitiative=e},expression:"dialogDeleteInitiative"}},[a("v-card",[a("v-card-text",{staticClass:"text-xs-center subheading"},[t._v("Wait. Are you sure you want to delete this permanently?")]),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",flat:"flat",outline:"",small:""},on:{click:function(e){t.dialogDeleteInitiative=!1}}},[t._v("Cancel")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"error",flat:"flat",outline:"",small:""},on:{click:function(e){return t.handleInitiativeDelete(t.currentInitiative)}}},[t._v("Yes")])],1)],1)],1)],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},idOd:function(t,e){},jdmF:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),o=a("Q7hp"),c=a.n(o);e.a={name:"ResetPassword",mounted:function(){var t=this.$route.query.token;t||(this.$notify({group:"error",type:"warn",text:"Token invalid or missing"}),this.$router.push({name:"account",params:{action:"forgot"}})),this.form.token=t},data:function(){return{form:{password:null,confirmation:null,token:null}}},methods:{submit:function(t){var e=this;return i()(n.a.mark(function a(){var r,s,i;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,e.axios.post("/api/account/changepassword",e.form);case 4:r=a.sent,s=c()(r,"data.success"),i=c()(r,"data.message","Unable to set new password"),s?(e.$notify({group:"app",type:s,text:"Your password was changed."}),e.$router.push({name:"account",params:{action:"login"}})):e.$notify({group:"app",type:s,text:i}),a.next=13;break;case 10:return a.prev=10,a.t0=a.catch(1),a.abrupt("return",e.$errorMessage.show(a.t0));case 13:return a.prev=13,e.$loading(!1),a.finish(13);case 16:case"end":return a.stop()}},a,e,[[1,10,13,16]])}))()}},props:{onChangeForm:Function}}},jqYp:function(t,e,a){"use strict";function r(t){a("A6W7")}var n=a("3HAg"),s=a("qtby"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},kDVP:function(t,e,a){"use strict";var r=a("mvHQ"),n=a.n(r),s=a("Xxa5"),i=a.n(s),o=a("exGp"),c=a.n(o),l=a("Q7hp"),u=a.n(l),d=a("M4fF"),v=a.n(d),p=a("L/hj"),f=a("Bez9"),m=a("r9AH");e.a={name:"Item",data:function(){return{toConnectionData:{name:"item",id:this.$route.query.itemId,connects:["initiative","bug"]},toCommentsData:{name:"items",id:this.$route.query.itemId,admin:!1},objStatuses:[],currentStatus:"",assignee:{userId:"5"},users:[],pointsVar:["0","1","2","3","5","8","13","21"],points:"",dialogDeleteItem:!1,form:{title:"",description:"",points:"",status:{name:"asdasd"},assignee:{firstName:"",lastName:"",email:"",id:""},forecastedRelease:"",actualRelease:"",order_index:"3",statusId:0,id:"",Author:{firstName:"",lastName:"",email:""},archived:!1}}},mounted:function(){var t=this;return c()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadOrgStatuses();case 2:return e.next=4,t.loadOrgUsers();case 4:return e.next=6,t.loadItem();case 6:case"end":return e.stop()}},e,t)}))()},computed:{},methods:{handleItemDelete:function(){var t=this;return c()(i.a.mark(function e(){var a,r,n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.form,r=t.$route.query.orgId,!a||t.$store.state.user.id,e.prev=3,e.next=6,t.axios.delete("/api/items/"+r+"/"+a.id);case 6:if(n=e.sent,s=u()(n,"data.success")){e.next=10;break}throw new Error("Unable to delete item.");case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",t.$errorMessage.show(e.t0));case 15:return e.prev=15,t.$notify({group:"app",type:"success",text:"Item "+a.title+" was deleted"}),t.$router.go(-1),e.finish(15);case 19:case"end":return e.stop()}},e,t,[[3,12,15,19]])}))()},loadItem:function(){var t=this;return c()(i.a.mark(function e(){var a,r,n,s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$loading(!0),a=t.$route.query.orgId,r=t.$route.query.itemId,console.log(a,r),e.prev=4,e.next=7,t.axios.get("/api/items/"+a+"/"+r);case 7:n=e.sent,s=u()(n,"data.success"),t.assignee=n.data.item.assignee,s||t.$errorMessage.show("Unable to load current user profile"),o=u()(n,"data.item"),0===o.archived?o.archived=!1:o.archived=!0,t.form=o,t.objStatuses&&(t.form.status=v.a.find(t.objStatuses,{id:t.form.statusId})),t.currentStatus=t.form.status.name,t.points=String(t.form.points),t.admin=u()(n,"data.admin"),t.toCommentsData.admin=u()(n,"data.admin"),e.next=24;break;case 21:return e.prev=21,e.t0=e.catch(4),e.abrupt("return",t.$errorMessage.show(e.t0));case 24:return e.prev=24,t.$loading(!1),e.finish(24);case 27:case"end":return e.stop()}},e,t,[[4,21,24,27]])}))()},handleSaveItem:function(){var t=this;return c()(i.a.mark(function e(){var a,r,s,o,c,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.$route.query.orgId,r=t.$route.query.itemId,s=JSON.parse(n()(t.form)),t.form.assignee&&(s.assignee=String(t.form.assignee.userId)),t.currentStatus&&(s.statusId=String(t.form.status.id)),t.forecastedRelease||delete s.forecastedRelease,t.actualRelease||delete s.actualRelease,t.plannedOn||delete s.plannedOn,delete s.author,delete s.status,delete s.id,delete s.createdAt,delete s.updatedAt,delete s.createdBy,delete s.organizationId,delete s.ownerId,delete s.ownerTable,s.points=String(s.points),s.order_index=String(s.order_index),e.next=22,t.axios.put("/api/items/edit/"+a+"/"+r,s);case 22:if(o=e.sent,c=u()(o,"data.success")){e.next=26;break}throw new Error("Unable to update item.");case 26:l=t.$refs.comments_ref.newComment,l&&t.$refs.comments_ref.handleNewComment(t.$refs.comments_ref.newComment),e.next=33;break;case 30:return e.prev=30,e.t0=e.catch(0),e.abrupt("return",t.$errorMessage.show(e.t0));case 33:return e.prev=33,t.$router.go(-1),t.$notify({group:"app",type:"success",text:"Item updated"}),e.finish(33);case 37:case"end":return e.stop()}},e,t,[[0,30,33,37]])}))()},loadOrgUsers:function(){var t=this;return c()(i.a.mark(function e(){var a,r,n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$route.query.orgId,e.prev=1,t.$loading(!0),e.next=5,t.axios.get("/api/org/"+a+"/users");case 5:if(r=e.sent,n=u()(r,"data.success")){e.next=9;break}throw new Error("Unable to load user's organizations.");case 9:s=u()(r,"data.users"),t.users=s,e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",t.$errorMessage.show(e.t0));case 16:return e.prev=16,t.$loading(!1),e.finish(16);case 19:case"end":return e.stop()}},e,t,[[1,13,16,19]])}))()},handleUsername:function(t){return a.i(p.c)(t)},handleItemSetField:function(t,e){this.form[e]=t,"status"===e&&(this.currentStatus=t.name),"status"===e&&(this.points=t.name)},loadOrgStatuses:function(){var t=this;return c()(i.a.mark(function e(){var a,r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.$loading(!0),a=t.$route.query.orgId,e.next=5,t.axios.get("/api/statuses/items/"+a);case 5:if(r=e.sent,n=u()(r,"data.success")){e.next=9;break}throw new Error("Unable to load user's organizations.");case 9:t.objStatuses=u()(r,"data.statuses"),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",t.$errorMessage.show(e.t0));case 15:return e.prev=15,t.$loading(!1),e.finish(15);case 18:case"end":return e.stop()}},e,t,[[0,12,15,18]])}))()}},components:{Connections:f.a,Comments:m.a}}},kIqw:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),o=a("Q7hp"),c=a.n(o),l=a("M4fF"),u=a.n(l);e.a={name:"connections",props:["toConnectionData"],data:function(){return{relations:[],connectionsDataTableHeaders:[{text:"title",value:"title"},{text:"description",value:"title"}],connectionsFieldToAdd:[{key:"title",sortable:!0,label:""},{key:"description",sortable:!0}],currentConnectionType:"",connectionTable:[],filter:"",showArchived:!1,deleteConnectionDialog:!1,modalnew:!1}},mounted:function(){var t=this;return i()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadRelaitedList();case 2:case"end":return e.stop()}},e,t)}))()},computed:{},methods:{reload:function(t){var e=this;return i()(n.a.mark(function a(){var r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.showArchived=t,"backlog"!==(r=e.currentConnectionType)){a.next=7;break}return a.next=5,e.loadOrgBacklogs(r);case 5:a.next=20;break;case 7:if("initiative"!==r){a.next=12;break}return a.next=10,e.loadOrgInitiatives(r);case 10:a.next=20;break;case 12:if("item"!==r){a.next=17;break}return a.next=15,e.loadOrgItems(r);case 15:a.next=20;break;case 17:if("bug"!==r){a.next=20;break}return a.next=20,e.loadOrgBugs(r);case 20:e.connectionsFieldToAdd.forEach(function(t){"title"===t.key&&(t.label=r)});case 21:case"end":return a.stop()}},a,e)}))()},loadRelaitedList:function(){var t=this;return i()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.toConnectionData.connects.forEach(function(e){t.getConnection(e)}),t.relations.sort();case 2:case"end":return e.stop()}},e,t)}))()},setCurrentConnectionType:function(t){var e=this;return i()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.currentConnectionType=t,"backlog"!==t){a.next=6;break}return a.next=4,e.loadOrgBacklogs(t);case 4:a.next=19;break;case 6:if("initiative"!==t){a.next=11;break}return a.next=9,e.loadOrgInitiatives(t);case 9:a.next=19;break;case 11:if("item"!==t){a.next=16;break}return a.next=14,e.loadOrgItems(t);case 14:a.next=19;break;case 16:if("bug"!==t){a.next=19;break}return a.next=19,e.loadOrgBugs(t);case 19:e.connectionsFieldToAdd.forEach(function(e){"title"===e.key&&(e.label=t)}),e.modalnew=!0;case 21:case"end":return a.stop()}},a,e)}))()},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},deleteConnected:function(t,e){var a=this;return i()(n.a.mark(function r(){var s;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s=a.relations.find(function(e){return e.key===t}),s.data.forEach(function(t){e=u.a.pull(e,e.find(function(e){return e.id===t.id}))}),a.totalRows=e.lenght,r.abrupt("return",e);case 4:case"end":return r.stop()}},r,a)}))()},loadOrgItems:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s,i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$route.query.orgId,e.prev=1,e.next=4,t.axios.get("/api/items/all/"+t.showArchived+"/backlogs/"+a);case 4:if(r=e.sent,s=c()(r,"data.success")){e.next=8;break}throw new Error("Unable to load user's organizations.");case 8:return i=c()(r,"data.items"),i.forEach(function(e){e.selected=!1,e.href="/items/item/?orgId="+t.$store.state.organization.id+"&itemId="+e.id}),e.next=12,t.deleteConnected("item",i);case 12:i=e.sent,t.connectionTable=i,e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",t.$errorMessage.show(e.t0));case 19:return e.prev=19,e.finish(19);case 21:case"end":return e.stop()}},e,t,[[1,16,19,21]])}))()},loadOrgBugs:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s,i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$route.query.orgId,e.prev=1,e.next=4,t.axios.get("/api/bugs/full/"+t.showArchived+"/"+a+"/false");case 4:if(r=e.sent,s=c()(r,"data.success")){e.next=8;break}throw new Error("Unable to load user's organizations.");case 8:return i=c()(r,"data.bugs"),i.forEach(function(t){t.selected=!1,t.href="/bug/?orgId="+a+"&bugId="+t.id}),e.next=12,t.deleteConnected("bug",i);case 12:i=e.sent,t.connectionTable=i,e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",t.$errorMessage.show(e.t0));case 19:return e.prev=19,e.finish(19);case 21:case"end":return e.stop()}},e,t,[[1,16,19,21]])}))()},loadOrgBacklogs:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios.get("/api/backlogs/"+t.showArchived+"/"+t.$store.state.organization.id);case 3:if(a=e.sent,r=c()(a,"data.success")){e.next=7;break}throw new Error("Unable to load user's baclogs.");case 7:return s=c()(a,"data.backlogs"),s.forEach(function(t){t.selected=!1}),e.next=11,t.deleteConnected("backlog",s);case 11:s=e.sent,t.connectionTable=s,e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",t.$errorMessage.show(e.t0));case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}},e,t,[[0,15,18,20]])}))()},loadOrgInitiatives:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios.get("/api/initiatives/all/"+t.showArchived+"/"+t.$store.state.organization.id);case 3:if(a=e.sent,r=c()(a,"data.success")){e.next=7;break}throw new Error("Unable to load user's organizations.");case 7:return s=c()(a,"data.initiatives"),s.forEach(function(e){e.href="/initiative/?orgId="+t.$store.state.organization.id+"&initiativeid="+e.id,e.selected=!1}),e.next=11,t.deleteConnected("initiative",s);case 11:s=e.sent,t.connectionTable=s,e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",t.$errorMessage.show(e.t0));case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}},e,t,[[0,15,18,20]])}))()},getConnection:function(t){var e=this;return i()(n.a.mark(function a(){var r,s,i,o;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.axios.get("/api/connections/"+e.toConnectionData.name+"/"+t+"/"+e.toConnectionData.id);case 3:r=a.sent,s=c()(r,"data.success"),s||e.$errorMessage.show("Unable to load connections"),i=c()(r,"data.info"),o={},o.key=t,o.data=i,i.forEach(function(a){a.selected=!1,"initiative"===t?a.href="/initiative/?orgId="+e.$store.state.organization.id+"&initiativeid="+a.id:"item"===t?a.href="/items/item/?orgId="+e.$store.state.organization.id+"&itemId="+a.id:"bug"===t&&(a.href="/bug/?orgId="+e.$store.state.organization.id+"&bugId="+a.id)}),e.relations.push(o),a.next=17;break;case 14:return a.prev=14,a.t0=a.catch(0),a.abrupt("return",e.$errorMessage.show(a.t0));case 17:return a.prev=17,a.finish(17);case 19:case"end":return a.stop()}},a,e,[[0,14,17,19]])}))()},handleNewConnections:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s,i,o,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=[],r=[],s=[],i=[],"backlog"===t.currentConnectionType?t.connectionTable.forEach(function(t){t.selected&&r.push(t.id)}):"initiative"===t.currentConnectionType?t.connectionTable.forEach(function(t){t.selected&&s.push(t.id)}):"item"===t.currentConnectionType?t.connectionTable.forEach(function(t){t.selected&&a.push(t.id)}):"bug"===t.currentConnectionType&&t.connectionTable.forEach(function(t){t.selected&&i.push(t.id)}),e.next=8,t.axios.post("/api/connections/"+t.toConnectionData.name+"/"+t.toConnectionData.id,{items:a,initiatives:s,backlogs:r,bugs:i,delete:!1});case 8:if(o=e.sent,l=c()(o,"data.success"),t.modalnew=!1,l){e.next=13;break}throw new Error("Unable to add connection.");case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",t.$errorMessage.show(e.t0));case 18:return e.prev=18,t.relations=[],e.next=22,t.loadRelaitedList();case 22:return e.finish(18);case 23:case"end":return e.stop()}},e,t,[[0,15,18,23]])}))()},handleDeleteConnections:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s,i,o,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=[],r=[],s=[],i=[],t.relations.forEach(function(t){"backlog"===t.key?t.data.forEach(function(t){t.selected&&r.push(t.id)}):"initiative"===t.key?t.data.forEach(function(t){t.selected&&s.push(t.id)}):"item"===t.key?t.data.forEach(function(t){t.selected&&a.push(t.id)}):"bug"===t.key&&t.data.forEach(function(t){t.selected&&i.push(t.id)})}),e.next=8,t.axios.post("/api/connections/"+t.toConnectionData.name+"/"+t.toConnectionData.id,{items:a,initiatives:s,backlogs:r,bugs:i,delete:!0});case 8:if(o=e.sent,l=c()(o,"data.success"),t.deleteConnectionDialog=!1,l){e.next=13;break}throw new Error("Unable to add connection.");case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),t.deleteConnectionDialog=!1,e.abrupt("return",t.$errorMessage.show(e.t0));case 19:return e.prev=19,t.relations=[],e.next=23,t.loadRelaitedList();case 23:return e.finish(19);case 24:case"end":return e.stop()}},e,t,[[0,15,19,24]])}))()}},components:{},watch:{}}},lO7g:function(t,e,a){"use strict";function r(t){a("zjPo")}var n=a("Fs8J"),s=a("gIOi"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},lVaD:function(t,e,a){"use strict";e.a={install:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.prototype.$loading=function(t){this.$store.commit({type:"loading",loading:t})}}}},mSDR:function(t,e){},mzM1:function(t,e,a){"use strict";function r(t){a("ENP/")}var n=a("/fE7"),s=a("Uwcy"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},niH5:function(t,e,a){"use strict";function r(t){a("AT56")}var n=a("JZSy"),s=a("B9wI"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},nl9g:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[!0===t.loading?a("div",[a("loading-indication")],1):t._e(),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-toolbar",{staticClass:"cards-toolbar hidden-sm-and-down",attrs:{card:"",prominent:"","align-center":""}},[a("v-checkbox",{staticClass:"checkbox",attrs:{label:"Show archived"},on:{change:t.reload},model:{value:t.showArchived,callback:function(e){t.showArchived=e},expression:"showArchived"}}),t._v(" "),a("div",[a("v-btn",{class:{"v-btn--active":"title"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortBugCards("title")}}},[t._v("Bug")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"severity"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortBugCards("severity")}}},[t._v("Severity")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"status"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortBugCards("status")}}},[t._v("Status")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"createdAt"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortBugCards("createdAt")}}},[t._v("Created")])],1),t._v(" "),a("v-spacer",{staticClass:"hidden-md-and-down"}),t._v(" "),a("v-btn",{attrs:{small:"",outline:"",color:"success"},on:{click:function(e){t.dialogNewBug=!0}}},[t._v("New")])],1),t._v(" "),a("v-toolbar",{staticClass:"cards-toolbar hidden-sm-and-down",attrs:{card:"",prominent:"","align-center":""}},[a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{staticClass:"pt-0",attrs:{label:"Filter","single-line":""},on:{keyup:t.filterBugs},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),a("v-btn",{staticClass:"pt-0 mt-0 clear-filter-botton",attrs:{small:"",outline:""},on:{click:function(e){t.filter="",t.clearBugsFilter()}}},[t._v("Clear")])],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"cards-toolbar-mobile hidden-md-and-up",attrs:{xs12:"","pl-3":"","pr-3":""}},[a("v-btn",{attrs:{small:"",outline:"",color:"success"},on:{click:function(e){t.dialogNewBug=!0}}},[t._v("New")]),t._v(" "),a("v-checkbox",{staticClass:"checkbox pl-2 pr-2",attrs:{label:"Show archived"},on:{change:t.reload},model:{value:t.showArchived,callback:function(e){t.showArchived=e},expression:"showArchived"}}),t._v(" "),a("v-btn",{class:{"v-btn--active":"title"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortBugCards("title")}}},[t._v("Bug")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"severity"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortBugCards("severity")}}},[t._v("Severity")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"status"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortBugCards("status")}}},[t._v("Status")]),t._v(" "),a("v-btn",{class:{"v-btn--active":"createdAt"===this.activatedButton},attrs:{small:"",color:"primary",outline:""},on:{click:function(e){return t.sortBugCards("createdAt")}}},[t._v("Created")])],1),t._v(" "),a("v-flex",{staticClass:"cards-toolbar-mobile hidden-md-and-up",attrs:{xs12:"","pl-3":"","pr-3":""}},[a("v-text-field",{staticClass:"pt-0",attrs:{label:"Filter","single-line":""},on:{keyup:t.filterBugs},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),a("v-btn",{staticClass:"pt-0 mt-0 clear-filter-botton",attrs:{small:"",outline:""},on:{click:function(e){t.filter="",t.clearBugsFilter()}}},[t._v("Clear")])],1)],1),t._v(" "),t._l(t.bugCards,function(e){return a("v-flex",{key:e.id,attrs:{xs12:"",sm6:"",md4:"",lg3:"","pl-1":"","pr-1":"","pt-3":""}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("h4",{staticClass:"mb-0"},[t._v("\n            Bug:\n            "),a("router-link",{attrs:{to:"bug/?orgId="+t.$store.state.organization.id+"&bugId="+e.id}},[t._v(t._s(e.title))])],1)]),t._v(" "),a("div",{staticClass:"card-body pt-0 pb-0"},[a("p",{staticClass:"mb-2"},[t._v("\n            Severity:\n            "),a("a",{attrs:{href:"#"},on:{click:function(a){return t.filterBugs(e.severity)}}},[t._v(t._s(e.severity))])]),t._v(" "),a("p",{staticClass:"mb-2"},[t._v("\n            Status:\n            "),a("a",{attrs:{href:"#"},on:{click:function(a){return t.filterBugs(e.status.name)}}},[t._v(t._s(e.status.name))])]),t._v(" "),a("p",{staticClass:"mb-2"},[t._v("\n            Reported by:\n            "),a("a",{attrs:{href:"#"},on:{click:function(a){return t.filterBugs(e.reportedBy)}}},[t._v(t._s(e.reportedBy))])]),t._v(" "),a("p",{staticClass:"mb-2"},[t._v("\n            Assigned to:\n            "),a("a",{attrs:{href:"#"},on:{click:function(a){return t.filterBugs(e.assignedTo)}}},[t._v(t._s(e.assignedTo))])]),t._v(" "),a("p",{staticClass:"mb-2"},[t._v("\n            Created at:\n            "),a("a",{attrs:{href:"#"},on:{click:function(a){return t.filterBugs(e.createdAt)}}},[t._v(t._s(e.createdAt))])])]),t._v(" "),a("v-card-actions",{staticClass:"pl-3 pb-2"},[a("v-btn",{staticClass:"edit-button extra-small-button",attrs:{outline:"",fab:"",dark:"",small:"",color:"primary",to:"bug/?orgId="+t.$store.state.organization.id+"&bugId="+e.id}},[a("i",{staticClass:"material-icons"},[t._v("edit")])]),t._v(" "),t.$store.state.user.id===e.createdBy||t.admin?a("v-btn",{staticClass:"delete-button extra-small-button",attrs:{outline:"",fab:"",dark:"",small:"",color:"primary"},on:{click:function(a){t.setCurrentBug(e),t.dialogDeleteBug=!0}}},[a("i",{staticClass:"material-icons"},[t._v("delete")])]):t._e()],1)],1)],1)})],2),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("div",{staticClass:"text-xs-center pt-3"},[t.initialBugs.length?a("v-pagination",{attrs:{length:t.totalPages,"total-visible":15},on:{input:t.paginationFunction},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1)]),t._v(" "),a("v-dialog",{attrs:{"max-width":"850px"},model:{value:t.dialogNewBug,callback:function(e){t.dialogNewBug=e},expression:"dialogNewBug"}},[a("v-card",[a("v-card-title",{staticClass:"pb-0 pl-4"},[a("span",{staticClass:"headline"},[t._v("New bug")])]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm7:""}},[a("v-text-field",{staticClass:"pt-0 padding-left-sm",attrs:{placeholder:"Enter bug"},model:{value:t.newBug.title,callback:function(e){t.$set(t.newBug,"title",e)},expression:"newBug.title"}})],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs6:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-subheader",{staticClass:"new-bug-subheader"},[t._v("Severity:")])],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm8:""}},[a("v-select",{staticClass:"pt-0",attrs:{items:t.severityArray,"item-text":"severity","item-value":"severity","return-object":""},on:{input:t.handleNewBugSetField}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-subheader",{staticClass:"new-bug-subheader"},[t._v("Status:")])],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm8:""}},[a("v-select",{staticClass:"pt-0",attrs:{items:t.objStatuses,"item-text":"name","item-value":"name","return-object":""},on:{input:t.handleNewBugSetField}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-subheader",{staticClass:"new-bug-subheader"},[t._v("Reported by:")])],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm8:""}},[a("v-select",{staticClass:"pt-0",attrs:{items:t.users,"item-text":"`${data.item.firstName} ${data.item.lastName}`","item-value":"`${data.item.firstName} ${data.item.lastName}`","return-object":""},on:{input:t.handleNewBugSetField},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(t._s(e.item.firstName)+" "+t._s(e.item.lastName))]}},{key:"item",fn:function(e){return[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.firstName+" "+e.item.lastName)}})],1)]}}])})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-subheader",{staticClass:"new-bug-subheader"},[t._v("Assigned to:")])],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm8:""}},[a("v-select",{staticClass:"pt-0",attrs:{items:t.users,"item-text":"assignedTo","item-value":"assignedTo","return-object":""},on:{change:t.handleNewBugSetField},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(t._s(e.item.firstName)+" "+t._s(e.item.lastName))]}},{key:"item",fn:function(e){return[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.firstName+" "+e.item.lastName)}})],1)]}}]),model:{value:t.assignedTo,callback:function(e){t.assignedTo=e},expression:"assignedTo"}})],1)],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm7:""}},[a("v-textarea",{staticClass:"pt-0 padding-left-sm",attrs:{placeholder:"Enter description"},model:{value:t.newBug.description,callback:function(e){t.$set(t.newBug,"description",e)},expression:"newBug.description"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-btn",{staticClass:"save-and-close-button",attrs:{color:"blue darken-1",flat:"",medium:""},on:{click:function(e){return t.handleNewBug(!1)}}},[t._v("Save and close")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",medium:""},on:{click:function(e){return t.handleNewBug(!0)}}},[t._v("Save and open")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",medium:""},on:{click:function(e){t.dialogNewBug=!1}}},[t._v("Cancel")])],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"250"},model:{value:t.dialogDeleteBug,callback:function(e){t.dialogDeleteBug=e},expression:"dialogDeleteBug"}},[a("v-card",[a("v-card-text",{staticClass:"text-xs-center subheading"},[t._v("Wait. Are you sure you want to delete this permanently?")]),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",flat:"flat",outline:"",small:""},on:{click:function(e){t.dialogDeleteBug=!1}}},[t._v("Cancel")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"error",flat:"flat",outline:"",small:""},on:{click:function(e){return t.handleBugDelete(t.currentBug)}}},[t._v("Yes")])],1)],1)],1)],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},oC3X:function(t,e){},pEqT:function(t,e,a){"use strict";function r(t){a("tC4C")}var n=a("jdmF"),s=a("538m"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},pouz:function(t,e,a){"use strict";function r(t){a("teEE")}var n=a("kDVP"),s=a("bS15"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},ppDe:function(t,e,a){"use strict";e.a={name:"loading-indication",props:["loading"]}},qChy:function(t,e,a){"use strict";function r(t){a("wCqB")}var n=a("ppDe"),s=a("B5Im"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},qVz7:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-form",[a("v-layout",{attrs:{wrap:"","justify-space-between":""}},[a("v-flex",{attrs:{xs12:"",md6:"","pr-4":""}},[a("v-text-field",{attrs:{label:"First name",type:"text"},model:{value:t.profile.firstName,callback:function(e){t.$set(t.profile,"firstName",e)},expression:"profile.firstName"}}),t._v(" "),a("v-text-field",{attrs:{label:"Email",type:"email",rules:[t.rules.email]},model:{value:t.profile.email,callback:function(e){t.$set(t.profile,"email",e)},expression:"profile.email"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"","pr-4":""}},[a("v-text-field",{attrs:{label:"Last name",type:"text",required:""},model:{value:t.profile.lastName,callback:function(e){t.$set(t.profile,"lastName",e)},expression:"profile.lastName"}})],1)],1),t._v(" "),a("v-layout",{attrs:{wrap:"","justify-space-between":""}},[a("v-flex",{attrs:{xs12:"",md6:"","pr-4":""}},[a("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.profile.password,callback:function(e){t.$set(t.profile,"password",e)},expression:"profile.password"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"","pr-4":""}},[a("v-text-field",{attrs:{label:"Confirmation",type:"password",rules:[t.rules.passwordMatch]},model:{value:t.profile.confirmation,callback:function(e){t.$set(t.profile,"confirmation",e)},expression:"profile.confirmation"}})],1),t._v(" "),a("v-btn",{staticClass:"ml-0",attrs:{outline:"",color:"primary",disabled:t.saving},on:{click:t.handleProfileSubmit}},[t._v("Save")])],1),t._v(" "),a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{sm12:"",md12:"",lg3:"","pr-4":""}},[a("v-text-field",{attrs:{readonly:"",label:"Api key",disabled:""},model:{value:t.profile.apiKey,callback:function(e){t.$set(t.profile,"apiKey",e)},expression:"profile.apiKey"}})],1),t._v(" "),a("v-flex",{attrs:{sm12:"",md12:"",lg4:"","pr-4":""}},[a("v-btn",{staticClass:"ml-0 mb-0 mt-3",attrs:{color:"warning",outline:"",dark:""},on:{click:function(e){t.dialogRegenerateApiKey=!0}}},[t._v("Regenerate")]),t._v(" "),a("v-btn",{staticClass:"mb-0 mt-3",attrs:{color:"success",outline:"",dark:""},on:{click:function(e){t.dialogInviteLink=!0}}},[t._v("Invite link")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"450"},model:{value:t.dialogRegenerateApiKey,callback:function(e){t.dialogRegenerateApiKey=e},expression:"dialogRegenerateApiKey"}},[a("v-card",[a("v-card-text",{staticClass:"subheading"},[a("p",[t._v("All application that uses this API key wouldn't work until new key promoted to its instances.")]),t._v(" "),a("p",[t._v("Are absolutely sure you want to create new API key?")])]),t._v(" "),a("v-card-actions",[a("v-btn",{staticClass:"ml-2 mb-2",attrs:{color:"primary",flat:"flat",outline:"",small:""},on:{click:function(e){t.dialogRegenerateApiKey=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{staticClass:"mb-2",attrs:{color:"error",flat:"flat",outline:"",small:""},on:{click:t.handleRegenerageApiKey}},[t._v("Yes")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"450"},model:{value:t.dialogInviteLink,callback:function(e){t.dialogInviteLink=e},expression:"dialogInviteLink"}},[a("v-card",[a("v-card-text",{staticClass:"subheading"},[a("span",{staticClass:"headline"},[t._v("Invite link generate")]),t._v(" "),a("v-select",{attrs:{items:t.organizations,label:"Organisation","item-text":"name","item-value":"name","return-object":""},on:{change:t.handleInviteOrgChange}}),t._v(" "),a("v-text-field",{attrs:{label:"E-Mail"},model:{value:t.invite.email,callback:function(e){t.$set(t.invite,"email",e)},expression:"invite.email"}}),t._v(" "),a("v-text-field",{attrs:{readonly:"",label:"Invitation link",disabled:""},model:{value:t.invite.link,callback:function(e){t.$set(t.invite,"link",e)},expression:"invite.link"}})],1),t._v(" "),a("v-card-actions",[a("v-btn",{staticClass:"ml-2 mb-2",attrs:{color:"primary",flat:"flat",outline:"",small:""},on:{click:function(e){return t.handleGenerateLink(!1)}}},[t._v("generate link")]),t._v(" "),a("v-btn",{staticClass:"mb-2",attrs:{color:"error",flat:"flat",outline:"",small:""},on:{click:function(e){return t.handleGenerateLink(!1)}}},[t._v("send link")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"mb-2",attrs:{color:"error",flat:"flat",outline:"",small:""},on:{click:function(e){t.dialogInviteLink=!1}}},[t._v("CLose")])],1)],1)],1),t._v(" "),a("div",{staticClass:"profile"},[a("b-form",{on:{submit:t.handleProfileSubmit}},[a("div",{staticClass:"api-key-invite form-inline float-right"})])],1)],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},qb6w:function(t,e){"use strict"},qgQi:function(t,e){},qtby:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"initiative-card"},[a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{placeholder:"Enter initiative"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),t._v(" "),a("v-textarea",{attrs:{placeholder:"Enter hightlights"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs4:"","mt-1":""}},[a("v-subheader",[t._v("Vote")])],1),t._v(" "),a("v-flex",{attrs:{xs8:"","mt-1":""}},[a("v-btn",{class:{"v-btn--active":"voteUp"===this.btntrue},attrs:{flat:"",icon:"",color:"blue-grey darken-3"},on:{click:function(e){return t.handleInitiativeSetField(!0,"vote")}}},[a("v-icon",[t._v("thumb_up")])],1),t._v(" "),a("v-btn",{class:{"v-btn--active":"voteDown"===this.btnfalse},attrs:{flat:"",icon:"",color:"blue-grey darken-3"},on:{click:function(e){return t.handleInitiativeSetField(!1,"vote")}}},[a("v-icon",[t._v("thumb_down")])],1),t._v(" "),!0!==t.vote&&!1!==t.vote?a("label",{staticClass:"center",staticStyle:{"margin-left":"0.5em"}},[a("h5",[t._v("votes: "+t._s(t.vote>0?"+":"")+t._s(t.vote))])]):t._e()],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Horizon")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-select",{attrs:{items:t.horizonList,"item-text":"horizon","item-value":"horizon","return-object":""},on:{input:t.handleInitiativeSetField},model:{value:t.form.horizon,callback:function(e){t.$set(t.form,"horizon",e)},expression:"form.horizon"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Priority")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-select",{attrs:{items:t.objStatuses,"item-text":"name","item-value":"name","return-object":""},on:{change:t.handleInitiativeSetField},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-checkbox",{staticClass:"checkbox",attrs:{label:"Archived"},model:{value:t.form.archived,callback:function(e){t.$set(t.form,"archived",e)},expression:"form.archived"}})],1),t._v(" "),a("v-flex",{attrs:{xs8:""}}),t._v(" "),a("v-flex",{attrs:{sm12:""}},[a("Comments",{ref:"comments_ref",attrs:{toCommentsData:t.toCommentsData}})],1),t._v(" "),a("v-flex",{attrs:{sm12:""}},[a("Connections",{attrs:{toConnectionData:t.toConnectionData}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"xs-12":""}},[a("v-btn",{attrs:{color:"blue darken-1",id:"save-and-close-button__intiative-component",flat:"",small:"",medium:"",outline:""},on:{click:function(e){return t.handleSaveInitiative()}}},[t._v("Save and close")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",small:"",flat:"",medium:"",outline:""},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back")]),t._v(" "),a("v-btn",{staticClass:"delete-button",attrs:{color:"blue darken-1",flat:"",medium:"",small:"",outline:""},on:{click:function(e){t.dialogDeleteInitiative=!0}}},[t._v("Delete")])],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"250"},model:{value:t.dialogDeleteInitiative,callback:function(e){t.dialogDeleteInitiative=e},expression:"dialogDeleteInitiative"}},[a("v-card",[a("v-card-text",{staticClass:"text-xs-center subheading"},[t._v("Wait. Are you sure you want to delete this permanently?")]),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",flat:"flat",outline:"",small:""},on:{click:function(e){t.dialogDeleteInitiative=!1}}},[t._v("Cancel")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"error",flat:"flat",outline:"",small:""},on:{click:function(e){return t.handleInitiativeDelete()}}},[t._v("Yes")])],1)],1)],1)],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},r9AH:function(t,e,a){"use strict";function r(t){a("tN2w")}var n=a("aAUH"),s=a("sH95"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},rSe3:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),o=a("L/hj"),c=a("Q7hp"),l=a.n(c);e.a={name:"Profile",props:["organizations"],data:function(){var t=this;return{profile:{},dialogRegenerateApiKey:!1,dialogInviteLink:!1,invite:{org:{name:"Organization"},email:null,link:null},passwordMatch:!1,emailValidate:!1,rules:{email:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)?(t.emailValidate=!0,!0):(t.emailValidate=!1,"Invalid e-mail")},passwordMatch:function(e){return e===t.profile.password?(t.passwordMatch=!0,!0):(t.passwordMatch=!1,"Password dont match")}},saving:!1}},mounted:function(){var t=this;return i()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadProfile();case 2:case"end":return e.stop()}},e,t)}))()},computed:{},methods:{modalId:function(t,e){return"modal-"+t+"-"+e},handleProfileSubmit:function(t){var e=this;return i()(n.a.mark(function r(){var s,i,c;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.preventDefault(),e.passwordMatch&&e.emailValidate){r.next=3;break}return r.abrupt("return");case 3:return e.$loading(!1),e.saving=!0,r.prev=5,r.next=8,e.axios.put("/api/user",{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.profile.email,password:e.profile.password,confirmation:e.profile.confirmation});case 8:if(s=r.sent,i=l()(s,"data.success")){r.next=12;break}throw new Error(l()(s,"data.message"));case 12:e.$notify({group:"app",type:"success",text:"Profile updated"}),c=l()(s,"data.doLogout"),c&&a.i(o.a)(e),r.next=20;break;case 17:return r.prev=17,r.t0=r.catch(5),r.abrupt("return",e.$errorMessage.show(r.t0));case 20:return r.prev=20,e.saving=!1,e.$loading(!1),r.finish(20);case 24:case"end":return r.stop()}},r,e,[[5,17,20,24]])}))()},handleRegenerageApiKey:function(){var t=this;return i()(n.a.mark(function e(){var a,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$loading(!0),e.prev=1,e.next=4,t.axios.post("/api/user/apikey");case 4:if(a=e.sent,r=l()(a,"data.success")){e.next=8;break}throw new Error("Unable to generate new api key.");case 8:return t.profile.apiKey=l()(a,"data.apiKey"),e.abrupt("return",t.$notify({group:"error",type:"success",text:"New API key was created. Do not forget to update it everywhere."}));case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",t.$errorMessage.show(e.t0));case 15:return e.prev=15,t.$loading(!1),e.finish(15);case 18:case"end":return e.stop()}},e,t,[[1,12,15,18]])}))()},handleInviteOrgChange:function(t){this.invite.org=t},handleGenerateLink:function(t){var e=this;return i()(n.a.mark(function a(){var r,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.invite.org.orgId){a.next=2;break}return a.abrupt("return",e.$notify({group:"error",type:"error",text:"Organization not selected"}));case 2:if(e.invite.email){a.next=4;break}return a.abrupt("return",e.$notify({group:"error",type:"error",text:"Email must be provided"}));case 4:return a.prev=4,a.next=7,e.axios.post("/api/org/"+e.invite.org.orgId+"/invitelink",{email:e.invite.email,send:t});case 7:if(r=a.sent,s=l()(r,"data.success")){a.next=11;break}throw new Error("Unable to invite user");case 11:e.invite.link=l()(r,"data.confirmUrl"),e.$notify({group:"app",type:"success",text:t?"Email sent":"Link created"}),a.next=18;break;case 15:return a.prev=15,a.t0=a.catch(4),a.abrupt("return",e.$errorMessage.show(a.t0));case 18:return a.prev=18,e.$loading(!1),a.finish(18);case 21:case"end":return a.stop()}},a,e,[[4,15,18,21]])}))()},loadProfile:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$loading(!0),e.prev=1,e.next=4,t.axios.get("/api/user");case 4:return a=e.sent,r=l()(a,"data.success"),r||t.$errorMessage.show("Unable to load current user profile"),s=l()(a,"data.user"),s.apiKey="",t.profile=s,e.next=12,t.axios.get("/api/user/apikey");case 12:a=e.sent,r=l()(a,"data.success"),r&&(t.profile.apiKey=l()(a,"data.apikey")),e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(1),e.abrupt("return",t.$errorMessage.show(e.t0));case 20:return e.prev=20,t.$loading(!1),e.finish(20);case 23:t.$loading(!1);case 24:case"end":return e.stop()}},e,t,[[1,17,20,23]])}))()}},components:{}}},rZpG:function(t,e,a){"use strict";function r(t){a("KLNe")}var n=a("tr4E"),s=a("ZnBF"),i=a("VU/8"),o=r,c=i(n.a,s.a,!1,o,null,null);e.a=c.exports},sH95:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.comments,function(e){return a("v-layout",{key:e.id,attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm9:""}},[a("v-textarea",{ref:"comment"+e.id,refInFor:!0,attrs:{id:"comment"+e.id,disabled:e.readOnly,box:"",name:"input-7-4",label:"Comment: "},model:{value:e.comment,callback:function(a){t.$set(e,"comment",a)},expression:"element.comment"}}),t._v(" "),a("label",{staticClass:"label-comment"},[t._v(t._s(t.labelComment(e)))])],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm3:"","align-content-end":""}},[t.$store.state.user.id===e.createdBy&&e.readOnly?a("v-btn",{attrs:{flat:"",icon:"",color:"indigo"},on:{click:function(a){return t.handleReadOnly(e)}}},[a("v-icon",[t._v("edit")])],1):t._e(),t._v(" "),e.readOnly?t._e():a("v-btn",{attrs:{flat:"",icon:"",color:"cyan"},on:{click:function(a){return t.handleUpdateComment(e)}}},[a("v-icon",[t._v("save")])],1),t._v(" "),t.toCommentsData.admin?a("v-btn",{attrs:{flat:"",icon:"",color:"pink"},on:{click:function(a){return t.handleDeleteComment(e)}}},[a("v-icon",[t._v("delete")])],1):t._e()],1)],1)}),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm9:"","mt-4":""}},[t.chipsUsers.length?a("v-item-group",{attrs:{multiple:""}},[a("v-subheader",[t._v("Subscribed users")]),t._v(" "),t._l(t.chipsUsers,function(e,r){return a("v-item",{key:r},[a("v-chip",{attrs:{close:""},on:{input:function(a){return t.removeAssignedUser(e)}}},[t._v("\n            "+t._s(e.firstName)+"  "+t._s(e.lastName)+"\n          ")])],1)})],2):t._e(),t._v(" "),a("v-dialog",{attrs:{overlay:!1,"max-width":"350px"},model:{value:t.dialogUserList,callback:function(e){t.dialogUserList=e},expression:"dialogUserList"}},[a("v-list",t._l(t.users,function(e){return a("v-list-tile",{key:e.userId,attrs:{id:e.userId},on:{click:function(e){return t.selectChip(e)}}},[a("v-list-tile-title",[t._v(t._s(e.firstName)+" "+t._s(e.lastName))])],1)}),1)],1),t._v(" "),a("v-form",[a("v-flex",{attrs:{xs12:""}},[t.showAutocomplete?a("v-autocomplete",{attrs:{items:t.users,chips:"",label:"Assign user to "+t.$route.name,"item-value":"userId",multiple:"",expandet:""},on:{change:t.autocompleteChanged,"click:append":function(e){t.showByIcon=!t.showByIcon}},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",{staticClass:"chip--select-multi",attrs:{selected:e.selected,close:""},on:{input:function(a){return t.removeAssignedUser(e.item)}}},[t._v(t._s(e.item.firstName+" "+e.item.lastName))])]}},{key:"item",fn:function(e){return["object"!=typeof e.item?[a("v-list-tile-content",{domProps:{textContent:t._s(e.item)}})]:[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.firstName+" "+e.item.lastName)}})],1)]]}}],null,!1,2218467229),model:{value:t.asignedUsers,callback:function(e){t.asignedUsers=e},expression:"asignedUsers"}}):t._e()],1)],1),t._v(" "),a("v-textarea",{ref:t.newComment,staticClass:"text-left",attrs:{id:"newComment",label:"New comment: ",placeholder:"Enter comment text",rows:2,outline:""},on:{keyup:t.checkComment},model:{value:t.newComment,callback:function(e){t.newComment=e},expression:"newComment"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm3:"","align-content-end":""}},[t.toCommentsData.admin?a("v-btn",{staticClass:"add-comment-button",attrs:{flat:"",icon:"",color:"primary"},on:{click:function(e){return t.handleNewComment(t.newComment)}}},[a("v-icon",[t._v("add")])],1):t._e()],1)],1)],2)},n=[],s={render:r,staticRenderFns:n};e.a=s},tC4C:function(t,e){},tN2w:function(t,e){},teEE:function(t,e){},tr4E:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),o=a("L/hj"),c=a("Q7hp"),l=a.n(c),u=a("DWaH");e.a={name:"Topbar",data:function(){return{searchText:"",drawer:!1,drawerLinkItems:[{title:"Initiatives",icon:"announcement",link:"/initiatives"},{title:"Backlogs",icon:"horizontal_split",link:"/backlogs"},{title:"Bugs",icon:"bug_report",link:"/bugs"}]}},computed:{username:function(){var t=this.$store.state.user,e=t.firstName,a=t.lastName,r=t.email;return e&&a?e+" "+a:e||(a||r)}},methods:{handleOrgChange:function(t){var e=this;return i()(n.a.mark(function r(){var s,i,o,c,d;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e.$loading(!0),r.next=4,e.axios.post("/api/org/switch/"+t.id);case 4:if(s=r.sent,i=l()(s,"data.success"),o=l()(s,"data.message"),c=l()(s,"data.token"),d=l()(s,"data.organization"),i&&c&&d){r.next=11;break}throw new Error(o);case 11:a.i(u.a)()&&a.i(u.d)("token",c,{expires:"7D"}),e.$store.commit({type:"token",token:c}),e.$store.commit({type:"organization",name:d.name,id:d.id}),window.location.reload(),r.next=20;break;case 17:return r.prev=17,r.t0=r.catch(0),r.abrupt("return",e.$errorMessage.show(r.t0));case 20:return r.prev=20,e.$loading(!1),r.finish(20);case 23:case"end":return r.stop()}},r,e,[[0,17,20,23]])}))()},handleLogout:function(){a.i(o.a)(this)},goSearch:function(t){this.$router.push({name:"search",query:{text:t}})}},components:{}}},u1CM:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-toolbar",{staticClass:"cards-toolbar hidden-sm-and-down",attrs:{card:"",prominent:"","align-center":""}},[a("v-checkbox",{staticClass:"checkbox",attrs:{label:"Show archived"},on:{change:t.reload},model:{value:t.showArchived,callback:function(e){t.showArchived=e},expression:"showArchived"}}),t._v(" "),a("v-select",{staticClass:"pt-0",attrs:{items:t.variants,"item-text":"currentVarriant","item-value":"currentVarriant"},on:{input:function(e){return t.handleChangeView(e)}}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{staticClass:"pt-0",attrs:{label:"Filter","single-line":""},on:{input:t.filterSearchResults},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),a("v-btn",{staticClass:"pt-0 mt-0 clear-filter-botton",attrs:{small:"",outline:""},on:{click:function(e){t.filter="",t.clearSearchResultsFilter()}}},[t._v("Clear")])],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{staticClass:"cards-toolbar-mobile hidden-md-and-up",attrs:{xs12:"","pl-3":"","pr-3":""}},[a("v-checkbox",{staticClass:"checkbox pl-2 pr-2",attrs:{label:"Show archived"},on:{change:t.reload},model:{value:t.showArchived,callback:function(e){t.showArchived=e},expression:"showArchived"}})],1),t._v(" "),a("v-flex",{staticClass:"cards-toolbar-mobile hidden-md-and-up",attrs:{xs12:"","pl-3":"","pr-3":""}},[a("v-select",{staticClass:"pt-0",attrs:{items:t.variants,"item-text":"currentVarriant","item-value":"currentVarriant"},on:{input:function(e){return t.handleChangeView(e)}}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{staticClass:"pt-0 pl-2 pr-2",attrs:{label:"Filter","single-line":""},on:{input:t.filterSearchResults},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),a("v-btn",{staticClass:"pt-0 mt-0 clear-filter-botton",attrs:{small:"",outline:""},on:{click:function(e){t.filter="",t.clearSearchResultsFilter()}}},[t._v("Clear")])],1)],1),t._v(" "),t._l(t.searchResults,function(e){return a("v-flex",{key:e.id+e.type,attrs:{xs12:"",sm6:"",md4:"",lg3:"","pl-1":"","pr-1":"","pt-3":""}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("h4",{staticClass:"mb-0"},[t._v("Type: "+t._s(e.type))])]),t._v(" "),a("div",{staticClass:"card-body pt-0 pb-0"},[a("p",{staticClass:"mb-2"},[t._v("\n            Title:\n            "),a("router-link",{attrs:{to:t.handleGetHref(e)}},[t._v(t._s(e.title))])],1),t._v(" "),a("p",{staticClass:"mb-2"},[t._v("Description or comment: "+t._s(e.description))]),t._v(" "),a("p",{staticClass:"mb-2"},[t._v("Created at: "+t._s(e.createdAt))]),t._v(" "),a("p",{staticClass:"mb-2"},[t._v("Author: "+t._s(t.handleUsername(e.author)))]),t._v(" "),a("p",{staticClass:"mb-2"},[t._v("Assignee: "+t._s(t.handleUsername(e.assignee)))]),t._v(" "),a("p",{staticClass:"pb-4"},[t._v("\n            Owner id:\n            "),a("router-link",{attrs:{to:t.handleGetHref(e,"items"===e.type)}},[t._v(t._s(e.ownerId))])],1)])],1)],1)})],2),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("div",{staticClass:"text-xs-center pt-3"},[t.initialSearchResults.length?a("v-pagination",{attrs:{length:t.totalPages,"total-visible":15},on:{input:t.paginationFunction},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1)])],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},wCqB:function(t,e){},xJD8:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),s=a("//Fk"),i=a.n(s),o=a("exGp"),c=a.n(o),l=a("L/hj"),u=a("rZpG"),d=a("hU05"),v=a("pEqT"),p=a("DWaH"),f=a("Q7hp"),m=a.n(f);e.a={name:"App",created:function(){var t=this;return c()(n.a.mark(function e(){var r,s,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.$store.state.token,!r&&a.i(p.a)()&&(r=a.i(p.b)("token")),!r){e.next=21;break}return t.axios.defaults.headers.common.Authorization="Bearer "+r,e.prev=4,e.next=7,t.axios.get("/api/user");case 7:if(s=e.sent,!(o=m()(s,"data.user"))){e.next=15;break}o.organization=m()(s,"data.organization"),t.$store.commit({type:"user",user:o}),t.$store.commit({type:"token",token:r}),e.next=16;break;case 15:throw new Error("Token invalid");case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(4),e.abrupt("return",a.i(l.a)(t));case 21:t.axios.interceptors.response.use(function(e){return 403===e.status||401===e.status?a.i(l.a)(t):e},function(t){return i.a.reject(t)}),t.$loading(!1);case 23:case"end":return e.stop()}},e,t,[[4,18]])}))()},mounted:function(){var t=this;return c()(n.a.mark(function e(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},data:function(){return{}},methods:{},sockets:{},components:{topbar:u.a,ResetPassword:v.a,account:d.a}}},xTuj:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form",{staticClass:"forgot col-lg-4 col-md-8 col-sm-12 col-xs-12",on:{submit:t.submit}},[a("h2",{staticClass:"center"},[t._v("Password reset"),a("br"),t._v("for")]),t._v(" "),a("b-form-group",[a("b-form-input",{attrs:{type:"email",required:"",placeholder:"Email address"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),a("template",{slot:"description"},[a("a",{staticClass:"small float-right",attrs:{href:"#"},on:{click:function(e){t.onChangeForm&&t.onChangeForm("login")}}},[t._v("Rembemer password?")])])],2),t._v(" "),a("div",{staticClass:"button-box center"},[a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Send reset link")])],1)],1)},n=[],s={render:r,staticRenderFns:n};e.a=s},zjPo:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.09e4034c4f4f5ef4e205.js.map