webpackJsonp([1],{"+eU3":function(e,t,r){"use strict";function a(e){r("sjCv")}var n=r("8EsE"),s=r("JqUA"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},"/FO0":function(e,t,r){"use strict";var a=r("Xxa5"),n=r.n(a),s=r("exGp"),o=r.n(s),i=r("Q7hp"),c=r.n(i),u=r("NHnr");t.a={name:"Users",props:["organizations"],data:function(){return{users:[],usersFields:["userId","email","role","firstName","lastName","isActive"],selectedOrg:{name:"Organization"},selectAllUsers:!1}},computed:{},methods:{handleSelect:function(e){var t=this;if(!e)return this.selectAllUsers=!this.selectAllUsers,void this.users.forEach(function(e){e.selected=t.selectAllUsers});if(e&&(e.selected=!e.selected),this.users){-1===this.users.findIndex(function(e){return e.selected===t.selectAllUsers})&&(this.selectAllUsers=!this.selectAllUsers)}return e.selected},handleOrgChange:function(e){this.selectedOrg=e,this.loadOrgUsers(e)},loadOrgUsers:function(e){var t=this;return o()(n.a.mark(function r(){var a,s,o;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.$loading(!0),r.next=4,t.axios.get("/api/org/"+e.orgId+"/users");case 4:if(a=r.sent,s=c()(a,"data.success")){r.next=8;break}throw new Error("Unable to load user's organizations.");case 8:o=c()(a,"data.users"),o.forEach(function(e){e.selected=!1}),t.selectAllUsers=!1,t.users=o,r.next=17;break;case 14:return r.prev=14,r.t0=r.catch(0),r.abrupt("return",t.$errorMessage.show(r.t0));case 17:return r.prev=17,t.selectedOrg=e,t.$loading(!1),r.finish(17);case 21:case"end":return r.stop()}},r,t,[[0,14,17,21]])}))()},handleGrantAdmin:function(e){var t=this;return o()(n.a.mark(function e(){var r,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=t.users.filter(function(e){return!0===e.selected}).map(function(e){return e.userId}))<1)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,t.$loading(!0),e.next=7,t.axios.put("/api/org/"+t.selectedOrg.orgId+"/admin/grant",{usersId:r});case 7:if(a=e.sent,s=c()(a,"data.success")){e.next=11;break}throw new Error("Unable to grant administrative privileges to user(s)");case 11:t.$notify({group:"app",type:"success",text:"Administrator rights granted"}),t.loadOrgUsers(t.selectedOrg),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(3),e.abrupt("return",t.$errorMessage.show(e.t0));case 18:return e.prev=18,t.$loading(!1),e.finish(18);case 21:case"end":return e.stop()}},e,t,[[3,15,18,21]])}))()},handleRevokeAdmin:function(e){var t=this;return o()(n.a.mark(function e(){var r,a,s,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=t.users.filter(function(e){return!0===e.selected}).map(function(e){return e.userId}))<1)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,t.$loading(!0),e.next=7,t.axios.put("/api/org/"+t.selectedOrg.orgId+"/admin/revoke",{usersId:r});case 7:if(a=e.sent,s=c()(a,"data.success"),o=c()(a,"data.message"),s){e.next=12;break}throw new Error("Unable to revoke administrative privileges from user(s)");case 12:t.$notify({group:"app",type:"success",text:o}),t.loadOrgUsers(t.selectedOrg),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(3),e.abrupt("return",t.$errorMessage.show(e.t0));case 19:return e.prev=19,t.$loading(!1),e.finish(19);case 22:case"end":return e.stop()}},e,t,[[3,16,19,22]])}))()},handleResetPassword:function(){var e=this;return o()(n.a.mark(function t(){var r,a,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=e.users.filter(function(e){return!0===e.selected}).map(function(e){return e.userId}))<1)){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,e.$loading(!0),t.next=7,e.axios.put("/api/org/"+e.selectedOrg.orgId+"/admin/resetpassword",{usersId:r});case 7:if(a=t.sent,s=c()(a,"data.success")){t.next=11;break}throw new Error("Unable to reset passwords");case 11:e.$notify({group:"app",type:"success",text:"Passwords reset, letters sent"}),t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(3),t.abrupt("return",e.$errorMessage.show(t.t0));case 17:return t.prev=17,e.$loading(!1),t.finish(17);case 20:case"end":return t.stop()}},t,e,[[3,14,17,20]])}))()},handleRemoveFromOrganization:function(e){var t=this;return o()(n.a.mark(function e(){var r,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=t.users.filter(function(e){return!0===e.selected}).map(function(e){return e.userId}))<1)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,t.$loading(!0),e.next=7,t.axios.post("/api/org/"+t.selectedOrg.orgId+"/users/remove",{usersId:r});case 7:if(a=e.sent,s=c()(a,"data.success")){e.next=11;break}throw new Error("Unable to delete users");case 11:t.$notify({group:"app",type:"success",text:"Selected user were removed from organization"}),t.users=t.users.filter(function(e){return-1===r.indexOf(e.userId)}),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(3),e.abrupt("return",t.$errorMessage.show(e.t0));case 18:return e.prev=18,t.loadOrgUsers(t.selectedOrg),u.eventBus.$emit("reload",{loadOrganization:!0}),t.$loading(!1),e.finish(18);case 23:case"end":return e.stop()}},e,t,[[3,15,18,23]])}))()}},components:{},watch:{}}},"/fE7":function(e,t,r){"use strict";var a=r("Xxa5"),n=r.n(a),s=r("exGp"),o=r.n(s),i=r("Q7hp"),c=r.n(i),u=r("DWaH");t.a={name:"Verify",mounted:function(){var e=this;return o()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$store.state.token,!a&&r.i(u.a)()&&(a=r.i(u.b)("token")),a&&e.$router.replace("/"),t.next=6,e.checkToken();case 6:case"end":return t.stop()}},t,e)}))()},data:function(){return{message:"",showLoginButton:!1}},methods:{handlelogin:function(){this.$router.push({name:"account",params:{action:"login"}})},checkToken:function(){var e=this;return o()(n.a.mark(function t(){var r,a,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.$route.query.token){t.next=3;break}return t.abrupt("return");case 3:if(!r){t.next=26;break}return e.invited=!0,e.$loading(!0),t.prev=6,t.next=9,e.axios.get("/api/account/verify",{params:{token:r}});case 9:if(a=t.sent,s=c()(a,"data.success"),e.message=c()(a,"data.message"),s){t.next=17;break}throw e.showLoginButton=!1,new Error(e.message);case 17:e.showLoginButton=!0;case 18:t.next=23;break;case 20:return t.prev=20,t.t0=t.catch(6),t.abrupt("return",e.$errorMessage.show(t.t0));case 23:return t.prev=23,e.$loading(!1),t.finish(23);case 26:case"end":return t.stop()}},t,e,[[6,20,23,26]])}))()}},props:{onChangeForm:Function}}},"0MVy":function(e,t,r){"use strict";function a(e){r("YExM")}var n=r("2TT4"),s=r("Jz2w"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},"0Qwy":function(e,t,r){"use strict";function a(e){r("hg6x")}var n=r("JmIY"),s=r("oInA"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},"1/oy":function(e,t){},"147f":function(e,t){},"230/":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[r("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),e._v(" "),r("b-navbar-brand",{attrs:{href:"#"}},[e._v("PM415")]),e._v(" "),r("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[r("b-navbar-nav",[r("b-nav-item",{attrs:{to:{path:"/initiatives"}}},[e._v("Strategic Initiatives")]),e._v(" "),r("b-nav-item",{attrs:{to:{path:"/ideas"}}},[e._v("Ideas")]),e._v(" "),r("b-nav-item",{attrs:{to:{path:"/backlogs"}}},[e._v("Backlogs")]),e._v(" "),r("b-nav-item",{attrs:{to:{path:"/bugs"}}},[e._v("Bugs")])],1),e._v(" "),r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-item-dropdown",{attrs:{text:e.$store.state.organization.name,right:""}},e._l(e.$store.state.user.organizations,function(t){return r("b-dropdown-item",{key:t.id,attrs:{href:"#"},on:{click:function(r){e.handleOrgChange(t)}}},[e._v(e._s(t.name))])})),e._v(" "),r("b-nav-item-dropdown",{attrs:{text:e.username,right:""}},[r("b-dropdown-item",{attrs:{to:{path:"/settings"}}},[e._v("Settings")]),e._v(" "),r("b-dropdown-item",{on:{click:e.handleLogout}},[e._v("Logout")])],1)],1)],1)],1)},n=[],s={render:a,staticRenderFns:n};t.a=s},"2PL0":function(e,t){},"2TT4":function(e,t,r){"use strict";var a=r("Xxa5"),n=r.n(a),s=r("exGp"),o=r.n(s),i=r("Q7hp"),c=r.n(i),u=r("L/hj");t.a={name:"Login",data:function(){return{form:{email:null,password:null}}},methods:{submit:function(e){var t=this;return o()(n.a.mark(function a(){var s,o,i;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),a.prev=1,a.next=4,t.axios.post("/api/account/login",t.form);case 4:s=a.sent,o=c()(s,"data.token"),i=c()(s,"data.user"),r.i(u.b)(t,o,i),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),t.$errorMessage.show(a.t0);case 13:return a.prev=13,t.$loading(!1),a.finish(13);case 16:case"end":return a.stop()}},a,t,[[1,10,13,16]])}))()}},props:{onChangeForm:Function}}},"2czZ":function(e,t,r){"use strict";function a(e){r("fk3g")}var n=r("d6UU"),s=r("8yE7"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},"2sY1":function(e,t){},"5PmU":function(e,t,r){"use strict";function a(e){r("oInl")}var n=r("LiAu"),s=r("8mjT"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},"706L":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"settings"},[r("b-tabs",[r("b-tab",{attrs:{title:"Profile"}},[r("profile",{attrs:{organizations:e.organizations}})],1),e._v(" "),r("b-tab",{attrs:{title:"Organization"}},[r("organization",{attrs:{organizations:e.organizations}})],1),e._v(" "),r("b-tab",{attrs:{title:"Users"}},[r("users",{attrs:{organizations:e.organizations}})],1)],1)],1)},n=[],s={render:a,staticRenderFns:n};t.a=s},"8EsE":function(e,t,r){"use strict";var a=r("Xxa5"),n=r.n(a),s=r("exGp"),o=r.n(s),i=r("Q7hp"),c=r.n(i),u=r("L/hj");t.a={name:"Invite",beforeCreate:function(){},mounted:function(){this.checkToken()},data:function(){return{register:{firstName:void 0,lastName:void 0,email:void 0,password:void 0,confirmation:void 0,tosAccepted:!1,token:null},login:{email:void 0,password:void 0,token:null},organization:null,postLogin:!1,postRegister:!1,saving:!1,form:"login"}},methods:{checkToken:function(){var e=this;return o()(n.a.mark(function t(){var r,a,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.$route.query.token){t.next=3;break}return t.abrupt("return");case 3:if(!r){t.next=26;break}return e.invited=!0,e.$loading(!0),t.prev=6,t.next=9,e.axios.get("/api/org/invite",{params:{token:r}});case 9:if(a=t.sent,s=c()(a,"data.success")){t.next=13;break}throw new Error("Token invalid or expired");case 13:e.organization=c()(a,"data.organization"),e.login.email=c()(a,"data.email"),e.register.email=c()(a,"data.email"),e.login.token=r,e.register.token=r,t.next=23;break;case 20:return t.prev=20,t.t0=t.catch(6),t.abrupt("return",e.$errorMessage.show(t.t0));case 23:return t.prev=23,e.$loading(!1),t.finish(23);case 26:case"end":return t.stop()}},t,e,[[6,20,23,26]])}))()},handleRegister:function(e){var t=this;return o()(n.a.mark(function r(){var a,s;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,r.next=4,t.axios.post("/api/account/register",t.register);case 4:if(a=r.sent,s=c()(a,"data.success")){r.next=8;break}throw new Error(c()(a,"data.message","Unable to create account"));case 8:t.$notify({group:"app",type:"success",text:"Your account created and invitation accepted, please check your inbox for confirmation email."}),t.postRegister=!0,r.next=15;break;case 12:return r.prev=12,r.t0=r.catch(1),r.abrupt("return",t.$errorMessage.show(r.t0));case 15:return r.prev=15,t.$loading(!1),r.finish(15);case 18:case"end":return r.stop()}},r,t,[[1,12,15,18]])}))()},handleLogin:function(e){var t=this;return o()(n.a.mark(function a(){var s,o,i;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),a.prev=1,a.next=4,t.axios.post("/api/account/login",t.login);case 4:s=a.sent,o=c()(s,"data.token"),i=c()(s,"data.user"),t.$notify({group:"app",type:"success",text:"Your invitation accepted."}),r.i(u.b)(t,o,i),t.postLogin=!0,a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),t.$errorMessage.show(a.t0);case 15:return a.prev=15,t.$loading(!1),a.finish(15);case 18:case"end":return a.stop()}},a,t,[[1,12,15,18]])}))()},toggleForm:function(){this.form="login"===this.form?"register":"login"}}}},"8mjT":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"button-box right"},[r("div",[r("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modalnew",modifiers:{modalnew:!0}}],attrs:{variant:"success",size:""}},[e._v("➕ Add organization")]),e._v(" "),r("b-modal",{attrs:{id:"modalnew","button-size":"sm",title:"New orgranization name",size:"sm",centered:""},on:{ok:function(t){e.handleOrganizationNew(e.newOrgName)}}},[r("b-form-input",{attrs:{placeholder:"Enter organization name"},model:{value:e.newOrgName,callback:function(t){e.newOrgName=t},expression:"newOrgName"}},[e._v(">")])],1)],1)]),e._v(" "),r("b-table",{attrs:{hover:"",items:e.organizations,fields:e.organizationsFields},scopedSlots:e._u([{key:"actions",fn:function(t){return["Admin"===t.item.role?r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.edit",modifiers:{edit:!0}}],attrs:{variant:"primary",size:"sm"},on:{click:function(r){e.setCurrentOrg(t.item)}}},[e._v("🖉")]):e._e(),e._v(" "),"Admin"===t.item.role?r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.delete",modifiers:{delete:!0}}],attrs:{variant:"danger",size:"sm"},on:{click:function(r){e.setCurrentOrg(t.item)}}},[e._v("✖")]):e._e()]}}])}),e._v(" "),r("b-modal",{attrs:{id:"delete",title:"Delete "+e.currentOrganization.name+"?","button-size":"sm",size:"sm",centered:"","body-class":"zero-size","ok-variant":"danger","ok-title":"delete"},on:{ok:function(t){e.handleOrganizationDelete(e.currentOrganization)}}}),e._v(" "),r("b-modal",{attrs:{id:"edit",title:"Edit","button-size":"sm",size:"sm",centered:"","ok-variant":"submit","ok-title":"submit"},on:{ok:function(t){e.handleOrganizationEdit(e.currentOrganization,e.newOrgName)}}},[r("b-form-input",{attrs:{placeholder:e.currentOrganization.name},model:{value:e.newOrgName,callback:function(t){e.newOrgName=t},expression:"newOrgName"}})],1)],1)},n=[],s={render:a,staticRenderFns:n};t.a=s},"8uEU":function(e,t,r){"use strict";function a(e){r("Teeu")}var n=r("/FO0"),s=r("JPeV"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},"8yE7":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-form",{staticClass:"register",on:{submit:e.handleSubmit}},[r("h2",{staticClass:"center"},[e._v("Welcome to")]),e._v(" "),r("h1",{staticClass:"center"},[e._v("PM415")]),e._v(" "),e.registered?e._e():r("div",{staticClass:"not-registered"},[r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"text",placeholder:"First Name"},model:{value:e.form.firstName,callback:function(t){e.$set(e.form,"firstName",t)},expression:"form.firstName"}})],1)],1),e._v(" "),r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"text",placeholder:"Last Name"},model:{value:e.form.lastName,callback:function(t){e.$set(e.form,"lastName",t)},expression:"form.lastName"}})],1)],1)],1),e._v(" "),r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"email",required:"",placeholder:"Email",readonly:e.invited},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1)],1),e._v(" "),r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),e._v(" "),r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"password",placeholder:"Confrmation"},model:{value:e.form.confirmation,callback:function(t){e.$set(e.form,"confirmation",t)},expression:"form.confirmation"}})],1)],1)],1),e._v(" "),r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"text",required:"",placeholder:"Organization",readonly:e.invited},model:{value:e.form.organization,callback:function(t){e.$set(e.form,"organization",t)},expression:"form.organization"}})],1)],1)],1),e._v(" "),r("b-row",{staticClass:"tos"},[r("b-form-checkbox",{attrs:{value:"Y"},model:{value:e.form.tosAccepted,callback:function(t){e.$set(e.form,"tosAccepted",t)},expression:"form.tosAccepted"}},[e._v("I accept "),r("a",{attrs:{href:"#"}},[e._v("Terms of Service")])])],1),e._v(" "),r("div",{staticClass:"button-box center"},[r("b-button",{attrs:{type:"submit",variant:"primary",disabled:e.saving}},[e._v("Save")]),e._v(" "),r("a",{staticClass:"small",attrs:{href:"#"},on:{click:function(t){e.onChangeForm&&e.onChangeForm("login")}}},[e._v("Already registered?")])],1)],1),e._v(" "),e.registered?r("div",{staticClass:"registered"},[r("h3",[e._v("Thank you for regstration")]),e._v(" "),r("h4",[e._v("Please check your inbox for verification email and "),r("router-link",{attrs:{tag:"a",to:"/account/login"}},[r("a",[e._v("process to login")])]),e._v(".")],1)]):e._e()])},n=[],s={render:a,staticRenderFns:n};t.a=s},"9M+g":function(e,t){},B0tr:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{staticClass:"card col-lg-12",attrs:{"bg-variant":"light"}},[r("div",{staticClass:"backlogs"},[r("div",{staticClass:"container-fluid row"},[r("label",{staticClass:"header col-12"},[r("h2",[e._v("Backlogs")])]),e._v(" "),r("b-form-group",{staticClass:"col-6 mb-2",attrs:{label:"Filter",size:"sm"}},[r("b-input-group",[r("b-form-input",{attrs:{size:"sm",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),r("b-input-group-append",[r("b-btn",{attrs:{size:"sm",disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear")])],1)],1)],1),e._v(" "),r("div",{staticClass:"col-6"},[r("div",[r("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modalnew",modifiers:{modalnew:!0}}],staticClass:"float-right",staticStyle:{"margin-top":"2em"},attrs:{variant:"success",size:"sm"}},[e._v("➕ New backlog")])],1)])],1),e._v(" "),r("b-table",{attrs:{bordered:"",fixed:"",responsive:"",items:e.backlogs,fields:e.backlogsFields,filter:e.filter},scopedSlots:e._u([{key:"title",fn:function(t){return[r("a",{attrs:{href:"items/?orgId="+e.$store.state.organization.id+"&backlogid="+t.item.id}},[e._v("\n            "+e._s(t.item.title)+"\n          ")])]}},{key:"author",fn:function(t){return[r("a",{attrs:{href:"#"},on:{click:function(r){e.filter=t.item.author}}},[e._v("\n            "+e._s(t.item.author)+"\n          ")]),e._v(" "),r("div",{staticStyle:{float:"right"}},[r("b-button",{staticStyle:{"vertical-align":"right"},attrs:{variant:"primary",size:"sm",to:"items/?orgId="+e.$store.state.organization.id+"&backlogid="+t.item.id}},[e._v("🖉")]),e._v(" "),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.delete",modifiers:{delete:!0}}],staticStyle:{},attrs:{variant:"danger",size:"sm"},on:{click:function(r){e.setCurrentBacklog(t.item)}}},[e._v("✖")])],1)]}}])}),e._v(" "),r("b-modal",{attrs:{id:"edit",title:"Edit","button-size":"sm",size:"sm",centered:"","ok-variant":"submit","ok-title":"submit"},on:{ok:function(t){e.handleBacklogEditTitle(e.currentBacklog,e.newNameOldBacklog)}}},[r("b-form-input",{attrs:{placeholder:e.currentBacklog.title},model:{value:e.newNameOldBacklog,callback:function(t){e.newNameOldBacklog=t},expression:"newNameOldBacklog"}})],1),e._v(" "),r("b-modal",{attrs:{id:"delete",title:"Delete "+e.currentBacklog.title+"?","button-size":"sm",size:"sm",centered:"","body-class":"zero-size","ok-variant":"danger","ok-title":"delete"},on:{ok:function(t){e.handleBacklogDelete(e.currentBacklog)}}}),e._v(" "),r("b-modal",{attrs:{id:"modalnew","button-size":"sm",title:"New backlog",size:"lg",centered:""},on:{ok:function(t){e.handleNewBacklog()}}},[r("b-form-group",{attrs:{label:"Title: ","label-for":"title",horizontal:""}},[r("b-form-input",{attrs:{placeholder:"Title backlog",id:"title"},model:{value:e.newBacklog.title,callback:function(t){e.$set(e.newBacklog,"title",t)},expression:"newBacklog.title"}},[e._v(">")])],1)],1)],1)])},n=[],s={render:a,staticRenderFns:n};t.a=s},Baxy:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.$store.state.token?e._e():r("div",{staticClass:"account"},["login"===e.form?r("login",{attrs:{"on-change-form":e.changeForm}}):e._e(),e._v(" "),"forgot"===e.form?r("forgot-password",{attrs:{"on-change-form":e.changeForm}}):e._e(),e._v(" "),"register"===e.form?r("register",{attrs:{"on-change-form":e.changeForm}}):e._e(),e._v(" "),"reset-password"===e.form?r("reset-password",{attrs:{"on-change-form":e.changeForm}}):e._e(),e._v(" "),"verify"===e.form?r("verify",{attrs:{"on-change-form":e.changeForm}}):e._e(),e._v(" "),"invite"===e.form?r("invite"):e._e()],1)},n=[],s={render:a,staticRenderFns:n};t.a=s},D5N1:function(e,t,r){"use strict";var a=r("Xxa5"),n=r.n(a),s=r("exGp"),o=r.n(s),i=r("Q7hp"),c=r.n(i),u=r("pouz"),l=r("L/hj");t.a={name:"Backlogs",data:function(){return{objStatuses:[],groupByList:["Status","Stategic initiative"],currentGroupBy:"Status",selected:[],options:[],users:[],newBacklog:{title:""},backlogs:[],pointsVar:["0","1","2","3","5","8","13","21"],backlogsFields:[{key:"title",sortable:!0},{key:"author",sortable:!0}],newNameOldBacklog:"",currentBacklog:"",filter:null,perPage:5}},mounted:function(){var e=this;return o()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadOrgBacklogs();case 2:case"end":return t.stop()}},t,e)}))()},computed:{},methods:{loadOrgBacklogs:function(){var e=this;return o()(n.a.mark(function t(){var a,s,o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.$loading(!0),t.next=4,e.axios.get("/api/backlogs/"+e.$store.state.organization.id);case 4:if(a=t.sent,s=c()(a,"data.success")){t.next=8;break}throw new Error("Unable to load user's organizations.");case 8:o=c()(a,"data.backlogs"),o.forEach(function(e){e.author=r.i(l.c)(e)}),e.backlogs=o,t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",e.$errorMessage.show(t.t0));case 16:return t.prev=16,e.$loading(!1),t.finish(16);case 19:case"end":return t.stop()}},t,e,[[0,13,16,19]])}))()},handleChangeGroupBy:function(e){var t=this;return o()(n.a.mark(function r(){return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t.currentGroupBy=e;case 1:case"end":return r.stop()}},r,t)}))()},handleBacklogNewItemSetField:function(e,t){var r=this;return o()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r.newBacklog[t]=e;case 1:case"end":return a.stop()}},a,r)}))()},setCurrentBacklog:function(e){this.currentBacklog=e},handleBacklogEditTitle:function(e,t){var r=this;return o()(n.a.mark(function a(){var s,o;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return",r.$notify({group:"error",type:"err",text:"Empty backlog title field"}));case 2:return a.prev=2,r.$loading(!0),a.next=6,r.axios.put("/api/backlogs/edit/"+r.$store.state.organization.id+"/"+e.id,{title:t});case 6:if(s=a.sent,o=c()(s,"data.success")){a.next=10;break}throw new Error("Unable to update backlog.");case 10:r.$notify({group:"app",type:"success",text:"Backlog updated"}),a.next=16;break;case 13:return a.prev=13,a.t0=a.catch(2),a.abrupt("return",r.$errorMessage.show(a.t0));case 16:return a.prev=16,a.next=19,r.loadOrgBacklogs();case 19:return r.$loading(!1),r.newNameOldBacklog="",r.currentBacklog="",a.finish(16);case 23:case"end":return a.stop()}},a,r,[[2,13,16,23]])}))()},handleBacklogDelete:function(e){var t=this;return o()(n.a.mark(function r(){var a,s;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return!e||t.$store.state.user.id,r.prev=1,r.next=4,t.axios.delete("/api/backlogs/"+t.$store.state.organization.id+"/"+e.id);case 4:if(a=r.sent,s=c()(a,"data.success")){r.next=8;break}throw new Error("Unable to create new organization.");case 8:r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",t.$errorMessage.show(r.t0));case 13:return r.prev=13,t.$notify({group:"app",type:"success",text:"Backlog "+e.title+" was deleted"}),t.currentBacklog="",r.finish(13);case 17:case"end":return r.stop()}},r,t,[[1,10,13,17]])}))()},handleNewBacklog:function(){var e=this;return o()(n.a.mark(function t(){var r,a,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={},r.title=e.newBacklog.title,t.next=5,e.axios.post("/api/backlogs/new/"+e.$store.state.organization.id,r);case 5:if(a=t.sent,s=c()(a,"data.success")){t.next=9;break}throw new Error("Unable to create new backlog.");case 9:t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",e.$errorMessage.show(t.t0));case 14:return t.prev=14,e.newBacklog={title:""},t.next=18,e.loadOrgBacklogs();case 18:return t.finish(14);case 19:case"end":return t.stop()}},t,e,[[0,11,14,19]])}))()},handleUsername:function(e){return r.i(l.c)(e)},onFiltered:function(e){this.backlogs.forEach(function(t){t.totalRows=e.length,t.currentPage=1})}},watch:{},components:{item:u.a}}},"Db+k":function(e,t,r){"use strict";function a(e){r("sgfU")}var n=r("rSe3"),s=r("sUNP"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},E9oo:function(e,t,r){"use strict";function a(e){r("b2v8")}var n=r("TD0J"),s=r("snkZ"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},ET9T:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"item col-lg-12 col-md-8 col-sm-6 col-xs-4"},[r("b-card",{staticClass:"card col-lg-12",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"container-fluid",attrs:{horizontal:"",breakpoint:"lg",label:"<h2>Item</h2>","label-size":"lg","label-class":"font-weight-bold pt-0"}}),e._v(" "),r("div",{staticClass:"container-fluid row"},[r("div",{staticClass:"col-12"},[r("div",[r("label",{staticClass:"left"},[e._v("Created by: "+e._s(e.handleUsername(e.form.author))+" on "+e._s(new Date(e.form.createdAt).toLocaleString()))])])]),e._v(" "),r("div",{staticClass:"col-2"},[r("b-form-group",{attrs:{label:"Status: ","label-for":"labelStatus","label-size":"sm","label-cols":2}},[r("b-dropdown",{staticClass:"statuses m-2",attrs:{text:e.currentStatus,name:"itemStatus",size:"sm"}},e._l(e.objStatuses,function(t){return e.objStatuses?r("b-dropdown-item",{key:t.id,attrs:{size:"sm"},on:{click:function(r){e.handleItemSetField(t,"status")}}},[e._v(e._s(t.name)+"\n              ")]):e._e()}))],1),e._v(" "),r("b-form-group",{attrs:{label:"Assignee: ","label-for":"ItemAssignee","label-size":"sm","label-cols":2}},[r("b-dropdown",{staticClass:"users m-2",attrs:{text:e.handleUsername(e.form.assignee),name:"ItemAssignee",size:"sm"}},e._l(e.users,function(t){return r("b-dropdown-item",{key:t.userId,attrs:{size:"sm"},on:{click:function(r){e.handleItemSetField(t,"assignee")}}},[e._v(e._s(e.handleUsername(t))+"\n              ")])}))],1),e._v(" "),r("b-form-group",{attrs:{label:"Points: ","label-for":"ItemPoints","label-size":"sm","label-cols":2}},[r("b-dropdown",{staticClass:"points m-2",attrs:{text:String(e.form.points),name:"ItemPoints",size:"sm"}},e._l(e.pointsVar,function(t){return r("b-dropdown-item",{key:t,attrs:{size:"sm"},on:{click:function(r){e.handleItemSetField(t,"points")}}},[e._v(e._s(t)+"\n              ")])}))],1)],1),e._v(" "),r("div",{staticClass:"col-10"},[r("b-form-group",{attrs:{horizontal:"",label:"Title:","label-class":"text-sm-right","label-for":"Title"}},[r("b-form-input",{staticClass:"text-center",attrs:{id:"Title"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),r("b-form-group",{attrs:{horizontal:"",label:"Title description:","label-class":"text-sm-right","label-for":"description"}},[r("b-form-textarea",{staticClass:"description text-center",attrs:{id:"description",rows:6,"max-rows":8},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),e._v(" "),r("div",{staticClass:"button-box"},[r("div",{staticClass:"float-right"},[r("b-btn",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.handleSaveItem()}}},[e._v("Save")]),e._v(" "),r("b-btn",{on:{click:function(t){e.$router.go(-1)}}},[e._v(" Back ")])],1),e._v(" "),r("div",[r("b-btn",{class:e.showComments?"collapsed":null,attrs:{"aria-controls":"collapse4","aria-expanded":e.showComments?"true":"false"},on:{click:function(t){e.showComments=!e.showComments}}},[e._v("\n              Show comments\n            ")]),e._v(" "),r("b-btn",{class:e.addComment?"collapsed":null,attrs:{"aria-controls":"collapse4","aria-expanded":e.addComment?"true":"false"},on:{click:function(t){e.addComment=!e.addComment}}},[e._v("\n              Add comment\n            ")]),e._v(" "),r("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse4"},model:{value:e.showComments,callback:function(t){e.showComments=t},expression:"showComments"}},e._l(e.comments,function(t){return e.comments?r("b-form-group",{key:t.id,staticClass:"container-fluid",attrs:{breakpoint:"lg",label:e.labelComment(t),"label-size":"sm","label-class":"font-weight-bold pt-0"}},[r("vue-tribute",{attrs:{options:e.options},on:{"tribute-replaced":function(r){e.tributeReplaced(t)}}},[r("b-form-textarea",{ref:"comment"+t.id,refInFor:!0,staticClass:"text-center",attrs:{id:"comment"+t.id,readonly:t.readOnly},model:{value:t.comment,callback:function(r){e.$set(t,"comment",r)},expression:"element.comment"}})],1),e._v(" "),r("div",{staticStyle:{float:"right"}},[e.$store.state.user.id===t.createdBy&&t.readOnly?r("b-button",{staticStyle:{},attrs:{variant:"primary",size:"sm"},on:{click:function(r){e.handleReadOnly(t)}}},[e._v("🖉")]):e._e(),e._v(" "),t.readOnly?e._e():r("b-button",{staticStyle:{},attrs:{variant:"success",size:"sm"},on:{click:function(r){e.handleUpdateComment(t)}}},[e._v("💾")]),e._v(" "),e.admin?r("b-button",{staticStyle:{},attrs:{variant:"danger",size:"sm"},on:{click:function(r){e.handleDeleteComment(t)}}},[e._v("✖")]):e._e()],1)],1):e._e()})),e._v(" "),r("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse5"},model:{value:e.addComment,callback:function(t){e.addComment=t},expression:"addComment"}},[r("vue-tribute",{attrs:{options:e.options}},[r("b-form-textarea",{staticClass:"text-center",attrs:{id:"newComment",placeholder:"Enter comment text",rows:2},model:{value:e.newComment,callback:function(t){e.newComment=t},expression:"newComment"}})],1),e._v(" "),r("div",{staticStyle:{float:"right"}},[r("b-button",{staticStyle:{},attrs:{variant:"success",size:"sm"},on:{click:function(t){e.handleNewComment(e.newComment)}}},[e._v("💾")])],1)],1)],1)])])],1)],1)},n=[],s={render:a,staticRenderFns:n};t.a=s},F7tQ:function(e,t){},Fs8J:function(e,t,r){"use strict";t.a={name:"",data:function(){return{}},computed:{},methods:{},components:{}}},GfHa:function(e,t){},IcnI:function(e,t,r){"use strict";var a=r("7+uW"),n=r("NYxO"),s=r("Q7hp"),o=r.n(s);a.default.use(n.a),t.a=new n.a.Store({struct:!0,state:{token:null,user:null,organization:{},loading:!0},mutations:{token:function(e,t){e.token=t.token},user:function(e,t){e.user=t.user;var r=o()(t,"user.organization")||o()(t,"user.organizations[0]");r&&(e.organization.id=r.id,e.organization.name=r.name)},organization:function(e,t){e.organization.name=t.name,e.organization.id=t.id},loading:function(e,t){e.loading=t.loading}},actions:{}})},Id91:function(e,t){},JPeV:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"users"},[r("b-dropdown",{attrs:{text:e.selectedOrg.name,size:"sm"}},e._l(e.organizations,function(t){return e.organizations?r("b-dropdown-item",{key:t.orgId,on:{click:function(r){e.handleOrgChange(t)}}},[e._v(e._s(t.name))]):e._e()})),e._v(" "),r("b-dropdown",{staticClass:"m-2",attrs:{id:"Actions",text:"Action",size:"sm"}},[r("b-dropdown-item",{attrs:{id:"granAdmin"},on:{click:function(t){e.handleGrantAdmin()}}},[e._v(" Grant admin ")]),e._v(" "),r("b-dropdown-item",{attrs:{id:"revokeAdmin"},on:{click:function(t){e.handleRevokeAdmin()}}},[e._v(" Revoke admin ")]),e._v(" "),r("b-dropdown-item",{attrs:{id:"Authorise"},on:{click:function(t){e.handleRevokeAdmin()}}},[e._v(" Authorize user ")]),e._v(" "),r("b-dropdown-item",{attrs:{id:"ReasetPassword"},on:{click:function(t){e.handleResetPassword()}}},[e._v(" Reset password ")]),e._v(" "),r("b-dropdown-item",{attrs:{id:"removeFromOrganization"},on:{click:function(t){e.handleRemoveFromOrganization()}}},[e._v(" Remove from org ")])],1),e._v(" "),[r("table",{staticClass:"table table-striped table-hover"},[r("thead",[r("tr",[r("th",[r("label",{staticClass:"form-checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectAllUsers,expression:"selectAllUsers"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selectAllUsers)?e._i(e.selectAllUsers,null)>-1:e.selectAllUsers},on:{click:function(t){e.handleSelect()},change:function(t){var r=e.selectAllUsers,a=t.target,n=!!a.checked;if(Array.isArray(r)){var s=e._i(r,null);a.checked?s<0&&(e.selectAllUsers=r.concat([null])):s>-1&&(e.selectAllUsers=r.slice(0,s).concat(r.slice(s+1)))}else e.selectAllUsers=n}}}),e._v(" "),r("i",{staticClass:"form-icon"})])]),e._v(" "),e._l(e.usersFields,function(t){return r("th",{key:t},[e._v(e._s(t))])})],2)]),e._v(" "),r("tbody",[e._l(e.users,function(t){return r("tr",{key:t.userId},[r("td",[r("label",{staticClass:"form-checkbox"},[r("input",{attrs:{type:"checkbox"},domProps:{checked:t.selected},on:{click:function(r){e.handleSelect(t)}}}),e._v(" "),r("i",{staticClass:"form-icon"})])]),e._v(" "),e._l(e.usersFields,function(a){return r("td",{key:a},[r("tr",[e._v(e._s(t[a]))])])})],2)}),e._v(" "),r("tr")],2)])]],2)},n=[],s={render:a,staticRenderFns:n};t.a=s},JZSy:function(e,t,r){"use strict";var a=r("Xxa5"),n=r.n(a),s=r("exGp"),o=r.n(s),i=r("Db+k"),c=r("5PmU"),u=r("8uEU"),l=r("Q7hp"),d=r.n(l),m=r("NHnr");t.a={name:"Settings",data:function(){return{organizations:[]}},mounted:function(){var e=this;return o()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadOrganizations();case 2:m.eventBus.$on("reload",function(t){!0===t.loadOrganization&&e.loadOrganizations()});case 3:case"end":return t.stop()}},t,e)}))()},methods:{loadOrganizations:function(){var e=this;return o()(n.a.mark(function t(){var r,a,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading(!0),t.prev=1,t.next=4,e.axios.get("/api/user/orgs");case 4:if(r=t.sent,a=d()(r,"data.success")){t.next=8;break}throw new Error("Unable to load user's organizations.");case 8:s=d()(r,"data.organizations"),s.forEach(function(e){e._rowVariant=""}),s.forEach(function(e){e.menuName=e.name,"Pending"===e.role&&(e.menuName=e.name+" (authorization pending)")}),e.organizations=s,t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(1),t.abrupt("return",e.$errorMessage.show(t.t0));case 17:return t.prev=17,e.$loading(!1),t.finish(17);case 20:case"end":return t.stop()}},t,e,[[1,14,17,20]])}))()}},components:{profile:i.a,organization:c.a,users:u.a}}},JmIY:function(e,t,r){"use strict";t.a={name:"Bugs",data:function(){return{}},computed:{},methods:{},components:{}}},JqUA:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"invite"},[r("h2",{staticClass:"center"},[e._v("You are invited to join "+e._s(e.organization))]),e._v(" "),"register"===e.form?r("b-form",{staticClass:"register",on:{submit:e.handleRegister}},[e.postRegister?r("div",[r("p",[e._v("Your invitation accepted and account created.\n        Please check your inbox for verification email and "),r("router-link",{attrs:{tag:"a",to:{name:"account",params:{action:"login"}}}},[r("a",[e._v("process to login")])])],1)]):r("div",{staticClass:"not-registered"},[r("h5",[e._v("Please create an account to accept invitation")]),e._v(" "),r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"text",placeholder:"First Name"},model:{value:e.register.firstName,callback:function(t){e.$set(e.register,"firstName",t)},expression:"register.firstName"}})],1)],1),e._v(" "),r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"text",placeholder:"Last Name"},model:{value:e.register.lastName,callback:function(t){e.$set(e.register,"lastName",t)},expression:"register.lastName"}})],1)],1)],1),e._v(" "),r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"email",required:"",placeholder:"Email",readonly:""},model:{value:e.register.email,callback:function(t){e.$set(e.register,"email",t)},expression:"register.email"}})],1)],1),e._v(" "),r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"text",required:"",placeholder:"Organization",readonly:""},model:{value:e.organization,callback:function(t){e.organization=t},expression:"organization"}})],1)],1)],1),e._v(" "),r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.register.password,callback:function(t){e.$set(e.register,"password",t)},expression:"register.password"}})],1)],1),e._v(" "),r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",[r("b-form-input",{attrs:{type:"password",placeholder:"Confrmation"},model:{value:e.register.confirmation,callback:function(t){e.$set(e.register,"confirmation",t)},expression:"register.confirmation"}})],1)],1)],1),e._v(" "),r("b-row",{staticClass:"tos"},[r("b-form-checkbox",{attrs:{value:"Y"},model:{value:e.register.tosAccepted,callback:function(t){e.$set(e.register,"tosAccepted",t)},expression:"register.tosAccepted"}},[e._v("I accept "),r("a",{attrs:{href:"#"}},[e._v("Terms of Service")])])],1),e._v(" "),r("div",{staticClass:"button-box center"},[r("b-button",{attrs:{type:"submit",variant:"primary",disabled:e.saving}},[e._v("Save")]),e._v(" "),r("a",{staticClass:"small",attrs:{href:"#"},on:{click:function(t){e.toggleForm("login")}}},[e._v("Already registered?")])],1)],1)]):e._e(),e._v(" "),"login"===e.form?r("b-form",{staticClass:"login",on:{submit:e.handleLogin}},[e.postLogin?r("div",[r("p",[e._v("Your invitation accepted.Process to "),r("router-link",{attrs:{tag:"a",to:{name:"home"}}},[r("a",[e._v("dashboard")])])],1)]):r("div",{staticClass:"not-logged-on"},[r("h5",[e._v("Please login to accept invitation")]),e._v(" "),r("b-form-group",[r("b-form-input",{attrs:{type:"email",readonly:"",required:"",placeholder:"Email address"},model:{value:e.login.email,callback:function(t){e.$set(e.login,"email",t)},expression:"login.email"}})],1),e._v(" "),r("b-form-group",[r("b-form-input",{attrs:{type:"password",required:"",placeholder:"Password"},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}})],1),e._v(" "),r("div",{staticClass:"button-box center"},[r("b-button",{attrs:{type:"submit",variant:"primary",disabled:e.saving}},[e._v("Login")]),e._v(" "),r("a",{staticClass:"small",attrs:{href:"#"},on:{click:function(t){e.toggleForm("register")}}},[e._v("Not registered?")])],1)],1)]):e._e()],1)},n=[],s={render:a,staticRenderFns:n};t.a=s},Jz2w:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-form",{staticClass:"login col-lg-4 col-md-8 col-sm-12 col-xs-12",on:{submit:e.submit}},[r("h2",{staticClass:"center"},[e._v("Welcome to")]),e._v(" "),r("h1",{staticClass:"center"},[e._v("PM415")]),e._v(" "),r("b-form-group",[r("b-form-input",{attrs:{type:"email",required:"",placeholder:"Email address"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),r("b-form-group",[r("b-form-input",{attrs:{type:"password",required:"",placeholder:"Password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),r("template",{slot:"description"},[r("a",{staticClass:"small float-right",attrs:{href:"#"},on:{click:function(t){e.onChangeForm&&e.onChangeForm("forgot")}}},[e._v("Forgot password?")])])],2),e._v(" "),r("div",{staticClass:"button-box center"},[r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Login")]),e._v(" "),r("a",{staticClass:"small",attrs:{href:"#"},on:{click:function(t){e.onChangeForm&&e.onChangeForm("register")}}},[e._v("Not registered?")])],1)],1)},n=[],s={render:a,staticRenderFns:n};t.a=s},"Kke+":function(e,t,r){"use strict";var a=r("Xxa5"),n=r.n(a),s=r("exGp"),o=r.n(s),i=r("Q7hp"),c=r.n(i),u=r("M4fF"),l=r.n(u),d=r("pouz"),m=r("L/hj");t.a={name:"Items",data:function(){return{objStatuses:[],groupByList:["Status","Stategic initiative"],currentGroupBy:"Status",selected:[],options:[],users:[],newItem:{title:"",description:"",points:0,status:{id:1,name:"Unplaned"},assignee:{}},items:[],pointsVar:["0","1","2","3","5","8","13","21"],itemsFields:["title","author"],newNameOldItem:"",currentItem:"",filter:null,perPage:5,title:"backlog title"}},mounted:function(){var e=this;return o()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setCurrentUser(),t.next=3,e.loadBacklogTitle();case 3:return t.next=5,e.loadOrgUsers();case 5:return t.next=7,e.loadOrgStatuses(!0);case 7:e.selected.forEach(function(t){e.options.push({text:t.name,value:t})});case 8:case"end":return t.stop()}},t,e)}))()},computed:{},methods:{sortSelected:function(){console.log(this.selected)},setCurrentUser:function(){this.newItem.assignee=this.$store.state.user,this.newItem.assignee.userId=this.newItem.assignee.id},loadBacklogTitle:function(){var e=this;return o()(n.a.mark(function t(){var r,a,s,o,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.$route.query.orgId,a=e.$route.query.backlogid,e.$loading(!0),t.next=6,e.axios.post("/api/backlogs/"+r,{backlogsId:[a],fullSelect:!1});case 6:if(s=t.sent,o=c()(s,"data.success")){t.next=10;break}throw new Error("Unable to load backlog info");case 10:i=c()(s,"data.backlogs"),0!==i.length&&(e.title=i[0].title),t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",e.$errorMessage.show(t.t0));case 17:return t.prev=17,e.$loading(!1),t.finish(17);case 20:case"end":return t.stop()}},t,e,[[0,14,17,20]])}))()},loadOrgStatuses:function(e){var t=this;return o()(n.a.mark(function r(){var a,s,o;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.$loading(!0),r.next=4,t.loadOrgItems();case 4:return r.next=6,t.axios.get("/api/statuses/items/"+t.$store.state.organization.id);case 6:if(a=r.sent,s=c()(a,"data.success")){r.next=10;break}throw new Error("Unable to load user's organizations.");case 10:o=c()(a,"data.statuses"),t.objStatuses=o,t.objStatuses.forEach(function(e){e.filteredItems=l.a.filter(t.items,{statusId:e.id}),e.totalRows=e.filteredItems.length,e.currentPage=1}),e&&(t.selected=t.objStatuses),e||t.selected.forEach(function(e){e.filteredItems=l.a.filter(t.items,{statusId:e.id}),e.totalRows=e.filteredItems.length,e.currentPage=1}),r.next=20;break;case 17:return r.prev=17,r.t0=r.catch(0),r.abrupt("return",t.$errorMessage.show(r.t0));case 20:return r.prev=20,t.$loading(!1),r.finish(20);case 23:case"end":return r.stop()}},r,t,[[0,17,20,23]])}))()},loadOrgUsers:function(){var e=this;return o()(n.a.mark(function t(){var r,a,s,o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.$route.query.orgId,e.$loading(!0),t.next=5,e.axios.get("/api/org/"+r+"/users");case 5:if(a=t.sent,s=c()(a,"data.success")){t.next=9;break}throw new Error("Unable to load user's organizations.");case 9:o=c()(a,"data.users"),e.users=o,t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",e.$errorMessage.show(t.t0));case 16:return t.prev=16,e.$loading(!1),t.finish(16);case 19:case"end":return t.stop()}},t,e,[[0,13,16,19]])}))()},loadOrgItems:function(){var e=this;return o()(n.a.mark(function t(){var a,s,o,i,u;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$route.query.orgId,s=e.$route.query.backlogid,t.prev=2,e.$loading(!0),t.next=6,e.axios.get("/api/items/backlogs/"+a+"/"+s);case 6:if(o=t.sent,i=c()(o,"data.success")){t.next=10;break}throw new Error("Unable to load user's organizations.");case 10:u=c()(o,"data.items"),u.forEach(function(e){e.author=r.i(m.c)(e)}),e.items=u,t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(2),t.abrupt("return",e.$errorMessage.show(t.t0));case 18:return t.prev=18,e.$loading(!1),t.finish(18);case 21:case"end":return t.stop()}},t,e,[[2,15,18,21]])}))()},handleChangeGroupBy:function(e){var t=this;return o()(n.a.mark(function r(){return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t.currentGroupBy=e;case 1:case"end":return r.stop()}},r,t)}))()},handleItemNewItemSetField:function(e,t){var r=this;return o()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r.newItem[t]=e;case 1:case"end":return a.stop()}},a,r)}))()},setCurrentItem:function(e){this.currentItem=e},handleItemEditTitle:function(e,t){var r=this;return o()(n.a.mark(function a(){var s,o;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return",r.$notify({group:"error",type:"err",text:"Empty item title field"}));case 2:return a.prev=2,r.$loading(!0),a.next=6,r.axios.put("/api/items/edit/"+r.$store.state.organization.id+"/"+e.id,{title:t});case 6:if(s=a.sent,o=c()(s,"data.success")){a.next=10;break}throw new Error("Unable to update item.");case 10:r.$notify({group:"app",type:"success",text:"item updated"}),a.next=16;break;case 13:return a.prev=13,a.t0=a.catch(2),a.abrupt("return",r.$errorMessage.show(a.t0));case 16:return a.prev=16,r.loadOrgStatuses(!1),r.$loading(!1),r.newNameOldItem="",r.currentItem="",a.finish(16);case 22:case"end":return a.stop()}},a,r,[[2,13,16,22]])}))()},handleItemDelete:function(e){var t=this;return o()(n.a.mark(function r(){var a,s;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return!e||t.$store.state.user.id,r.prev=1,r.next=4,t.axios.delete("/api/items/"+t.$store.state.organization.id+"/"+e.id);case 4:if(a=r.sent,s=c()(a,"data.success")){r.next=8;break}throw new Error("Unable to create new organization.");case 8:r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",t.$errorMessage.show(r.t0));case 13:return r.prev=13,t.loadOrgStatuses(!1),t.$notify({group:"app",type:"success",text:"Item "+e.title+" was deleted"}),t.currentItem="",r.finish(13);case 18:case"end":return r.stop()}},r,t,[[1,10,13,18]])}))()},handleNewItem:function(){var e=this;return o()(n.a.mark(function t(){var r,a,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={},r.assignee=String(e.newItem.assignee.userId),r.statusId=String(e.newItem.status.id),r.points=String(e.newItem.points),r.description=e.newItem.description,r.title=e.newItem.title,r.ownerTable="backlogs",r.ownerId=e.$route.query.backlogid,t.next=11,e.axios.post("/api/items/new/"+e.$store.state.organization.id,r);case 11:if(a=t.sent,s=c()(a,"data.success")){t.next=15;break}throw new Error("Unable to create new item.");case 15:t.next=20;break;case 17:return t.prev=17,t.t0=t.catch(0),t.abrupt("return",e.$errorMessage.show(t.t0));case 20:return t.prev=20,e.loadOrgStatuses(!1),e.newItem={title:"",description:"",points:0,status:{id:1,name:"Unplaned"},assignee:""},e.setCurrentUser(),t.finish(20);case 25:case"end":return t.stop()}},t,e,[[0,17,20,25]])}))()},handleUsername:function(e){return r.i(m.c)(e)},onFiltered:function(e){this.selected.forEach(function(t){t.totalRows=e.length,t.currentPage=1})}},watch:{selected:function(e,t){this.loadOrgStatuses(!1)}},components:{item:d.a}}},"L/hj":function(e,t,r){"use strict";function a(e){e.$loading(!0),e.$store.commit({type:"user",user:null}),e.$store.commit({type:"token",token:null}),e.$store.commit({type:"organization",name:null,id:null}),r.i(l.a)()&&r.i(l.c)("token"),e.$loading(!1),e.$router.push({name:"account",params:{action:"login"}})}function n(e,t,n){e.$loading(!0),t?(r.i(l.a)()&&r.i(l.d)("token",t,{expires:"7D"}),n.organization&&e.$store.commit({type:"organization",name:n.organization.name,id:n.organization.id}),e.$store.commit({type:"token",token:t}),e.$store.commit({type:"user",user:n}),e.axios.defaults.headers.common.Authorization="Bearer "+t,e.$router.push({name:"home"})):a(e),e.$loading(!1)}function s(e){if(!e)return"";var t=e.firstName,r=e.lastName,a=e.email;return t&&r?t+" "+r:t||(r||a)}t.a=a,t.b=n,t.c=s;var o=r("Xxa5"),i=r.n(o),c=r("exGp"),u=r.n(c),l=r("DWaH"),d=r("mtWM"),m=r.n(d),p=r("Q7hp"),f=r.n(p);!function(){var e=u()(i.a.mark(function e(t,r){var a,n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$loading(!0),e.next=3,m.a.post("/api/account/forgotpassword",{email:r});case 3:if(a=e.sent,n=f()(a,"data.success"),s=f()(a,"data.message"),n){e.next=8;break}throw new Error(s);case 8:if(!n){e.next=10;break}throw new Error(s);case 10:t.$loading(!1),window.location.reload();case 12:case"end":return e.stop()}},e,this)}))}()},LR0Z:function(e,t,r){"use strict";var a=r("Q7hp"),n=r.n(a),s=r("0MVy"),o=r("E9oo"),i=r("2czZ"),c=r("pEqT"),u=r("mzM1"),l=r("+eU3");t.a={name:"Account",data:function(){return{form:"login",token:null}},mounted:function(){-1!==this.$route.path.indexOf("account/invite")&&this.$store.state.token&&this.$store.commit({type:"token",token:null}),this.form=n()(this.$route,"params.action","login")},methods:{changeForm:function(e){this.$router.push({name:"account",params:{action:e}})}},watch:{$route:function(e,t){this.form=n()(e,"params.action","login","login")}},components:{login:s.a,"forgot-password":o.a,register:i.a,"reset-password":c.a,verify:u.a,invite:l.a}}},LX6u:function(e,t){},LiAu:function(e,t,r){"use strict";var a=r("Xxa5"),n=r.n(a),s=r("exGp"),o=r.n(s),i=r("Q7hp"),c=r.n(i),u=r("NHnr");t.a={name:"Organization",props:["organizations"],data:function(){return{organizationsFields:["orgId","name","role","actions"],newOrgName:"",currentOrganization:""}},computed:{},methods:{setCurrentOrg:function(e){this.currentOrganization=e},handleOrganizationNew:function(e){var t=this;return o()(n.a.mark(function r(){var a,s;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",t.$notify({group:"error",type:"err",text:"Empty new organization name field"}));case 2:return r.prev=2,r.next=5,t.axios.post("/api/org",{name:e});case 5:if(a=r.sent,s=c()(a,"data.success")){r.next=9;break}throw new Error("Unable to create new organization.");case 9:r.next=14;break;case 11:return r.prev=11,r.t0=r.catch(2),r.abrupt("return",t.$errorMessage.show(r.t0));case 14:return r.prev=14,t.newOrgName="",r.finish(14);case 17:u.eventBus.$emit("reload",{loadOrganization:!0}),t.setCurrentOrg("");case 19:case"end":return r.stop()}},r,t,[[2,11,14,17]])}))()},handleOrganizationDelete:function(e){var t=this;return o()(n.a.mark(function r(){var a,s;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return!e||t.$store.state.user.id,r.prev=1,r.next=4,t.axios.delete("/api/org/"+e.orgId);case 4:if(a=r.sent,s=c()(a,"data.success")){r.next=8;break}throw new Error("Unable to create new organization.");case 8:r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",t.$errorMessage.show(r.t0));case 13:return r.prev=13,t.$notify({group:"app",type:"success",text:"Organization "+e.name+" was deleted"}),u.eventBus.$emit("reload",{loadOrganization:!0}),t.setCurrentOrg(""),r.finish(13);case 18:case"end":return r.stop()}},r,t,[[1,10,13,18]])}))()},handleOrganizationEdit:function(e,t){var r=this;return o()(n.a.mark(function a(){var s,o;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return",r.$notify({group:"error",type:"err",text:"Empty organization name field"}));case 2:return a.prev=2,r.$loading(!0),a.next=6,r.axios.put("/api/org/"+e.orgId,{name:t});case 6:if(s=a.sent,o=c()(s,"data.success")){a.next=10;break}throw new Error("Unable to update organization.");case 10:r.$notify({group:"app",type:"success",text:"Organization updated"}),a.next=16;break;case 13:return a.prev=13,a.t0=a.catch(2),a.abrupt("return",r.$errorMessage.show(a.t0));case 16:return a.prev=16,r.$loading(!1),r.newOrgName="",u.eventBus.$emit("reload",{loadOrganization:!0}),r.setCurrentOrg(""),a.finish(16);case 22:case"end":return a.stop()}},a,r,[[2,13,16,22]])}))()}},components:{}}},M0YU:function(e,t,r){"use strict";function a(e){r("h8cQ")}var n=r("VS20"),s=r("VaSV"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},M93x:function(e,t,r){"use strict";function a(e){r("tD9H")}var n=r("xJD8"),s=r("c7tb"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"eventBus",function(){return _});var a=r("7+uW"),n=r("e6fC"),s=r("qb6w"),o=(r.n(s),r("9M+g")),i=(r.n(o),r("M93x")),c=r("YaEn"),u=r("IcnI"),l=r("mpC7"),d=r("mtWM"),m=r.n(d),p=r("Rf8U"),f=r.n(p),v=r("CLX7"),g=r.n(v),b=r("idOd"),h=(r.n(b),r("RK/9")),w=(r.n(h),r("F7tQ")),k=(r.n(w),r("fmBQ")),x=r("lVaD");a.default.use(g.a),a.default.use(n.a),a.default.use(f.a,m.a),a.default.use(k.a),a.default.use(x.a),a.default.config.productionTip=!1;var _=new a.default;new a.default({el:"#app",router:c.a,store:u.a,template:"<App/>",components:{App:i.a,VueTribute:l.a}})},OngD:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"ideas"})},n=[],s={render:a,staticRenderFns:n};t.a=s},QpAD:function(e,t,r){"use strict";function a(e){r("147f")}var n=r("k2x4"),s=r("OngD"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},"RK/9":function(e,t){},Rc0O:function(e,t,r){"use strict";function a(e){r("2sY1")}var n=r("D5N1"),s=r("B0tr"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},TD0J:function(e,t,r){"use strict";var a=r("Xxa5"),n=r.n(a),s=r("exGp"),o=r.n(s),i=r("Q7hp"),c=r.n(i);t.a={name:"ForgotPassword",data:function(){return{form:{email:null}}},computed:{},methods:{submit:function(e){var t=this;return o()(n.a.mark(function r(){var a,s,o;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,r.next=4,t.axios.post("/api/account/forgotpassword",t.form);case 4:a=r.sent,s=c()(a,"data.success"),o=c()(a,"data.message"),t.$notify({group:"app",type:s,text:o}),r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",t.$errorMessage.show(r.t0));case 13:return r.prev=13,t.$loading(!1),r.finish(13);case 16:case"end":return r.stop()}},r,t,[[1,10,13,16]])}))()}},props:{onChangeForm:Function}}},TZMF:function(e,t,r){"use strict";function a(e){r("VFTZ")}var n=r("Kke+"),s=r("tTud"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},Teeu:function(e,t){},VFTZ:function(e,t){},VS20:function(e,t,r){"use strict";t.a={name:"Initiatives",data:function(){return{}},computed:{},methods:{},components:{}}},VaSV:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"initiatives"})},n=[],s={render:a,staticRenderFns:n};t.a=s},Vwoz:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-form",{staticClass:"reset-password",on:{submit:e.submit}},[r("h2",{staticClass:"center"},[e._v("Set new password"),r("br"),e._v("for")]),e._v(" "),r("h1",{staticClass:"center"},[e._v("PM415")]),e._v(" "),r("b-form-group",[r("b-form-input",{attrs:{type:"password",required:"",placeholder:"Password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("b-form-group",[r("b-form-input",{attrs:{type:"password",required:"",placeholder:"Confirmation"},model:{value:e.form.confirmation,callback:function(t){e.$set(e.form,"confirmation",t)},expression:"form.confirmation"}})],1),e._v(" "),r("div",{staticClass:"button-box center"},[r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Set password")])],1)],1)},n=[],s={render:a,staticRenderFns:n};t.a=s},YExM:function(e,t){},YaEn:function(e,t,r){"use strict";var a=r("7+uW"),n=r("/ocq"),s=r("hU05"),o=r("lO7g"),i=r("M0YU"),c=r("QpAD"),u=r("Rc0O"),l=r("TZMF"),d=r("pouz"),m=r("0Qwy"),p=r("niH5");a.default.use(n.a),t.a=new n.a({mode:"history",routes:[{path:"/account/:action",name:"account",component:s.a},{path:"/",name:"home",component:o.a},{path:"/initiatives",name:"initiatives",component:i.a},{path:"/ideas",name:"ideas",component:c.a},{path:"/backlogs",name:"backlogs",component:u.a},{path:"/items",name:"items",component:l.a},{path:"/items/item",name:"item",component:d.a},{path:"/bugs",name:"bugs",component:m.a},{path:"/settings",name:"settings",component:p.a}]})},b2v8:function(e,t){},c7tb:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{id:"app"}},[e.$store.state.loading?r("div",{staticClass:"loading"},[r("div",{staticClass:"vue-loading-msg"},[e._v("Loading ...")])]):e._e(),e._v(" "),r("div",{staticClass:"notifications-container"},[r("notifications",{attrs:{group:"error",width:"405px",position:"bottom right"}}),e._v(" "),r("notifications",{attrs:{group:"app",width:"405px",position:"bottom right"}})],1),e._v(" "),e.$store.state.token?r("div",[r("topbar"),e._v(" "),r("b-container",{staticClass:"wrap"},[r("router-view")],1)],1):e._e(),e._v(" "),e.$store.state.token?e._e():r("account")],1)},n=[],s={render:a,staticRenderFns:n};t.a=s},d6UU:function(e,t,r){"use strict";var a=r("Xxa5"),n=r.n(a),s=r("exGp"),o=r.n(s),i=r("Q7hp"),c=r.n(i);t.a={name:"Register",beforeCreate:function(){},mounted:function(){this.checkToken()},data:function(){return{form:{firstName:void 0,lastName:void 0,email:void 0,password:void 0,confirmation:void 0,organization:void 0,tosAccepted:!1},saving:!1,registered:!1,invited:!1}},methods:{checkToken:function(){var e=this;return o()(n.a.mark(function t(){var r,a,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.$route.query.token){t.next=3;break}return t.abrupt("return");case 3:if(!r){t.next=24;break}return e.invited=!0,e.$loading(!0),t.prev=6,t.next=9,e.axios.get("/api/org/invite",{params:{token:r}});case 9:if(a=t.sent,s=c()(a,"data.success")){t.next=13;break}throw new Error("Token iinvalid or expired");case 13:e.form.organization=c()(a,"data.organization"),e.form.email=c()(a,"data.email"),e.form.token=r,t.next=21;break;case 18:return t.prev=18,t.t0=t.catch(6),t.abrupt("return",e.$errorMessage.show(t.t0));case 21:return t.prev=21,e.$loading(!1),t.finish(21);case 24:case"end":return t.stop()}},t,e,[[6,18,21,24]])}))()},handleSubmit:function(e){var t=this;return o()(n.a.mark(function r(){var a,s;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,r.next=4,t.axios.post("/api/account/register",t.form);case 4:if(a=r.sent,s=c()(a,"data.userId")){r.next=8;break}throw new Error(c()(a,"data.message","Unable to create account"));case 8:t.$notify({group:"app",type:"success",text:"Your account created, please check your inbox for confirmation email."}),t.registered=!0,r.next=15;break;case 12:return r.prev=12,r.t0=r.catch(1),r.abrupt("return",t.$errorMessage.show(r.t0));case 15:return r.prev=15,t.$loading(!1),r.finish(15);case 18:case"end":return r.stop()}},r,t,[[1,12,15,18]])}))()}},props:{onChangeForm:Function}}},fk3g:function(e,t){},fmBQ:function(e,t,r){"use strict";var a=r("Q7hp"),n=r.n(a);t.a={install:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.prototype.$errorMessage={show:function(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Server error occurs",s=void 0;s||(s=n()(t,"response.data.message")),s||(s=n()(t,"response.details[0]")),s||(s=t.message),s||"string"!=typeof t||(s=t),s||(s=a),s=(new DOMParser).parseFromString(s,"text/html").body.textContent||"",e.notify({group:"error",text:s,type:"error"})}}}}},h8cQ:function(e,t){},hU05:function(e,t,r){"use strict";function a(e){r("2PL0")}var n=r("LR0Z"),s=r("Baxy"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},hg6x:function(e,t){},idOd:function(e,t){},jdmF:function(e,t,r){"use strict";var a=r("Xxa5"),n=r.n(a),s=r("exGp"),o=r.n(s),i=r("Q7hp"),c=r.n(i);t.a={name:"ResetPassword",mounted:function(){var e=this.$route.query.token;e||(this.$notify({group:"error",type:"warn",text:"Token invalid or missing"}),this.$router.push({name:"account",params:{action:"forgot"}})),this.form.token=e},data:function(){return{form:{password:null,confirmation:null,token:null}}},methods:{submit:function(e){var t=this;return o()(n.a.mark(function r(){var a,s,o;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,r.next=4,t.axios.post("/api/account/changepassword",t.form);case 4:a=r.sent,s=c()(a,"data.success"),o=c()(a,"data.message","Unable to set new password"),s?(t.$notify({group:"app",type:s,text:"Your password was changed."}),t.$router.push({name:"account",params:{action:"login"}})):t.$notify({group:"app",type:s,text:o}),r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",t.$errorMessage.show(r.t0));case 13:return r.prev=13,t.$loading(!1),r.finish(13);case 16:case"end":return r.stop()}},r,t,[[1,10,13,16]])}))()}},props:{onChangeForm:Function}}},k2x4:function(e,t,r){"use strict";t.a={name:"Ideas",data:function(){return{}},computed:{},methods:{},components:{}}},kDVP:function(e,t,r){"use strict";var a=r("mvHQ"),n=r.n(a),s=r("Xxa5"),o=r.n(s),i=r("exGp"),c=r.n(i),u=r("Q7hp"),l=r.n(u),d=r("M4fF"),m=r.n(d),p=r("L/hj"),f=r("mpC7");t.a={name:"Item",data:function(){return{objStatuses:[],currentStatus:"",users:[],pointsVar:["0","1","2","3","5","8","13","21"],points:"",form:{title:"",description:"",points:"",status:{name:"asdasd"},assignee:{firstName:"",lastName:"",email:"",id:""},forecastedRelease:"",actualRelease:"",statusId:0,id:"",Author:{firstName:"",lastName:"",email:""}},comments:[{comment:"",readOnly:!0}],showComments:!1,addComment:!1,newComment:"",mailers:[],admin:!1,options:{selectTemplate:function(e){return"@"+e.original.key+"."},values:[]}}},mounted:function(){var e=this;return c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadOrgStatuses();case 2:return t.next=4,e.loadOrgUsers();case 4:return t.next=6,e.loadItem();case 6:return t.next=8,e.loadComments();case 8:case"end":return t.stop()}},t,e)}))()},computed:{},methods:{tributeReplaced:function(e){var t=document.getElementById("comment"+e.id),r=document.createEvent("HTMLEvents");r.initEvent("input",!0,!0),t.dispatchEvent(r)},loadItem:function(){var e=this;return c()(o.a.mark(function t(){var r,a,n,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading(!0),r=e.$route.query.orgId,a=e.$route.query.itemId,t.prev=3,t.next=6,e.axios.get("/api/items/"+r+"/"+a);case 6:n=t.sent,s=l()(n,"data.success"),s||e.$errorMessage.show("Unable to load current user profile"),e.form=l()(n,"data.item"),e.objStatuses&&(e.form.status=m.a.find(e.objStatuses,{id:e.form.statusId})),e.currentStatus=e.form.status.name,e.points=String(e.form.points),e.admin=l()(n,"data.admin"),t.next=19;break;case 16:return t.prev=16,t.t0=t.catch(3),t.abrupt("return",e.$errorMessage.show(t.t0));case 19:return t.prev=19,e.$loading(!1),t.finish(19);case 22:case"end":return t.stop()}},t,e,[[3,16,19,22]])}))()},loadComments:function(){var e=this;return c()(o.a.mark(function t(){var r,a,n,s,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading(!0),r=e.$route.query.orgId,a=e.$route.query.itemId,t.prev=3,t.next=6,e.axios.get("/api/comments/get/items/"+r+"/"+a);case 6:n=t.sent,s=l()(n,"data.success"),s||e.$errorMessage.show("Unable to load comments"),i=l()(n,"data.comments"),i.forEach(function(e){e.readOnly=!0}),e.comments=i,t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(3),t.abrupt("return",e.$errorMessage.show(t.t0));case 17:return t.prev=17,e.$loading(!1),t.finish(17);case 20:case"end":return t.stop()}},t,e,[[3,14,17,20]])}))()},handleSaveItem:function(){var e=this;return c()(o.a.mark(function t(){var r,a,s,i,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.$loading(!0),r=e.$route.query.orgId,a=e.$route.query.itemId,s=JSON.parse(n()(e.form)),e.form.assignee&&(s.assignee=String(e.form.assignee.userId)),e.currentStatus&&(s.statusId=String(e.form.status.id)),e.forecastedRelease||delete s.forecastedRelease,e.actualRelease||delete s.actualRelease,e.plannedOn||delete s.plannedOn,delete s.author,delete s.status,delete s.id,delete s.createdAt,delete s.updatedAt,delete s.createdBy,delete s.organizationId,delete s.ownerId,delete s.ownerTable,s.points=String(s.points),e.mailers.length=0,t.next=23,e.axios.put("/api/items/edit/"+r+"/"+a,s);case 23:if(i=t.sent,c=l()(i,"data.success")){t.next=27;break}throw new Error("Unable to update item.");case 27:e.$notify({group:"app",type:"success",text:"Item updated"}),t.next=33;break;case 30:return t.prev=30,t.t0=t.catch(0),t.abrupt("return",e.$errorMessage.show(t.t0));case 33:return t.prev=33,e.$loading(!1),t.finish(33);case 36:case"end":return t.stop()}},t,e,[[0,30,33,36]])}))()},loadOrgUsers:function(){var e=this;return c()(o.a.mark(function t(){var a,n,s,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$route.query.orgId,t.prev=1,e.$loading(!0),t.next=5,e.axios.get("/api/org/"+a+"/users");case 5:if(n=t.sent,s=l()(n,"data.success")){t.next=9;break}throw new Error("Unable to load user's organizations.");case 9:i=l()(n,"data.users"),e.users=i,e.options.values.length=0,i.forEach(function(t){e.options.values.push({value:t.email,key:r.i(p.c)(t),string:"@"+r.i(p.c)(t)+"."})}),t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(1),t.abrupt("return",e.$errorMessage.show(t.t0));case 18:return t.prev=18,e.$loading(!1),t.finish(18);case 21:case"end":return t.stop()}},t,e,[[1,15,18,21]])}))()},handleUsername:function(e){return r.i(p.c)(e)},labelComment:function(e){var t="Created: "+r.i(p.c)(m.a.find(this.users,{userId:e.createdBy}));return t=t+" on "+new Date(e.createdAt).toLocaleString()},handleReadOnly:function(e){this.comments.forEach(function(e){e.readOnly=!0}),e.readOnly=!1,this.$refs["comment"+e.id][0].focus()},handleUpdateComment:function(e){var t=this;return c()(o.a.mark(function r(){var a,n;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.$loading(!0),t.findEmailAndReturnMailers(e.comment),r.next=5,t.axios.put("/api/comments/edit/"+e.id,{comment:e.comment,mailers:t.mailers});case 5:if(a=r.sent,t.mailers=[],n=l()(a,"data.success")){r.next=10;break}throw new Error("Unable to update comment.");case 10:t.$notify({group:"app",type:"success",text:"Comment updated"}),r.next=16;break;case 13:return r.prev=13,r.t0=r.catch(0),r.abrupt("return",t.$errorMessage.show(r.t0));case 16:return r.prev=16,t.$loading(!1),e.readOnly=!0,r.finish(16);case 20:case"end":return r.stop()}},r,t,[[0,13,16,20]])}))()},handleDeleteComment:function(e){var t=this;return c()(o.a.mark(function r(){var a,n,s;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.$route.query.orgId,r.prev=1,t.$loading(!0),r.next=5,t.axios.delete("/api/comments/delete/"+a+"/"+e.id);case 5:if(n=r.sent,s=l()(n,"data.success")){r.next=9;break}throw new Error("Unable to delete comment.");case 9:t.$notify({group:"app",type:"success",text:"Comment deleted"}),r.next=15;break;case 12:return r.prev=12,r.t0=r.catch(1),r.abrupt("return",t.$errorMessage.show(r.t0));case 15:return r.prev=15,t.$loading(!1),r.next=19,t.loadComments();case 19:return r.finish(15);case 20:case"end":return r.stop()}},r,t,[[1,12,15,20]])}))()},handleNewComment:function(e){var t=this;return c()(o.a.mark(function r(){var a,n,s,i;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.$route.query.orgId,n=t.$route.query.itemId,r.prev=2,t.$loading(!0),t.findEmailAndReturnMailers(e),r.next=7,t.axios.post("/api/comments/new/items/"+a+"/"+n,{comment:e,mailers:t.mailers});case 7:if(s=r.sent,t.mailers=[],i=l()(s,"data.success")){r.next=12;break}throw new Error("Unable to create comment.");case 12:t.$notify({group:"app",type:"success",text:"Comment created"}),r.next=18;break;case 15:return r.prev=15,r.t0=r.catch(2),r.abrupt("return",t.$errorMessage.show(r.t0));case 18:return r.prev=18,t.$loading(!1),r.next=22,t.loadComments();case 22:return t.newComment="",r.finish(18);case 24:case"end":return r.stop()}},r,t,[[2,15,18,24]])}))()},handleItemSetField:function(e,t){this.form[t]=e,"status"===t&&(this.currentStatus=e.name),"status"===t&&(this.points=e.name)},loadOrgStatuses:function(){var e=this;return c()(o.a.mark(function t(){var r,a,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.$loading(!0),r=e.$route.query.orgId,t.next=5,e.axios.get("/api/statuses/items/"+r);case 5:if(a=t.sent,n=l()(a,"data.success")){t.next=9;break}throw new Error("Unable to load user's organizations.");case 9:e.objStatuses=l()(a,"data.statuses"),t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",e.$errorMessage.show(t.t0));case 15:return t.prev=15,e.$loading(!1),t.finish(15);case 18:case"end":return t.stop()}},t,e,[[0,12,15,18]])}))()},findEmailAndReturnMailers:function(e){var t=this,r=e.match(/@.+?(\.)/gi);this.mailers.length=0,r&&(r.forEach(function(e){var r=m.a.find(t.options.values,{string:e});r&&t.mailers.push(r.value)}),this.mailers=m.a.union(this.mailers))}},components:{VueTribute:f.a}}},lO7g:function(e,t,r){"use strict";function a(e){r("w0/1")}var n=r("Fs8J"),s=r("oEFm"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,"data-v-6f77e36c",null);t.a=c.exports},lVaD:function(e,t,r){"use strict";t.a={install:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.prototype.$loading=function(e){this.$store.commit({type:"loading",loading:e})}}}},mUyL:function(e,t){},mzM1:function(e,t,r){"use strict";function a(e){r("pnEc")}var n=r("/fE7"),s=r("zDUi"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},niH5:function(e,t,r){"use strict";function a(e){r("mUyL")}var n=r("JZSy"),s=r("706L"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},oEFm:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"home"},[e._v("\n  Welcome home!\n")])},n=[],s={render:a,staticRenderFns:n};t.a=s},oInA:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"bugs"})},n=[],s={render:a,staticRenderFns:n};t.a=s},oInl:function(e,t){},pEqT:function(e,t,r){"use strict";function a(e){r("tmnl")}var n=r("jdmF"),s=r("Vwoz"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},pnEc:function(e,t){},pouz:function(e,t,r){"use strict";function a(e){r("uvR8")}var n=r("kDVP"),s=r("ET9T"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,null,null);t.a=c.exports},qb6w:function(e,t){"use strict"},rSe3:function(e,t,r){"use strict";var a=r("Xxa5"),n=r.n(a),s=r("exGp"),o=r.n(s),i=r("L/hj"),c=r("Q7hp"),u=r.n(c);t.a={name:"Profile",props:["organizations"],data:function(){return{profile:{},invite:{org:{name:"Organization"},email:null,link:null},saving:!1}},mounted:function(){var e=this;return o()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadProfile();case 2:case"end":return t.stop()}},t,e)}))()},computed:{},methods:{modalId:function(e,t){return"modal-"+e+"-"+t},handleProfileSubmit:function(e){var t=this;return o()(n.a.mark(function a(){var s,o,c;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.preventDefault(),t.profile.password===t.profile.confirmation){a.next=3;break}return a.abrupt("return",t.$notify({group:"error",type:"warn",text:"Password and confirmation does'n match"}));case 3:if(!t.profile.hasOwnProperty("email")||t.profile.email){a.next=5;break}return a.abrupt("return",t.$notify({group:"error",type:"warn",text:"Email cannot be empty"}));case 5:return t.$loading(!1),t.saving=!0,a.prev=7,a.next=10,t.axios.put("/api/user",{firstName:t.profile.firstName,lastName:t.profile.lastName,email:t.profile.email,password:t.profile.password,confirmation:t.profile.confirmation});case 10:if(s=a.sent,o=u()(s,"data.success")){a.next=14;break}throw new Error(u()(s,"data.message"));case 14:t.$notify({group:"app",type:"success",text:"Profile updated"}),c=u()(s,"data.doLogout"),c&&r.i(i.a)(t),a.next=22;break;case 19:return a.prev=19,a.t0=a.catch(7),a.abrupt("return",t.$errorMessage.show(a.t0));case 22:return a.prev=22,t.saving=!1,t.$loading(!1),a.finish(22);case 26:case"end":return a.stop()}},a,t,[[7,19,22,26]])}))()},handleRegenerageApiKey:function(){var e=this;return o()(n.a.mark(function t(){var r,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading(!0),t.prev=1,t.next=4,e.axios.post("/api/user/apikey");case 4:if(r=t.sent,a=u()(r,"data.success")){t.next=8;break}throw new Error("Unable to generate new api key.");case 8:return e.profile.apiKey=u()(r,"data.apiKey"),t.abrupt("return",e.$notify({group:"error",type:"success",text:"New API key was created. Do not forget to update it everywhere."}));case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",e.$errorMessage.show(t.t0));case 15:return t.prev=15,e.$loading(!1),t.finish(15);case 18:case"end":return t.stop()}},t,e,[[1,12,15,18]])}))()},handleInviteOrgChange:function(e){this.invite.org=e},handleGenerateLink:function(e){var t=this;return o()(n.a.mark(function r(){var a,s;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.invite.org.orgId){r.next=2;break}return r.abrupt("return",t.$notify({group:"error",type:"error",text:"Organization not selected"}));case 2:if(t.invite.email){r.next=4;break}return r.abrupt("return",t.$notify({group:"error",type:"error",text:"Email must be provided"}));case 4:return r.prev=4,r.next=7,t.axios.post("/api/org/"+t.invite.org.orgId+"/invitelink",{email:t.invite.email,send:e});case 7:if(a=r.sent,s=u()(a,"data.success")){r.next=11;break}throw new Error("Unable to invite user");case 11:t.invite.link=u()(a,"data.confirmUrl"),t.$notify({group:"app",type:"success",text:e?"Email sent":"Link created"}),r.next=18;break;case 15:return r.prev=15,r.t0=r.catch(4),r.abrupt("return",t.$errorMessage.show(r.t0));case 18:return r.prev=18,t.$loading(!1),r.finish(18);case 21:case"end":return r.stop()}},r,t,[[4,15,18,21]])}))()},loadProfile:function(){var e=this;return o()(n.a.mark(function t(){var r,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading(!0),t.prev=1,t.next=4,e.axios.get("/api/user");case 4:r=t.sent,a=u()(r,"data.success"),a||e.$errorMessage.show("Unable to load current user profile"),e.profile=u()(r,"data.user"),t.next=13;break;case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",e.$errorMessage.show(t.t0));case 13:return t.prev=13,e.$loading(!1),t.finish(13);case 16:e.$loading(!1);case 17:case"end":return t.stop()}},t,e,[[1,10,13,16]])}))()}},components:{}}},rZpG:function(e,t,r){"use strict";function a(e){r("LX6u")}var n=r("tr4E"),s=r("230/"),o=r("VU/8"),i=a,c=o(n.a,s.a,!1,i,"data-v-4727d0dc",null);t.a=c.exports},sUNP:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"profile"},[r("b-form",{on:{submit:e.handleProfileSubmit}},[r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",{attrs:{label:"First Name"}},[r("b-form-input",{attrs:{type:"text"},model:{value:e.profile.firstName,callback:function(t){e.$set(e.profile,"firstName",t)},expression:"profile.firstName"}})],1)],1),e._v(" "),r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",{attrs:{label:"Last Name"}},[r("b-form-input",{attrs:{type:"text"},model:{value:e.profile.lastName,callback:function(t){e.$set(e.profile,"lastName",t)},expression:"profile.lastName"}})],1)],1)],1),e._v(" "),r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",{attrs:{label:"Email"}},[r("b-form-input",{attrs:{type:"email",required:""},model:{value:e.profile.email,callback:function(t){e.$set(e.profile,"email",t)},expression:"profile.email"}})],1)],1)],1),e._v(" "),r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",{attrs:{label:"Password"}},[r("b-form-input",{attrs:{type:"password"},model:{value:e.profile.password,callback:function(t){e.$set(e.profile,"password",t)},expression:"profile.password"}})],1)],1),e._v(" "),r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-form-group",{attrs:{label:"Confrmation"}},[r("b-form-input",{attrs:{type:"password"},model:{value:e.profile.confirmation,callback:function(t){e.$set(e.profile,"confirmation",t)},expression:"profile.confirmation"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"button-box"},[r("b-button",{attrs:{type:"submit",variant:"primary",disabled:e.saving}},[e._v("Save")])],1),e._v(" "),r("div",{staticClass:"api-key-invite form-inline float-right"},[r("label",[e._v("API key")]),e._v(" "),r("b-form-input",{attrs:{readonly:""},model:{value:e.profile.apiKey,callback:function(t){e.$set(e.profile,"apiKey",t)},expression:"profile.apiKey"}}),e._v(" "),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:e.modalId(1,"regenerate-api-key"),expression:"modalId(1, 'regenerate-api-key')"}],attrs:{variant:"warning",size:"sm"}},[e._v("Regenerate")]),e._v(" "),r("b-modal",{attrs:{id:e.modalId(1,"regenerate-api-key"),"button-size":"sm",title:"Generate new API key?",size:"sm",centered:"","ok-variant":"warning","ok-title":"Create new"},on:{ok:e.handleRegenerageApiKey}},[r("p",[e._v("All application that uses this API key wouldn't work until new key promoted to its instances.")]),e._v(" "),r("p",[e._v("Are absolutely sure you want to create new API key?")])]),e._v(" "),r("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-invite",modifiers:{"modal-invite":!0}}],attrs:{variant:"success",size:"sm"}},[e._v("➕ Invite link")]),e._v(" "),r("b-modal",{staticClass:"invite-link-modal",attrs:{id:"modal-invite",title:"Invite link generate",centered:"","button-size":"sm","ok-only":!0,"ok-title":"close"}},[r("b-row",[r("b-col",{attrs:{md:"4",sm:"4"}},[r("b-dropdown",{staticClass:"m-2",attrs:{text:e.invite.org.name,split:"",size:"sm",left:""}},e._l(e.organizations,function(t){return e.organizations?r("b-dropdown-item",{key:t.id,on:{click:function(r){e.handleInviteOrgChange(t)}}},[e._v(e._s(t.name))]):e._e()}))],1),e._v(" "),r("b-col",{attrs:{md:"8",sm:"8"}},[r("b-form-input",{attrs:{placeholder:"E-Mail"},model:{value:e.invite.email,callback:function(t){e.$set(e.invite,"email",t)},expression:"invite.email"}},[e._v(">")])],1)],1),e._v(" "),r("b-row",{staticClass:"link-wrap"},[r("b-col",{attrs:{md:"12",sm:"12"}},[r("b-form-group",{attrs:{label:"Invitation link"}},[r("b-form-input",{attrs:{readonly:""},model:{value:e.invite.link,callback:function(t){e.$set(e.invite,"link",t)},expression:"invite.link"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"button-box"},[r("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(t){e.handleGenerateLink(!1)}}},[e._v("generate link")]),e._v(" "),r("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(t){e.handleGenerateLink(!0)}}},[e._v("send link")])],1)],1)],1)],1)],1)},n=[],s={render:a,staticRenderFns:n};t.a=s},sgfU:function(e,t){},sjCv:function(e,t){},snkZ:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-form",{staticClass:"forgot col-lg-4 col-md-8 col-sm-12 col-xs-12",on:{submit:e.submit}},[r("h2",{staticClass:"center"},[e._v("Restore password"),r("br"),e._v("for")]),e._v(" "),r("h1",{staticClass:"center"},[e._v("PM415")]),e._v(" "),r("b-form-group",[r("b-form-input",{attrs:{type:"email",required:"",placeholder:"Email address"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),r("template",{slot:"description"},[r("a",{staticClass:"small float-right",attrs:{href:"#"},on:{click:function(t){e.onChangeForm&&e.onChangeForm("login")}}},[e._v("Rembemer password?")])])],2),e._v(" "),r("div",{staticClass:"button-box center"},[r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Restore")])],1)],1)},n=[],s={render:a,staticRenderFns:n};t.a=s},tD9H:function(e,t){},tTud:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{staticClass:"card col-lg-12",attrs:{"bg-variant":"light"}},[r("div",{staticClass:"Items"},[r("div",{staticClass:"container-fluid row"},[r("label",{staticClass:"header col-12"},[r("h2",[e._v(e._s(this.title))])]),e._v(" "),r("div",{staticClass:"col-4"},[r("b-form-group",{attrs:{label:"Group by:","label-for":"checkboxGroup","label-cols":4}},[r("b-dropdown",{staticClass:"m-2",attrs:{text:e.currentGroupBy,name:"groupBy",size:"sm"}},e._l(e.groupByList,function(t){return e.groupByList?r("b-dropdown-item",{key:t,attrs:{size:"sm"},on:{click:function(r){e.handleChangeGroupBy(t)}}},[e._v(e._s(t)+"\n            ")]):e._e()}))],1)],1),e._v(" "),r("div",{staticClass:"col-8"},[r("b-form-group",{staticClass:"float-right",attrs:{label:"Show: ","label-for":"statuses"}},[r("b-form-checkbox-group",{staticClass:"float-right",attrs:{id:"statuses",name:"statuses",options:e.options},on:{change:e.sortSelected},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),e._v(" "),r("div",[r("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modalnew",modifiers:{modalnew:!0}}],staticClass:"float-right",staticStyle:{"margin-top":"2em"},attrs:{variant:"success",size:"sm"}},[e._v("➕ New item")]),e._v(" "),r("b-btn",{staticClass:"float-right",staticStyle:{"margin-top":"2em"},attrs:{variant:"secondary",size:"sm"},on:{click:function(t){e.$router.go(-1)}}},[e._v(" Back ")])],1)],1)],1),e._v(" "),r("b-form-group",{staticClass:"col-6 mb-2",attrs:{label:"Filter"}},[r("b-input-group",[r("b-form-input",{attrs:{placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),r("b-input-group-append",[r("b-btn",{attrs:{size:"sm",disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear")])],1)],1)],1)],1),e._v(" "),e._l(e.selected,function(t){return r("div",{key:t.id,staticClass:"container-fluid row"},[r("h6",[e._v(e._s(t.name))]),e._v(" "),r("b-table",{attrs:{bordered:"",fixed:"",responsive:"",items:t.filteredItems,fields:e.itemsFields,"thead-class":"hidden_header",filter:e.filter},scopedSlots:e._u([{key:"title",fn:function(t){return[r("a",{directives:[{name:"b-modal",rawName:"v-b-modal.edit",modifiers:{edit:!0}}],attrs:{href:"#"},on:{click:function(r){e.setCurrentItem(t.item)}}},[e._v("\n            "+e._s(t.item.title)+"\n          ")])]}},{key:"author",fn:function(t){return[r("a",{attrs:{href:"#"},on:{click:function(r){e.filter=t.item.author}}},[e._v("\n            "+e._s(t.item.author)+"\n          ")]),e._v(" "),r("div",{staticStyle:{float:"right"}},[r("b-button",{staticStyle:{"vertical-align":"right"},attrs:{variant:"primary",size:"sm",to:"item/?orgId="+e.$store.state.organization.id+"&itemId="+t.item.id}},[e._v("🖉")]),e._v(" "),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.delete",modifiers:{delete:!0}}],staticStyle:{},attrs:{variant:"danger",size:"sm"},on:{click:function(r){e.setCurrentItem(t.item)}}},[e._v("✖")])],1)]}}])})],1)}),e._v(" "),r("b-modal",{attrs:{id:"edit",title:"Edit","button-size":"sm",size:"sm",centered:"","ok-variant":"submit","ok-title":"submit"},on:{ok:function(t){e.handleItemEditTitle(e.currentItem,e.newNameOldItem)}}},[r("b-form-input",{attrs:{placeholder:e.currentItem.title},model:{value:e.newNameOldItem,callback:function(t){e.newNameOldItem=t},expression:"newNameOldItem"}})],1),e._v(" "),r("b-modal",{attrs:{id:"delete",title:"Delete "+e.currentItem.title+"?","button-size":"sm",size:"sm",centered:"","body-class":"zero-size","ok-variant":"danger","ok-title":"delete"},on:{ok:function(t){e.handleItemDelete(e.currentItem)}}}),e._v(" "),r("b-modal",{attrs:{id:"modalnew","button-size":"sm",title:"New item",size:"lg",centered:""},on:{ok:function(t){e.handleNewItem()}}},[r("b-form-group",{attrs:{label:"Title: ","label-for":"title",horizontal:""}},[r("b-form-input",{attrs:{placeholder:"Title item",id:"title"},model:{value:e.newItem.title,callback:function(t){e.$set(e.newItem,"title",t)},expression:"newItem.title"}},[e._v(">")])],1),e._v(" "),r("div",[r("b-form-group",{attrs:{label:"Description: ","label-for":"description",horizontal:""}},[r("b-form-textarea",{attrs:{id:"description",placeholder:"Title description",rows:3,"max-rows":6},model:{value:e.newItem.description,callback:function(t){e.$set(e.newItem,"description",t)},expression:"newItem.description"}})],1)],1),e._v(" "),r("div",{staticClass:"newItemtable row"},[r("div",{staticClass:"col"},[r("b-form-group",{attrs:{label:"Status: ","label-for":"labelStatus"}},[r("b-dropdown",{staticClass:"statuses m-2",attrs:{text:e.newItem.status.name,name:"newItemStatuses",size:"sm"}},e._l(e.objStatuses,function(t){return e.objStatuses?r("b-dropdown-item",{key:t.id,attrs:{size:"sm"},on:{click:function(r){e.handleItemNewItemSetField(t,"status")}}},[e._v(e._s(t.name)+"\n              ")]):e._e()}))],1)],1),e._v(" "),r("div",{staticClass:"col"},[r("b-form-group",{attrs:{label:"Assignee: ","label-for":"newItemAssignee"}},[r("b-dropdown",{staticClass:"users m-2",attrs:{text:e.handleUsername(e.newItem.assignee),name:"newItemAssignee",size:"sm"}},e._l(e.users,function(t){return r("b-dropdown-item",{key:t.userId,attrs:{size:"sm"},on:{click:function(r){e.handleItemNewItemSetField(t,"assignee")}}},[e._v(e._s(e.handleUsername(t))+"\n              ")])}))],1)],1),e._v(" "),r("div",{staticClass:"col"},[r("b-form-group",{attrs:{label:"Points: ","label-for":"newItemPoints"}},[r("b-dropdown",{staticClass:"points m-2",attrs:{text:String(e.newItem.points),name:"newItemPoints",size:"sm"}},e._l(e.pointsVar,function(t){return r("b-dropdown-item",{key:t,attrs:{size:"sm"},on:{click:function(r){e.handleItemNewItemSetField(t,"points")}}},[e._v(e._s(t)+"\n                ")])}))],1)],1)])],1)],2)])},n=[],s={render:a,staticRenderFns:n};t.a=s},tmnl:function(e,t){},tr4E:function(e,t,r){"use strict";var a=r("Xxa5"),n=r.n(a),s=r("exGp"),o=r.n(s),i=r("L/hj"),c=r("Q7hp"),u=r.n(c),l=r("DWaH");t.a={name:"Topbar",data:function(){return{}},computed:{username:function(){var e=this.$store.state.user,t=e.firstName,r=e.lastName,a=e.email;return t&&r?t+" "+r:t||(r||a)}},methods:{handleOrgChange:function(e){var t=this;return o()(n.a.mark(function a(){var s,o,i,c,d;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.$loading(!0),a.next=4,t.axios.post("/api/org/switch/"+e.id);case 4:if(s=a.sent,o=u()(s,"data.success"),i=u()(s,"data.message"),c=u()(s,"data.token"),d=u()(s,"data.organization"),o&&c&&d){a.next=11;break}throw new Error(i);case 11:r.i(l.a)()&&r.i(l.d)("token",c,{expires:"7D"}),t.$store.commit({type:"token",token:c}),t.$store.commit({type:"organization",name:d.name,id:d.id}),window.location.reload(),a.next=20;break;case 17:return a.prev=17,a.t0=a.catch(0),a.abrupt("return",t.$errorMessage.show(a.t0));case 20:return a.prev=20,t.$loading(!1),a.finish(20);case 23:case"end":return a.stop()}},a,t,[[0,17,20,23]])}))()},handleLogout:function(){r.i(i.a)(this)}},components:{}}},uvR8:function(e,t){},"w0/1":function(e,t){},xJD8:function(e,t,r){"use strict";var a=r("Xxa5"),n=r.n(a),s=r("//Fk"),o=r.n(s),i=r("exGp"),c=r.n(i),u=r("L/hj"),l=r("rZpG"),d=r("hU05"),m=r("pEqT"),p=r("DWaH"),f=r("Q7hp"),v=r.n(f);t.a={name:"App",mounted:function(){var e=this;return c()(n.a.mark(function t(){var a,s,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.$store.state.token,!a&&r.i(p.a)()&&(a=r.i(p.b)("token")),!a){t.next=21;break}return e.axios.defaults.headers.common.Authorization="Bearer "+a,t.prev=4,t.next=7,e.axios.get("/api/user");case 7:if(s=t.sent,!(i=v()(s,"data.user"))){t.next=15;break}i.organization=v()(s,"data.organization"),e.$store.commit({type:"user",user:i}),e.$store.commit({type:"token",token:a}),t.next=16;break;case 15:throw new Error("Token invalid");case 16:t.next=21;break;case 18:return t.prev=18,t.t0=t.catch(4),t.abrupt("return",r.i(u.a)(e));case 21:e.axios.interceptors.response.use(function(t){return 403===t.status||401===t.status?r.i(u.a)(e):t},function(e){return o.a.reject(e)}),e.$loading(!1);case 23:case"end":return t.stop()}},t,e,[[4,18]])}))()},data:function(){return{}},methods:{},sockets:{},components:{topbar:l.a,ResetPassword:m.a,account:d.a}}},zDUi:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-form",{staticClass:"verify col-lg-4 col-md-8 col-sm-12 col-xs-12",on:{submit:e.handlelogin}},[r("h1",{staticClass:"center"},[e._v(e._s(e.message))]),e._v(" "),!0===e.showLoginButton?r("div",{staticClass:"button-box center"},[r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Login")])],1):e._e()])},n=[],s={render:a,staticRenderFns:n};t.a=s},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.59d30a4c334a237e44f3.js.map